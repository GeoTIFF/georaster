!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).GeoRaster={})}(this,(function(e){"use strict";function t(e,t,l){var i=void 0===t?null:t,n=function(e,t){var l=atob(e);if(t){for(var i=new Uint8Array(l.length),n=0,c=l.length;n<c;++n)i[n]=l.charCodeAt(n);return String.fromCharCode.apply(null,new Uint16Array(i.buffer))}return l}(e,void 0!==l&&l),c=n.indexOf("\n",10)+1,a=n.substring(c)+(i?"//# sourceMappingURL="+i:""),r=new Blob([a],{type:"application/javascript"});return URL.createObjectURL(r)}var l,i,n,c,a=(l="Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwohZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7InVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWxUaGlzP2dsb2JhbFRoaXM6InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OiJ1bmRlZmluZWQiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDoidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGYmJnNlbGY7dmFyIGU9e2V4cG9ydHM6e319OyhmdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUsdCxyKXtyZXR1cm4gdCBpbiBlP09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse3ZhbHVlOnIsZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTplW3RdPXIsZX1mdW5jdGlvbiByKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIGV9ZnVuY3Rpb24gbihlLHQpeyhudWxsPT10fHx0PmUubGVuZ3RoKSYmKHQ9ZS5sZW5ndGgpO2Zvcih2YXIgcj0wLG49bmV3IEFycmF5KHQpO3I8dDtyKyspbltyXT1lW3JdO3JldHVybiBufWZ1bmN0aW9uIGkoZSx0KXtpZihlKXtpZigic3RyaW5nIj09dHlwZW9mIGUpcmV0dXJuIG4oZSx0KTt2YXIgcj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkuc2xpY2UoOCwtMSk7cmV0dXJuIk9iamVjdCI9PT1yJiZlLmNvbnN0cnVjdG9yJiYocj1lLmNvbnN0cnVjdG9yLm5hbWUpLCJNYXAiPT09cnx8IlNldCI9PT1yP0FycmF5LmZyb20oZSk6IkFyZ3VtZW50cyI9PT1yfHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChyKT9uKGUsdCk6dm9pZCAwfX1mdW5jdGlvbiBhKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX1mdW5jdGlvbiBvKGUsdCl7cmV0dXJuIHIoZSl8fGZ1bmN0aW9uKGUsdCl7dmFyIHI9bnVsbD09ZT9udWxsOiJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZlW1N5bWJvbC5pdGVyYXRvcl18fGVbIkBAaXRlcmF0b3IiXTtpZihudWxsIT1yKXt2YXIgbixpLGE9W10sbz0hMCxzPSExO3RyeXtmb3Iocj1yLmNhbGwoZSk7IShvPShuPXIubmV4dCgpKS5kb25lKSYmKGEucHVzaChuLnZhbHVlKSwhdHx8YS5sZW5ndGghPT10KTtvPSEwKTt9Y2F0Y2goZSl7cz0hMCxpPWV9ZmluYWxseXt0cnl7b3x8bnVsbD09ci5yZXR1cm58fHIucmV0dXJuKCl9ZmluYWxseXtpZihzKXRocm93IGl9fXJldHVybiBhfX0oZSx0KXx8aShlLHQpfHxhKCl9ZnVuY3Rpb24gcyhlLHQscixuLGksYSxvKXt0cnl7dmFyIHM9ZVthXShvKSx1PXMudmFsdWV9Y2F0Y2goZSl7cmV0dXJuIHZvaWQgcihlKX1zLmRvbmU/dCh1KTpQcm9taXNlLnJlc29sdmUodSkudGhlbihuLGkpfWZ1bmN0aW9uIHUoZSl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxyPWFyZ3VtZW50cztyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKG4saSl7dmFyIGE9ZS5hcHBseSh0LHIpO2Z1bmN0aW9uIG8oZSl7cyhhLG4saSxvLHUsIm5leHQiLGUpfWZ1bmN0aW9uIHUoZSl7cyhhLG4saSxvLHUsInRocm93IixlKX1vKHZvaWQgMCl9KSl9fWZ1bmN0aW9uIGYoZSx0KXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG49dFtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCwidmFsdWUiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG4ua2V5LG4pfX1mdW5jdGlvbiBsKGUsdCxyKXtyZXR1cm4gdCYmZihlLnByb3RvdHlwZSx0KSxyJiZmKGUsciksZX1mdW5jdGlvbiBjKGUsdCl7cmV0dXJuIGM9T2JqZWN0LnNldFByb3RvdHlwZU9mfHxmdW5jdGlvbihlLHQpe3JldHVybiBlLl9fcHJvdG9fXz10LGV9LGMoZSx0KX1mdW5jdGlvbiBoKGUsdCl7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uIik7ZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOmUsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLHQmJmMoZSx0KX1mdW5jdGlvbiBkKGUpe3JldHVybiBkPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSxkKGUpfWZ1bmN0aW9uIHAoZSl7aWYodm9pZCAwPT09ZSl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZCIpO3JldHVybiBlfWZ1bmN0aW9uIG0oZSx0KXtpZih0JiYoIm9iamVjdCI9PT1kKHQpfHwiZnVuY3Rpb24iPT10eXBlb2YgdCkpcmV0dXJuIHQ7aWYodm9pZCAwIT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZCIpO3JldHVybiBwKGUpfWZ1bmN0aW9uIHYoZSl7cmV0dXJuIHY9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZjpmdW5jdGlvbihlKXtyZXR1cm4gZS5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZihlKX0sdihlKX1mdW5jdGlvbiBnKCl7aWYoInVuZGVmaW5lZCI9PXR5cGVvZiBSZWZsZWN0fHwhUmVmbGVjdC5jb25zdHJ1Y3QpcmV0dXJuITE7aWYoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZigiZnVuY3Rpb24iPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKGUpe3JldHVybiExfX1mdW5jdGlvbiB5KGUsdCxyKXtyZXR1cm4geT1nKCk/UmVmbGVjdC5jb25zdHJ1Y3Q6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPVtudWxsXTtuLnB1c2guYXBwbHkobix0KTt2YXIgaT1uZXcoRnVuY3Rpb24uYmluZC5hcHBseShlLG4pKTtyZXR1cm4gciYmYyhpLHIucHJvdG90eXBlKSxpfSx5LmFwcGx5KG51bGwsYXJndW1lbnRzKX1mdW5jdGlvbiB3KGUpe3ZhciB0PSJmdW5jdGlvbiI9PXR5cGVvZiBNYXA/bmV3IE1hcDp2b2lkIDA7cmV0dXJuIHc9ZnVuY3Rpb24oZSl7aWYobnVsbD09PWV8fChyPWUsLTE9PT1GdW5jdGlvbi50b1N0cmluZy5jYWxsKHIpLmluZGV4T2YoIltuYXRpdmUgY29kZV0iKSkpcmV0dXJuIGU7dmFyIHI7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcigiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24iKTtpZih2b2lkIDAhPT10KXtpZih0LmhhcyhlKSlyZXR1cm4gdC5nZXQoZSk7dC5zZXQoZSxuKX1mdW5jdGlvbiBuKCl7cmV0dXJuIHkoZSxhcmd1bWVudHMsdih0aGlzKS5jb25zdHJ1Y3Rvcil9cmV0dXJuIG4ucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTpuLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLGMobixlKX0sdyhlKX1mdW5jdGlvbiBiKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIil9dmFyIGs9e2V4cG9ydHM6e319OyFmdW5jdGlvbihlKXt2YXIgdD1mdW5jdGlvbihlKXt2YXIgdCxyPU9iamVjdC5wcm90b3R5cGUsbj1yLmhhc093blByb3BlcnR5LGk9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbD9TeW1ib2w6e30sYT1pLml0ZXJhdG9yfHwiQEBpdGVyYXRvciIsbz1pLmFzeW5jSXRlcmF0b3J8fCJAQGFzeW5jSXRlcmF0b3IiLHM9aS50b1N0cmluZ1RhZ3x8IkBAdG9TdHJpbmdUYWciO2Z1bmN0aW9uIHUoZSx0LHIpe3JldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHt2YWx1ZTpyLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSksZVt0XX10cnl7dSh7fSwiIil9Y2F0Y2goZSl7dT1mdW5jdGlvbihlLHQscil7cmV0dXJuIGVbdF09cn19ZnVuY3Rpb24gZihlLHQscixuKXt2YXIgaT10JiZ0LnByb3RvdHlwZSBpbnN0YW5jZW9mIGc/dDpnLGE9T2JqZWN0LmNyZWF0ZShpLnByb3RvdHlwZSksbz1uZXcgTyhufHxbXSk7cmV0dXJuIGEuX2ludm9rZT1mdW5jdGlvbihlLHQscil7dmFyIG49YztyZXR1cm4gZnVuY3Rpb24oaSxhKXtpZihuPT09cCl0aHJvdyBuZXcgRXJyb3IoIkdlbmVyYXRvciBpcyBhbHJlYWR5IHJ1bm5pbmciKTtpZihuPT09bSl7aWYoInRocm93Ij09PWkpdGhyb3cgYTtyZXR1cm4gRCgpfWZvcihyLm1ldGhvZD1pLHIuYXJnPWE7Oyl7dmFyIG89ci5kZWxlZ2F0ZTtpZihvKXt2YXIgcz1QKG8scik7aWYocyl7aWYocz09PXYpY29udGludWU7cmV0dXJuIHN9fWlmKCJuZXh0Ij09PXIubWV0aG9kKXIuc2VudD1yLl9zZW50PXIuYXJnO2Vsc2UgaWYoInRocm93Ij09PXIubWV0aG9kKXtpZihuPT09Yyl0aHJvdyBuPW0sci5hcmc7ci5kaXNwYXRjaEV4Y2VwdGlvbihyLmFyZyl9ZWxzZSJyZXR1cm4iPT09ci5tZXRob2QmJnIuYWJydXB0KCJyZXR1cm4iLHIuYXJnKTtuPXA7dmFyIHU9bChlLHQscik7aWYoIm5vcm1hbCI9PT11LnR5cGUpe2lmKG49ci5kb25lP206aCx1LmFyZz09PXYpY29udGludWU7cmV0dXJue3ZhbHVlOnUuYXJnLGRvbmU6ci5kb25lfX0idGhyb3ciPT09dS50eXBlJiYobj1tLHIubWV0aG9kPSJ0aHJvdyIsci5hcmc9dS5hcmcpfX19KGUscixvKSxhfWZ1bmN0aW9uIGwoZSx0LHIpe3RyeXtyZXR1cm57dHlwZToibm9ybWFsIixhcmc6ZS5jYWxsKHQscil9fWNhdGNoKGUpe3JldHVybnt0eXBlOiJ0aHJvdyIsYXJnOmV9fX1lLndyYXA9Zjt2YXIgYz0ic3VzcGVuZGVkU3RhcnQiLGg9InN1c3BlbmRlZFlpZWxkIixwPSJleGVjdXRpbmciLG09ImNvbXBsZXRlZCIsdj17fTtmdW5jdGlvbiBnKCl7fWZ1bmN0aW9uIHkoKXt9ZnVuY3Rpb24gdygpe312YXIgYj17fTt1KGIsYSwoZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pKTt2YXIgaz1PYmplY3QuZ2V0UHJvdG90eXBlT2YseD1rJiZrKGsoVShbXSkpKTt4JiZ4IT09ciYmbi5jYWxsKHgsYSkmJihiPXgpO3ZhciBBPXcucHJvdG90eXBlPWcucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoYik7ZnVuY3Rpb24gXyhlKXtbIm5leHQiLCJ0aHJvdyIsInJldHVybiJdLmZvckVhY2goKGZ1bmN0aW9uKHQpe3UoZSx0LChmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5faW52b2tlKHQsZSl9KSl9KSl9ZnVuY3Rpb24gSShlLHQpe2Z1bmN0aW9uIHIoaSxhLG8scyl7dmFyIHU9bChlW2ldLGUsYSk7aWYoInRocm93IiE9PXUudHlwZSl7dmFyIGY9dS5hcmcsYz1mLnZhbHVlO3JldHVybiBjJiYib2JqZWN0Ij09PWQoYykmJm4uY2FsbChjLCJfX2F3YWl0Iik/dC5yZXNvbHZlKGMuX19hd2FpdCkudGhlbigoZnVuY3Rpb24oZSl7cigibmV4dCIsZSxvLHMpfSksKGZ1bmN0aW9uKGUpe3IoInRocm93IixlLG8scyl9KSk6dC5yZXNvbHZlKGMpLnRoZW4oKGZ1bmN0aW9uKGUpe2YudmFsdWU9ZSxvKGYpfSksKGZ1bmN0aW9uKGUpe3JldHVybiByKCJ0aHJvdyIsZSxvLHMpfSkpfXModS5hcmcpfXZhciBpO3RoaXMuX2ludm9rZT1mdW5jdGlvbihlLG4pe2Z1bmN0aW9uIGEoKXtyZXR1cm4gbmV3IHQoKGZ1bmN0aW9uKHQsaSl7cihlLG4sdCxpKX0pKX1yZXR1cm4gaT1pP2kudGhlbihhLGEpOmEoKX19ZnVuY3Rpb24gUChlLHIpe3ZhciBuPWUuaXRlcmF0b3Jbci5tZXRob2RdO2lmKG49PT10KXtpZihyLmRlbGVnYXRlPW51bGwsInRocm93Ij09PXIubWV0aG9kKXtpZihlLml0ZXJhdG9yLnJldHVybiYmKHIubWV0aG9kPSJyZXR1cm4iLHIuYXJnPXQsUChlLHIpLCJ0aHJvdyI9PT1yLm1ldGhvZCkpcmV0dXJuIHY7ci5tZXRob2Q9InRocm93IixyLmFyZz1uZXcgVHlwZUVycm9yKCJUaGUgaXRlcmF0b3IgZG9lcyBub3QgcHJvdmlkZSBhICd0aHJvdycgbWV0aG9kIil9cmV0dXJuIHZ9dmFyIGk9bChuLGUuaXRlcmF0b3Isci5hcmcpO2lmKCJ0aHJvdyI9PT1pLnR5cGUpcmV0dXJuIHIubWV0aG9kPSJ0aHJvdyIsci5hcmc9aS5hcmcsci5kZWxlZ2F0ZT1udWxsLHY7dmFyIGE9aS5hcmc7cmV0dXJuIGE/YS5kb25lPyhyW2UucmVzdWx0TmFtZV09YS52YWx1ZSxyLm5leHQ9ZS5uZXh0TG9jLCJyZXR1cm4iIT09ci5tZXRob2QmJihyLm1ldGhvZD0ibmV4dCIsci5hcmc9dCksci5kZWxlZ2F0ZT1udWxsLHYpOmE6KHIubWV0aG9kPSJ0aHJvdyIsci5hcmc9bmV3IFR5cGVFcnJvcigiaXRlcmF0b3IgcmVzdWx0IGlzIG5vdCBhbiBvYmplY3QiKSxyLmRlbGVnYXRlPW51bGwsdil9ZnVuY3Rpb24gUyhlKXt2YXIgdD17dHJ5TG9jOmVbMF19OzEgaW4gZSYmKHQuY2F0Y2hMb2M9ZVsxXSksMiBpbiBlJiYodC5maW5hbGx5TG9jPWVbMl0sdC5hZnRlckxvYz1lWzNdKSx0aGlzLnRyeUVudHJpZXMucHVzaCh0KX1mdW5jdGlvbiBUKGUpe3ZhciB0PWUuY29tcGxldGlvbnx8e307dC50eXBlPSJub3JtYWwiLGRlbGV0ZSB0LmFyZyxlLmNvbXBsZXRpb249dH1mdW5jdGlvbiBPKGUpe3RoaXMudHJ5RW50cmllcz1be3RyeUxvYzoicm9vdCJ9XSxlLmZvckVhY2goUyx0aGlzKSx0aGlzLnJlc2V0KCEwKX1mdW5jdGlvbiBVKGUpe2lmKGUpe3ZhciByPWVbYV07aWYocilyZXR1cm4gci5jYWxsKGUpO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBlLm5leHQpcmV0dXJuIGU7aWYoIWlzTmFOKGUubGVuZ3RoKSl7dmFyIGk9LTEsbz1mdW5jdGlvbiByKCl7Zm9yKDsrK2k8ZS5sZW5ndGg7KWlmKG4uY2FsbChlLGkpKXJldHVybiByLnZhbHVlPWVbaV0sci5kb25lPSExLHI7cmV0dXJuIHIudmFsdWU9dCxyLmRvbmU9ITAscn07cmV0dXJuIG8ubmV4dD1vfX1yZXR1cm57bmV4dDpEfX1mdW5jdGlvbiBEKCl7cmV0dXJue3ZhbHVlOnQsZG9uZTohMH19cmV0dXJuIHkucHJvdG90eXBlPXcsdShBLCJjb25zdHJ1Y3RvciIsdyksdSh3LCJjb25zdHJ1Y3RvciIseSkseS5kaXNwbGF5TmFtZT11KHcscywiR2VuZXJhdG9yRnVuY3Rpb24iKSxlLmlzR2VuZXJhdG9yRnVuY3Rpb249ZnVuY3Rpb24oZSl7dmFyIHQ9ImZ1bmN0aW9uIj09dHlwZW9mIGUmJmUuY29uc3RydWN0b3I7cmV0dXJuISF0JiYodD09PXl8fCJHZW5lcmF0b3JGdW5jdGlvbiI9PT0odC5kaXNwbGF5TmFtZXx8dC5uYW1lKSl9LGUubWFyaz1mdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZihlLHcpOihlLl9fcHJvdG9fXz13LHUoZSxzLCJHZW5lcmF0b3JGdW5jdGlvbiIpKSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEEpLGV9LGUuYXdyYXA9ZnVuY3Rpb24oZSl7cmV0dXJue19fYXdhaXQ6ZX19LF8oSS5wcm90b3R5cGUpLHUoSS5wcm90b3R5cGUsbywoZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pKSxlLkFzeW5jSXRlcmF0b3I9SSxlLmFzeW5jPWZ1bmN0aW9uKHQscixuLGksYSl7dm9pZCAwPT09YSYmKGE9UHJvbWlzZSk7dmFyIG89bmV3IEkoZih0LHIsbixpKSxhKTtyZXR1cm4gZS5pc0dlbmVyYXRvckZ1bmN0aW9uKHIpP286by5uZXh0KCkudGhlbigoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZG9uZT9lLnZhbHVlOm8ubmV4dCgpfSkpfSxfKEEpLHUoQSxzLCJHZW5lcmF0b3IiKSx1KEEsYSwoZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pKSx1KEEsInRvU3RyaW5nIiwoZnVuY3Rpb24oKXtyZXR1cm4iW29iamVjdCBHZW5lcmF0b3JdIn0pKSxlLmtleXM9ZnVuY3Rpb24oZSl7dmFyIHQ9W107Zm9yKHZhciByIGluIGUpdC5wdXNoKHIpO3JldHVybiB0LnJldmVyc2UoKSxmdW5jdGlvbiByKCl7Zm9yKDt0Lmxlbmd0aDspe3ZhciBuPXQucG9wKCk7aWYobiBpbiBlKXJldHVybiByLnZhbHVlPW4sci5kb25lPSExLHJ9cmV0dXJuIHIuZG9uZT0hMCxyfX0sZS52YWx1ZXM9VSxPLnByb3RvdHlwZT17Y29uc3RydWN0b3I6TyxyZXNldDpmdW5jdGlvbihlKXtpZih0aGlzLnByZXY9MCx0aGlzLm5leHQ9MCx0aGlzLnNlbnQ9dGhpcy5fc2VudD10LHRoaXMuZG9uZT0hMSx0aGlzLmRlbGVnYXRlPW51bGwsdGhpcy5tZXRob2Q9Im5leHQiLHRoaXMuYXJnPXQsdGhpcy50cnlFbnRyaWVzLmZvckVhY2goVCksIWUpZm9yKHZhciByIGluIHRoaXMpInQiPT09ci5jaGFyQXQoMCkmJm4uY2FsbCh0aGlzLHIpJiYhaXNOYU4oK3Iuc2xpY2UoMSkpJiYodGhpc1tyXT10KX0sc3RvcDpmdW5jdGlvbigpe3RoaXMuZG9uZT0hMDt2YXIgZT10aGlzLnRyeUVudHJpZXNbMF0uY29tcGxldGlvbjtpZigidGhyb3ciPT09ZS50eXBlKXRocm93IGUuYXJnO3JldHVybiB0aGlzLnJ2YWx9LGRpc3BhdGNoRXhjZXB0aW9uOmZ1bmN0aW9uKGUpe2lmKHRoaXMuZG9uZSl0aHJvdyBlO3ZhciByPXRoaXM7ZnVuY3Rpb24gaShuLGkpe3JldHVybiBzLnR5cGU9InRocm93IixzLmFyZz1lLHIubmV4dD1uLGkmJihyLm1ldGhvZD0ibmV4dCIsci5hcmc9dCksISFpfWZvcih2YXIgYT10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7YT49MDstLWEpe3ZhciBvPXRoaXMudHJ5RW50cmllc1thXSxzPW8uY29tcGxldGlvbjtpZigicm9vdCI9PT1vLnRyeUxvYylyZXR1cm4gaSgiZW5kIik7aWYoby50cnlMb2M8PXRoaXMucHJldil7dmFyIHU9bi5jYWxsKG8sImNhdGNoTG9jIiksZj1uLmNhbGwobywiZmluYWxseUxvYyIpO2lmKHUmJmYpe2lmKHRoaXMucHJldjxvLmNhdGNoTG9jKXJldHVybiBpKG8uY2F0Y2hMb2MsITApO2lmKHRoaXMucHJldjxvLmZpbmFsbHlMb2MpcmV0dXJuIGkoby5maW5hbGx5TG9jKX1lbHNlIGlmKHUpe2lmKHRoaXMucHJldjxvLmNhdGNoTG9jKXJldHVybiBpKG8uY2F0Y2hMb2MsITApfWVsc2V7aWYoIWYpdGhyb3cgbmV3IEVycm9yKCJ0cnkgc3RhdGVtZW50IHdpdGhvdXQgY2F0Y2ggb3IgZmluYWxseSIpO2lmKHRoaXMucHJldjxvLmZpbmFsbHlMb2MpcmV0dXJuIGkoby5maW5hbGx5TG9jKX19fX0sYWJydXB0OmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByPXRoaXMudHJ5RW50cmllcy5sZW5ndGgtMTtyPj0wOy0tcil7dmFyIGk9dGhpcy50cnlFbnRyaWVzW3JdO2lmKGkudHJ5TG9jPD10aGlzLnByZXYmJm4uY2FsbChpLCJmaW5hbGx5TG9jIikmJnRoaXMucHJldjxpLmZpbmFsbHlMb2Mpe3ZhciBhPWk7YnJlYWt9fWEmJigiYnJlYWsiPT09ZXx8ImNvbnRpbnVlIj09PWUpJiZhLnRyeUxvYzw9dCYmdDw9YS5maW5hbGx5TG9jJiYoYT1udWxsKTt2YXIgbz1hP2EuY29tcGxldGlvbjp7fTtyZXR1cm4gby50eXBlPWUsby5hcmc9dCxhPyh0aGlzLm1ldGhvZD0ibmV4dCIsdGhpcy5uZXh0PWEuZmluYWxseUxvYyx2KTp0aGlzLmNvbXBsZXRlKG8pfSxjb21wbGV0ZTpmdW5jdGlvbihlLHQpe2lmKCJ0aHJvdyI9PT1lLnR5cGUpdGhyb3cgZS5hcmc7cmV0dXJuImJyZWFrIj09PWUudHlwZXx8ImNvbnRpbnVlIj09PWUudHlwZT90aGlzLm5leHQ9ZS5hcmc6InJldHVybiI9PT1lLnR5cGU/KHRoaXMucnZhbD10aGlzLmFyZz1lLmFyZyx0aGlzLm1ldGhvZD0icmV0dXJuIix0aGlzLm5leHQ9ImVuZCIpOiJub3JtYWwiPT09ZS50eXBlJiZ0JiYodGhpcy5uZXh0PXQpLHZ9LGZpbmlzaDpmdW5jdGlvbihlKXtmb3IodmFyIHQ9dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xO3Q+PTA7LS10KXt2YXIgcj10aGlzLnRyeUVudHJpZXNbdF07aWYoci5maW5hbGx5TG9jPT09ZSlyZXR1cm4gdGhpcy5jb21wbGV0ZShyLmNvbXBsZXRpb24sci5hZnRlckxvYyksVChyKSx2fX0sY2F0Y2g6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXRoaXMudHJ5RW50cmllcy5sZW5ndGgtMTt0Pj0wOy0tdCl7dmFyIHI9dGhpcy50cnlFbnRyaWVzW3RdO2lmKHIudHJ5TG9jPT09ZSl7dmFyIG49ci5jb21wbGV0aW9uO2lmKCJ0aHJvdyI9PT1uLnR5cGUpe3ZhciBpPW4uYXJnO1Qocil9cmV0dXJuIGl9fXRocm93IG5ldyBFcnJvcigiaWxsZWdhbCBjYXRjaCBhdHRlbXB0Iil9LGRlbGVnYXRlWWllbGQ6ZnVuY3Rpb24oZSxyLG4pe3JldHVybiB0aGlzLmRlbGVnYXRlPXtpdGVyYXRvcjpVKGUpLHJlc3VsdE5hbWU6cixuZXh0TG9jOm59LCJuZXh0Ij09PXRoaXMubWV0aG9kJiYodGhpcy5hcmc9dCksdn19LGV9KGUuZXhwb3J0cyk7dHJ5e3JlZ2VuZXJhdG9yUnVudGltZT10fWNhdGNoKGUpeyJvYmplY3QiPT09KCJ1bmRlZmluZWQiPT10eXBlb2YgZ2xvYmFsVGhpcz8idW5kZWZpbmVkIjpkKGdsb2JhbFRoaXMpKT9nbG9iYWxUaGlzLnJlZ2VuZXJhdG9yUnVudGltZT10OkZ1bmN0aW9uKCJyIiwicmVnZW5lcmF0b3JSdW50aW1lID0gciIpKHQpfX0oayk7Zm9yKHZhciB4PWsuZXhwb3J0cyxBPW5ldyBBcnJheUJ1ZmZlcig0KSxfPW5ldyBGbG9hdDMyQXJyYXkoQSksST1uZXcgVWludDMyQXJyYXkoQSksUD1uZXcgVWludDMyQXJyYXkoNTEyKSxTPW5ldyBVaW50MzJBcnJheSg1MTIpLFQ9MDtUPDI1NjsrK1Qpe3ZhciBPPVQtMTI3O088LTI3PyhQW1RdPTAsUFsyNTZ8VF09MzI3NjgsU1tUXT0yNCxTWzI1NnxUXT0yNCk6TzwtMTQ/KFBbVF09MTAyND4+LU8tMTQsUFsyNTZ8VF09MTAyND4+LU8tMTR8MzI3NjgsU1tUXT0tTy0xLFNbMjU2fFRdPS1PLTEpOk88PTE1PyhQW1RdPU8rMTU8PDEwLFBbMjU2fFRdPU8rMTU8PDEwfDMyNzY4LFNbVF09MTMsU1syNTZ8VF09MTMpOk88MTI4PyhQW1RdPTMxNzQ0LFBbMjU2fFRdPTY0NTEyLFNbVF09MjQsU1syNTZ8VF09MjQpOihQW1RdPTMxNzQ0LFBbMjU2fFRdPTY0NTEyLFNbVF09MTMsU1syNTZ8VF09MTMpfXZhciBVPW5ldyBVaW50MzJBcnJheSgyMDQ4KSxEPW5ldyBVaW50MzJBcnJheSg2NCksRT1uZXcgVWludDMyQXJyYXkoNjQpO1VbMF09MDtmb3IodmFyIFI9MTtSPDEwMjQ7KytSKXtmb3IodmFyIE09Ujw8MTMsQj0wOzA9PSg4Mzg4NjA4Jk0pOylCLT04Mzg4NjA4LE08PD0xO00mPS04Mzg4NjA5LEIrPTk0NzkxMjcwNCxVW1JdPU18Qn1mb3IodmFyIEM9MTAyNDtDPDIwNDg7KytDKVVbQ109OTM5NTI0MDk2KyhDLTEwMjQ8PDEzKTtEWzBdPTA7Zm9yKHZhciBMPTE7TDwzMTsrK0wpRFtMXT1MPDwyMztEWzMxXT0xMTk5NTcwOTQ0LERbMzJdPTIxNDc0ODM2NDg7Zm9yKHZhciBGPTMzO0Y8NjM7KytGKURbRl09MjE0NzQ4MzY0OCsoRi0zMjw8MjMpO0RbNjNdPTMzNDcwNTQ1OTIsRVswXT0wO2Zvcih2YXIgVj0xO1Y8NjQ7KytWKUVbVl09MzI9PT1WPzA6MTAyNDtmdW5jdGlvbiBHKGUpe3ZhciB0PWU+PjEwO3JldHVybiBJWzBdPVVbRVt0XSsoMTAyMyZlKV0rRFt0XSxfWzBdfWZ1bmN0aW9uIGooZSl7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJm51bGwhPWVbU3ltYm9sLml0ZXJhdG9yXXx8bnVsbCE9ZVsiQEBpdGVyYXRvciJdKXJldHVybiBBcnJheS5mcm9tKGUpfWZ1bmN0aW9uIHooZSl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIG4oZSl9KGUpfHxqKGUpfHxpKGUpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpfSgpfXZhciBOPVJlZmxlY3QuZ2V0UHJvdG90eXBlT2YoVWludDhBcnJheSkucHJvdG90eXBlLEs9UmVmbGVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoTixTeW1ib2wudG9TdHJpbmdUYWcpLmdldCxaPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7ZnVuY3Rpb24gSChlKXtyZXR1cm4hIUFycmF5QnVmZmVyLmlzVmlldyhlKSYmIWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDAhPT1LLmNhbGwoZSl9KGUpJiYiW29iamVjdCBEYXRhVmlld10iPT09Wi5jYWxsKGUpfWZ1bmN0aW9uIFkoZSx0KXtpZighSChlKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJGaXJzdCBhcmd1bWVudCB0byBnZXRGbG9hdDE2IGZ1bmN0aW9uIG11c3QgYmUgYSBEYXRhVmlldyIpO2Zvcih2YXIgcj1hcmd1bWVudHMubGVuZ3RoLG49bmV3IEFycmF5KHI+Mj9yLTI6MCksaT0yO2k8cjtpKyspbltpLTJdPWFyZ3VtZW50c1tpXTtyZXR1cm4gRyhlLmdldFVpbnQxNi5hcHBseShlLFt0XS5jb25jYXQobikpKX12YXIgcT1mdW5jdGlvbihlLHQscil7dmFyIG49ciYmci5kZWJ1Z3x8ITE7biYmY29uc29sZS5sb2coImdldHRpbmcgIit0KyIgaW4gIitlKTt2YXIgaT0ib2JqZWN0Ij09PWQoZSk/ZS5vdXRlcjplLGE9IiIuY29uY2F0KHQsJ1xcPSIoW14iXSopIicpO24mJmNvbnNvbGUubG9nKCJwYXR0ZXJuOiIsYSk7dmFyIG89bmV3IFJlZ0V4cChhKS5leGVjKGkpO2lmKG4mJmNvbnNvbGUubG9nKCJtYXRjaDoiLG8pLG8pcmV0dXJuIG9bMV19LFc9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPW5ldyBSZWdFeHAodCkuZXhlYyhlLnNsaWNlKHIpKTtyZXR1cm4gbj9yK24uaW5kZXg6LTF9LFg9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXImJnIuZGVidWd8fCExLGk9ciYmci5zdGFydEluZGV4fHwwO24mJmNvbnNvbGUubG9nKCJzdGFydGluZyBmaW5kVGFnQnlOYW1lIHdpdGgiLHQsIiBhbmQgIixyKTt2YXIgYT1XKGUsIjwiLmNvbmNhdCh0LCJbID5dIiksaSk7aWYobiYmY29uc29sZS5sb2coInN0YXJ0OiIsYSksLTEhPT1hKXt2YXIgbz1lLnNsaWNlKGErdC5sZW5ndGgpLHM9VyhvLCJbIC9dIit0KyI+IiwwKSx1PS0xPT09czt1JiYocz1XKG8sIlsgL10+IiwwKSk7dmFyIGY9YSt0Lmxlbmd0aCtzKzErKHU/MDp0Lmxlbmd0aCkrMTtpZihuJiZjb25zb2xlLmxvZygiZW5kOiIsZiksLTEhPT1mKXt2YXIgbD1lLnNsaWNlKGEsZik7cmV0dXJue2lubmVyOnU/bnVsbDpsLnNsaWNlKGwuaW5kZXhPZigiPiIpKzEsbC5sYXN0SW5kZXhPZigiPCIpKSxvdXRlcjpsLHN0YXJ0OmEsZW5kOmZ9fX19LEo9ZnVuY3Rpb24oZSx0LHIpe2Zvcih2YXIgbixpPVtdLGE9ciYmci5kZWJ1Z3x8ITEsbz1yJiZyLnN0YXJ0SW5kZXh8fDA7bj1YKGUsdCx7ZGVidWc6YSxzdGFydEluZGV4Om99KTspbz1uLmVuZCxpLnB1c2gobik7cmV0dXJuIGEmJmNvbnNvbGUubG9nKCJmaW5kVGFnc0J5TmFtZSBmb3VuZCIsaS5sZW5ndGgsInRhZ3MiKSxpfSxRPXszMTU6IkFydGlzdCIsMjU4OiJCaXRzUGVyU2FtcGxlIiwyNjU6IkNlbGxMZW5ndGgiLDI2NDoiQ2VsbFdpZHRoIiwzMjA6IkNvbG9yTWFwIiwyNTk6IkNvbXByZXNzaW9uIiwzMzQzMjoiQ29weXJpZ2h0IiwzMDY6IkRhdGVUaW1lIiwzMzg6IkV4dHJhU2FtcGxlcyIsMjY2OiJGaWxsT3JkZXIiLDI4OToiRnJlZUJ5dGVDb3VudHMiLDI4ODoiRnJlZU9mZnNldHMiLDI5MToiR3JheVJlc3BvbnNlQ3VydmUiLDI5MDoiR3JheVJlc3BvbnNlVW5pdCIsMzE2OiJIb3N0Q29tcHV0ZXIiLDI3MDoiSW1hZ2VEZXNjcmlwdGlvbiIsMjU3OiJJbWFnZUxlbmd0aCIsMjU2OiJJbWFnZVdpZHRoIiwyNzE6Ik1ha2UiLDI4MToiTWF4U2FtcGxlVmFsdWUiLDI4MDoiTWluU2FtcGxlVmFsdWUiLDI3MjoiTW9kZWwiLDI1NDoiTmV3U3ViZmlsZVR5cGUiLDI3NDoiT3JpZW50YXRpb24iLDI2MjoiUGhvdG9tZXRyaWNJbnRlcnByZXRhdGlvbiIsMjg0OiJQbGFuYXJDb25maWd1cmF0aW9uIiwyOTY6IlJlc29sdXRpb25Vbml0IiwyNzg6IlJvd3NQZXJTdHJpcCIsMjc3OiJTYW1wbGVzUGVyUGl4ZWwiLDMwNToiU29mdHdhcmUiLDI3OToiU3RyaXBCeXRlQ291bnRzIiwyNzM6IlN0cmlwT2Zmc2V0cyIsMjU1OiJTdWJmaWxlVHlwZSIsMjYzOiJUaHJlc2hob2xkaW5nIiwyODI6IlhSZXNvbHV0aW9uIiwyODM6IllSZXNvbHV0aW9uIiwzMjY6IkJhZEZheExpbmVzIiwzMjc6IkNsZWFuRmF4RGF0YSIsMzQzOiJDbGlwUGF0aCIsMzI4OiJDb25zZWN1dGl2ZUJhZEZheExpbmVzIiw0MzM6IkRlY29kZSIsNDM0OiJEZWZhdWx0SW1hZ2VDb2xvciIsMjY5OiJEb2N1bWVudE5hbWUiLDMzNjoiRG90UmFuZ2UiLDMyMToiSGFsZnRvbmVIaW50cyIsMzQ2OiJJbmRleGVkIiwzNDc6IkpQRUdUYWJsZXMiLDI4NToiUGFnZU5hbWUiLDI5NzoiUGFnZU51bWJlciIsMzE3OiJQcmVkaWN0b3IiLDMxOToiUHJpbWFyeUNocm9tYXRpY2l0aWVzIiw1MzI6IlJlZmVyZW5jZUJsYWNrV2hpdGUiLDMzOToiU2FtcGxlRm9ybWF0IiwzNDA6IlNNaW5TYW1wbGVWYWx1ZSIsMzQxOiJTTWF4U2FtcGxlVmFsdWUiLDU1OToiU3RyaXBSb3dDb3VudHMiLDMzMDoiU3ViSUZEcyIsMjkyOiJUNE9wdGlvbnMiLDI5MzoiVDZPcHRpb25zIiwzMjU6IlRpbGVCeXRlQ291bnRzIiwzMjM6IlRpbGVMZW5ndGgiLDMyNDoiVGlsZU9mZnNldHMiLDMyMjoiVGlsZVdpZHRoIiwzMDE6IlRyYW5zZmVyRnVuY3Rpb24iLDMxODoiV2hpdGVQb2ludCIsMzQ0OiJYQ2xpcFBhdGhVbml0cyIsMjg2OiJYUG9zaXRpb24iLDUyOToiWUNiQ3JDb2VmZmljaWVudHMiLDUzMToiWUNiQ3JQb3NpdGlvbmluZyIsNTMwOiJZQ2JDclN1YlNhbXBsaW5nIiwzNDU6IllDbGlwUGF0aFVuaXRzIiwyODc6IllQb3NpdGlvbiIsMzczNzg6IkFwZXJ0dXJlVmFsdWUiLDQwOTYxOiJDb2xvclNwYWNlIiwzNjg2ODoiRGF0ZVRpbWVEaWdpdGl6ZWQiLDM2ODY3OiJEYXRlVGltZU9yaWdpbmFsIiwzNDY2NToiRXhpZiBJRkQiLDM2ODY0OiJFeGlmVmVyc2lvbiIsMzM0MzQ6IkV4cG9zdXJlVGltZSIsNDE3Mjg6IkZpbGVTb3VyY2UiLDM3Mzg1OiJGbGFzaCIsNDA5NjA6IkZsYXNocGl4VmVyc2lvbiIsMzM0Mzc6IkZOdW1iZXIiLDQyMDE2OiJJbWFnZVVuaXF1ZUlEIiwzNzM4NDoiTGlnaHRTb3VyY2UiLDM3NTAwOiJNYWtlck5vdGUiLDM3Mzc3OiJTaHV0dGVyU3BlZWRWYWx1ZSIsMzc1MTA6IlVzZXJDb21tZW50IiwzMzcyMzoiSVBUQyIsMzQ2NzU6IklDQyBQcm9maWxlIiw3MDA6IlhNUCIsNDIxMTI6IkdEQUxfTUVUQURBVEEiLDQyMTEzOiJHREFMX05PREFUQSIsMzQzNzc6IlBob3Rvc2hvcCIsMzM1NTA6Ik1vZGVsUGl4ZWxTY2FsZSIsMzM5MjI6Ik1vZGVsVGllcG9pbnQiLDM0MjY0OiJNb2RlbFRyYW5zZm9ybWF0aW9uIiwzNDczNToiR2VvS2V5RGlyZWN0b3J5IiwzNDczNjoiR2VvRG91YmxlUGFyYW1zIiwzNDczNzoiR2VvQXNjaWlQYXJhbXMiLDUwNjc0OiJMZXJjUGFyYW1ldGVycyJ9LCQ9e307Zm9yKHZhciBlZSBpbiBRKVEuaGFzT3duUHJvcGVydHkoZWUpJiYoJFtRW2VlXV09cGFyc2VJbnQoZWUsMTApKTt2YXIgdGU9ezI1NjoiU0hPUlQiLDI1NzoiU0hPUlQiLDI1ODoiU0hPUlQiLDI1OToiU0hPUlQiLDI2MjoiU0hPUlQiLDI3MzoiTE9ORyIsMjc0OiJTSE9SVCIsMjc3OiJTSE9SVCIsMjc4OiJMT05HIiwyNzk6IkxPTkciLDI4MjoiUkFUSU9OQUwiLDI4MzoiUkFUSU9OQUwiLDI4NDoiU0hPUlQiLDI4NjoiU0hPUlQiLDI4NzoiUkFUSU9OQUwiLDI5NjoiU0hPUlQiLDI5NzoiU0hPUlQiLDMwNToiQVNDSUkiLDMwNjoiQVNDSUkiLDMzODoiU0hPUlQiLDMzOToiU0hPUlQiLDUxMzoiTE9ORyIsNTE0OiJMT05HIiwxMDI0OiJTSE9SVCIsMTAyNToiU0hPUlQiLDIwNDg6IlNIT1JUIiwyMDQ5OiJBU0NJSSIsMzA3MjoiU0hPUlQiLDMwNzM6IkFTQ0lJIiwzMzU1MDoiRE9VQkxFIiwzMzkyMjoiRE9VQkxFIiwzNDY2NToiTE9ORyIsMzQ3MzU6IlNIT1JUIiwzNDczNzoiQVNDSUkiLDQyMTEzOiJBU0NJSSJ9LHJlPVskLkJpdHNQZXJTYW1wbGUsJC5FeHRyYVNhbXBsZXMsJC5TYW1wbGVGb3JtYXQsJC5TdHJpcEJ5dGVDb3VudHMsJC5TdHJpcE9mZnNldHMsJC5TdHJpcFJvd0NvdW50cywkLlRpbGVCeXRlQ291bnRzLCQuVGlsZU9mZnNldHMsJC5TdWJJRkRzXSxuZT17MToiQllURSIsMjoiQVNDSUkiLDM6IlNIT1JUIiw0OiJMT05HIiw1OiJSQVRJT05BTCIsNjoiU0JZVEUiLDc6IlVOREVGSU5FRCIsODoiU1NIT1JUIiw5OiJTTE9ORyIsMTA6IlNSQVRJT05BTCIsMTE6IkZMT0FUIiwxMjoiRE9VQkxFIiwxMzoiSUZEIiwxNjoiTE9ORzgiLDE3OiJTTE9ORzgiLDE4OiJJRkQ4In0saWU9e307Zm9yKHZhciBhZSBpbiBuZSluZS5oYXNPd25Qcm9wZXJ0eShhZSkmJihpZVtuZVthZV1dPXBhcnNlSW50KGFlLDEwKSk7dmFyIG9lPXtXaGl0ZUlzWmVybzowLEJsYWNrSXNaZXJvOjEsUkdCOjIsUGFsZXR0ZTozLFRyYW5zcGFyZW5jeU1hc2s6NCxDTVlLOjUsWUNiQ3I6NixDSUVMYWI6OCxJQ0NMYWI6OX0sc2U9e1Vuc3BlY2lmaWVkOjAsQXNzb2NhbHBoYToxLFVuYXNzYWxwaGE6Mn0sdWU9e1ZlcnNpb246MCxBZGRDb21wcmVzc2lvbjoxfSxmZT17Tm9uZTowLERlZmxhdGU6MX0sbGU9ezEwMjQ6IkdUTW9kZWxUeXBlR2VvS2V5IiwxMDI1OiJHVFJhc3RlclR5cGVHZW9LZXkiLDEwMjY6IkdUQ2l0YXRpb25HZW9LZXkiLDIwNDg6Ikdlb2dyYXBoaWNUeXBlR2VvS2V5IiwyMDQ5OiJHZW9nQ2l0YXRpb25HZW9LZXkiLDIwNTA6Ikdlb2dHZW9kZXRpY0RhdHVtR2VvS2V5IiwyMDUxOiJHZW9nUHJpbWVNZXJpZGlhbkdlb0tleSIsMjA1MjoiR2VvZ0xpbmVhclVuaXRzR2VvS2V5IiwyMDUzOiJHZW9nTGluZWFyVW5pdFNpemVHZW9LZXkiLDIwNTQ6Ikdlb2dBbmd1bGFyVW5pdHNHZW9LZXkiLDIwNTU6Ikdlb2dBbmd1bGFyVW5pdFNpemVHZW9LZXkiLDIwNTY6Ikdlb2dFbGxpcHNvaWRHZW9LZXkiLDIwNTc6Ikdlb2dTZW1pTWFqb3JBeGlzR2VvS2V5IiwyMDU4OiJHZW9nU2VtaU1pbm9yQXhpc0dlb0tleSIsMjA1OToiR2VvZ0ludkZsYXR0ZW5pbmdHZW9LZXkiLDIwNjA6Ikdlb2dBemltdXRoVW5pdHNHZW9LZXkiLDIwNjE6Ikdlb2dQcmltZU1lcmlkaWFuTG9uZ0dlb0tleSIsMjA2MjoiR2VvZ1RPV0dTODRHZW9LZXkiLDMwNzI6IlByb2plY3RlZENTVHlwZUdlb0tleSIsMzA3MzoiUENTQ2l0YXRpb25HZW9LZXkiLDMwNzQ6IlByb2plY3Rpb25HZW9LZXkiLDMwNzU6IlByb2pDb29yZFRyYW5zR2VvS2V5IiwzMDc2OiJQcm9qTGluZWFyVW5pdHNHZW9LZXkiLDMwNzc6IlByb2pMaW5lYXJVbml0U2l6ZUdlb0tleSIsMzA3ODoiUHJvalN0ZFBhcmFsbGVsMUdlb0tleSIsMzA3OToiUHJvalN0ZFBhcmFsbGVsMkdlb0tleSIsMzA4MDoiUHJvak5hdE9yaWdpbkxvbmdHZW9LZXkiLDMwODE6IlByb2pOYXRPcmlnaW5MYXRHZW9LZXkiLDMwODI6IlByb2pGYWxzZUVhc3RpbmdHZW9LZXkiLDMwODM6IlByb2pGYWxzZU5vcnRoaW5nR2VvS2V5IiwzMDg0OiJQcm9qRmFsc2VPcmlnaW5Mb25nR2VvS2V5IiwzMDg1OiJQcm9qRmFsc2VPcmlnaW5MYXRHZW9LZXkiLDMwODY6IlByb2pGYWxzZU9yaWdpbkVhc3RpbmdHZW9LZXkiLDMwODc6IlByb2pGYWxzZU9yaWdpbk5vcnRoaW5nR2VvS2V5IiwzMDg4OiJQcm9qQ2VudGVyTG9uZ0dlb0tleSIsMzA4OToiUHJvakNlbnRlckxhdEdlb0tleSIsMzA5MDoiUHJvakNlbnRlckVhc3RpbmdHZW9LZXkiLDMwOTE6IlByb2pDZW50ZXJOb3J0aGluZ0dlb0tleSIsMzA5MjoiUHJvalNjYWxlQXROYXRPcmlnaW5HZW9LZXkiLDMwOTM6IlByb2pTY2FsZUF0Q2VudGVyR2VvS2V5IiwzMDk0OiJQcm9qQXppbXV0aEFuZ2xlR2VvS2V5IiwzMDk1OiJQcm9qU3RyYWlnaHRWZXJ0UG9sZUxvbmdHZW9LZXkiLDMwOTY6IlByb2pSZWN0aWZpZWRHcmlkQW5nbGVHZW9LZXkiLDQwOTY6IlZlcnRpY2FsQ1NUeXBlR2VvS2V5Iiw0MDk3OiJWZXJ0aWNhbENpdGF0aW9uR2VvS2V5Iiw0MDk4OiJWZXJ0aWNhbERhdHVtR2VvS2V5Iiw0MDk5OiJWZXJ0aWNhbFVuaXRzR2VvS2V5In0sY2U9e307Zm9yKHZhciBoZSBpbiBsZSlsZS5oYXNPd25Qcm9wZXJ0eShoZSkmJihjZVtsZVtoZV1dPXBhcnNlSW50KGhlLDEwKSk7dmFyIGRlPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLGZpZWxkVGFnTmFtZXM6USxmaWVsZFRhZ3M6JCxmaWVsZFRhZ1R5cGVzOnRlLGFycmF5RmllbGRzOnJlLGZpZWxkVHlwZU5hbWVzOm5lLGZpZWxkVHlwZXM6aWUscGhvdG9tZXRyaWNJbnRlcnByZXRhdGlvbnM6b2UsRXh0cmFTYW1wbGVzVmFsdWVzOnNlLExlcmNQYXJhbWV0ZXJzOnVlLExlcmNBZGRDb21wcmVzc2lvbjpmZSxnZW9LZXlOYW1lczpsZSxnZW9LZXlzOmNlfSk7ZnVuY3Rpb24gcGUoZSx0KXtmb3IodmFyIHIsbj1lLndpZHRoLGk9ZS5oZWlnaHQsYT1uZXcgVWludDhBcnJheShuKmkqMyksbz0wLHM9MDtvPGUubGVuZ3RoOysrbyxzKz0zKXI9MjU2LWVbb10vdCoyNTYsYVtzXT1yLGFbcysxXT1yLGFbcysyXT1yO3JldHVybiBhfWZ1bmN0aW9uIG1lKGUsdCl7Zm9yKHZhciByLG49ZS53aWR0aCxpPWUuaGVpZ2h0LGE9bmV3IFVpbnQ4QXJyYXkobippKjMpLG89MCxzPTA7bzxlLmxlbmd0aDsrK28scys9MylyPWVbb10vdCoyNTYsYVtzXT1yLGFbcysxXT1yLGFbcysyXT1yO3JldHVybiBhfWZ1bmN0aW9uIHZlKGUsdCl7Zm9yKHZhciByPWUud2lkdGgsbj1lLmhlaWdodCxpPW5ldyBVaW50OEFycmF5KHIqbiozKSxhPXQubGVuZ3RoLzMsbz10Lmxlbmd0aC8zKjIscz0wLHU9MDtzPGUubGVuZ3RoOysrcyx1Kz0zKXt2YXIgZj1lW3NdO2lbdV09dFtmXS82NTUzNioyNTYsaVt1KzFdPXRbZithXS82NTUzNioyNTYsaVt1KzJdPXRbZitvXS82NTUzNioyNTZ9cmV0dXJuIGl9ZnVuY3Rpb24gZ2UoZSl7Zm9yKHZhciB0PWUud2lkdGgscj1lLmhlaWdodCxuPW5ldyBVaW50OEFycmF5KHQqciozKSxpPTAsYT0wO2k8ZS5sZW5ndGg7aSs9NCxhKz0zKXt2YXIgbz1lW2ldLHM9ZVtpKzFdLHU9ZVtpKzJdLGY9ZVtpKzNdO25bYV09KDI1NS1vKS8yNTYqMjU1KigoMjU1LWYpLzI1NiksblthKzFdPSgyNTUtcykvMjU2KjI1NSooKDI1NS1mKS8yNTYpLG5bYSsyXT0oMjU1LXUpLzI1NioyNTUqKCgyNTUtZikvMjU2KX1yZXR1cm4gbn1mdW5jdGlvbiB5ZShlKXtmb3IodmFyIHQ9ZS53aWR0aCxyPWUuaGVpZ2h0LG49bmV3IFVpbnQ4Q2xhbXBlZEFycmF5KHQqciozKSxpPTAsYT0wO2k8ZS5sZW5ndGg7aSs9MyxhKz0zKXt2YXIgbz1lW2ldLHM9ZVtpKzFdLHU9ZVtpKzJdO25bYV09bysxLjQwMioodS0xMjgpLG5bYSsxXT1vLS4zNDQxNCoocy0xMjgpLS43MTQxNCoodS0xMjgpLG5bYSsyXT1vKzEuNzcyKihzLTEyOCl9cmV0dXJuIG59ZnVuY3Rpb24gd2UoZSl7Zm9yKHZhciB0PWUud2lkdGgscj1lLmhlaWdodCxuPW5ldyBVaW50OEFycmF5KHQqciozKSxpPTAsYT0wO2k8ZS5sZW5ndGg7aSs9MyxhKz0zKXt2YXIgbz0oZVtpKzBdKzE2KS8xMTYscz0oZVtpKzFdPDwyND4+MjQpLzUwMCtvLHU9by0oZVtpKzJdPDwyND4+MjQpLzIwMCxmPXZvaWQgMCxsPXZvaWQgMCxjPXZvaWQgMDtsPS0uOTY4OSoocz0uOTUwNDcqKHMqcypzPi4wMDg4NTY/cypzKnM6KHMtMTYvMTE2KS83Ljc4NykpKzEuODc1OCoobz0xKihvKm8qbz4uMDA4ODU2P28qbypvOihvLTE2LzExNikvNy43ODcpKSsuMDQxNSoodT0xLjA4ODgzKih1KnUqdT4uMDA4ODU2P3UqdSp1Oih1LTE2LzExNikvNy43ODcpKSxjPS4wNTU3KnMrLS4yMDQqbysxLjA1Nyp1LGY9KGY9My4yNDA2KnMrLTEuNTM3MipvKy0uNDk4Nip1KT4uMDAzMTMwOD8xLjA1NSpNYXRoLnBvdyhmLDEvMi40KS0uMDU1OjEyLjkyKmYsbD1sPi4wMDMxMzA4PzEuMDU1Kk1hdGgucG93KGwsMS8yLjQpLS4wNTU6MTIuOTIqbCxjPWM+LjAwMzEzMDg/MS4wNTUqTWF0aC5wb3coYywxLzIuNCktLjA1NToxMi45MipjLG5bYV09MjU1Kk1hdGgubWF4KDAsTWF0aC5taW4oMSxmKSksblthKzFdPTI1NSpNYXRoLm1heCgwLE1hdGgubWluKDEsbCkpLG5bYSsyXT0yNTUqTWF0aC5tYXgoMCxNYXRoLm1pbigxLGMpKX1yZXR1cm4gbn12YXIgYmU9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsZnJvbVdoaXRlSXNaZXJvOnBlLGZyb21CbGFja0lzWmVybzptZSxmcm9tUGFsZXR0ZTp2ZSxmcm9tQ01ZSzpnZSxmcm9tWUNiQ3I6eWUsZnJvbUNJRUxhYjp3ZX0pLGtlPW5ldyBNYXA7ZnVuY3Rpb24geGUoZSx0KXtBcnJheS5pc0FycmF5KGUpfHwoZT1bZV0pLGUuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIGtlLnNldChlLHQpfSkpfWZ1bmN0aW9uIEFlKGUpe3JldHVybiBfZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gX2UoKXtyZXR1cm4oX2U9dSh4Lm1hcmsoKGZ1bmN0aW9uIGUodCl7dmFyIHIsbjtyZXR1cm4geC53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDppZihyPWtlLmdldCh0LkNvbXByZXNzaW9uKSl7ZS5uZXh0PTM7YnJlYWt9dGhyb3cgbmV3IEVycm9yKCJVbmtub3duIGNvbXByZXNzaW9uIG1ldGhvZCBpZGVudGlmaWVyOiAiLmNvbmNhdCh0LkNvbXByZXNzaW9uKSk7Y2FzZSAzOnJldHVybiBlLm5leHQ9NSxyKCk7Y2FzZSA1OnJldHVybiBuPWUuc2VudCxlLmFicnVwdCgicmV0dXJuIixuZXcgbih0KSk7Y2FzZSA3OmNhc2UiZW5kIjpyZXR1cm4gZS5zdG9wKCl9fSksZSl9KSkpKS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gSWUoZSx0LHIpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MyYmdm9pZCAwIT09YXJndW1lbnRzWzNdP2FyZ3VtZW50c1szXToxO3JldHVybiBuZXcoT2JqZWN0LmdldFByb3RvdHlwZU9mKGUpLmNvbnN0cnVjdG9yKSh0KnIqbil9ZnVuY3Rpb24gUGUoZSx0LHIsbixpKXt2YXIgYT10L24sbz1yL2k7cmV0dXJuIGUubWFwKChmdW5jdGlvbihlKXtmb3IodmFyIHM9SWUoZSxuLGkpLHU9MDt1PGk7Kyt1KWZvcih2YXIgZj1NYXRoLm1pbihNYXRoLnJvdW5kKG8qdSksci0xKSxsPTA7bDxuOysrbCl7dmFyIGM9TWF0aC5taW4oTWF0aC5yb3VuZChhKmwpLHQtMSksaD1lW2YqdCtjXTtzW3UqbitsXT1ofXJldHVybiBzfSkpfWZ1bmN0aW9uIFNlKGUsdCxyKXtyZXR1cm4oMS1yKSplK3IqdH1mdW5jdGlvbiBUZShlLHQscixuLGkpe3ZhciBhPXQvbixvPXIvaTtyZXR1cm4gZS5tYXAoKGZ1bmN0aW9uKGUpe2Zvcih2YXIgcz1JZShlLG4saSksdT0wO3U8aTsrK3UpZm9yKHZhciBmPW8qdSxsPU1hdGguZmxvb3IoZiksYz1NYXRoLm1pbihNYXRoLmNlaWwoZiksci0xKSxoPTA7aDxuOysraCl7dmFyIGQ9YSpoLHA9ZCUxLG09TWF0aC5mbG9vcihkKSx2PU1hdGgubWluKE1hdGguY2VpbChkKSx0LTEpLGc9ZVtsKnQrbV0seT1lW2wqdCt2XSx3PWVbYyp0K21dLGI9ZVtjKnQrdl0saz1TZShTZShnLHkscCksU2UodyxiLHApLGYlMSk7c1t1Km4raF09a31yZXR1cm4gc30pKX1mdW5jdGlvbiBPZShlLHQscixuLGkpe3ZhciBhPWFyZ3VtZW50cy5sZW5ndGg+NSYmdm9pZCAwIT09YXJndW1lbnRzWzVdP2FyZ3VtZW50c1s1XToibmVhcmVzdCI7c3dpdGNoKGEudG9Mb3dlckNhc2UoKSl7Y2FzZSJuZWFyZXN0IjpyZXR1cm4gUGUoZSx0LHIsbixpKTtjYXNlImJpbGluZWFyIjpjYXNlImxpbmVhciI6cmV0dXJuIFRlKGUsdCxyLG4saSk7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoIlVuc3VwcG9ydGVkIHJlc2FtcGxpbmcgbWV0aG9kOiAnIi5jb25jYXQoYSwiJyIpKX19ZnVuY3Rpb24gVWUoZSx0LHIsbixpLGEpe2Zvcih2YXIgbz10L24scz1yL2ksdT1JZShlLG4saSxhKSxmPTA7ZjxpOysrZilmb3IodmFyIGw9TWF0aC5taW4oTWF0aC5yb3VuZChzKmYpLHItMSksYz0wO2M8bjsrK2MpZm9yKHZhciBoPU1hdGgubWluKE1hdGgucm91bmQobypjKSx0LTEpLGQ9MDtkPGE7KytkKXt2YXIgcD1lW2wqdCphK2gqYStkXTt1W2YqbiphK2MqYStkXT1wfXJldHVybiB1fWZ1bmN0aW9uIERlKGUsdCxyLG4saSxhKXtmb3IodmFyIG89dC9uLHM9ci9pLHU9SWUoZSxuLGksYSksZj0wO2Y8aTsrK2YpZm9yKHZhciBsPXMqZixjPU1hdGguZmxvb3IobCksaD1NYXRoLm1pbihNYXRoLmNlaWwobCksci0xKSxkPTA7ZDxuOysrZClmb3IodmFyIHA9bypkLG09cCUxLHY9TWF0aC5mbG9vcihwKSxnPU1hdGgubWluKE1hdGguY2VpbChwKSx0LTEpLHk9MDt5PGE7Kyt5KXt2YXIgdz1lW2MqdCphK3YqYSt5XSxiPWVbYyp0KmErZyphK3ldLGs9ZVtoKnQqYSt2KmEreV0seD1lW2gqdCphK2cqYSt5XSxBPVNlKFNlKHcsYixtKSxTZShrLHgsbSksbCUxKTt1W2YqbiphK2QqYSt5XT1BfXJldHVybiB1fWZ1bmN0aW9uIEVlKGUsdCxyLG4saSxhKXt2YXIgbz1hcmd1bWVudHMubGVuZ3RoPjYmJnZvaWQgMCE9PWFyZ3VtZW50c1s2XT9hcmd1bWVudHNbNl06Im5lYXJlc3QiO3N3aXRjaChvLnRvTG93ZXJDYXNlKCkpe2Nhc2UibmVhcmVzdCI6cmV0dXJuIFVlKGUsdCxyLG4saSxhKTtjYXNlImJpbGluZWFyIjpjYXNlImxpbmVhciI6cmV0dXJuIERlKGUsdCxyLG4saSxhKTtkZWZhdWx0OnRocm93IG5ldyBFcnJvcigiVW5zdXBwb3J0ZWQgcmVzYW1wbGluZyBtZXRob2Q6ICciLmNvbmNhdChvLCInIikpfX1mdW5jdGlvbiBSZShlLHQscil7Zm9yKHZhciBuPTAsaT10O2k8cjsrK2kpbis9ZVtpXTtyZXR1cm4gbn1mdW5jdGlvbiBNZShlLHQscil7c3dpdGNoKGUpe2Nhc2UgMTppZih0PD04KXJldHVybiBuZXcgVWludDhBcnJheShyKTtpZih0PD0xNilyZXR1cm4gbmV3IFVpbnQxNkFycmF5KHIpO2lmKHQ8PTMyKXJldHVybiBuZXcgVWludDMyQXJyYXkocik7YnJlYWs7Y2FzZSAyOmlmKDg9PT10KXJldHVybiBuZXcgSW50OEFycmF5KHIpO2lmKDE2PT09dClyZXR1cm4gbmV3IEludDE2QXJyYXkocik7aWYoMzI9PT10KXJldHVybiBuZXcgSW50MzJBcnJheShyKTticmVhaztjYXNlIDM6c3dpdGNoKHQpe2Nhc2UgMTY6Y2FzZSAzMjpyZXR1cm4gbmV3IEZsb2F0MzJBcnJheShyKTtjYXNlIDY0OnJldHVybiBuZXcgRmxvYXQ2NEFycmF5KHIpfX10aHJvdyBFcnJvcigiVW5zdXBwb3J0ZWQgZGF0YSBmb3JtYXQvYml0c1BlclNhbXBsZSIpfWZ1bmN0aW9uIEJlKGUsdCl7cmV0dXJuKDEhPT1lJiYyIT09ZXx8ISh0PD0zMil8fHQlOCE9MCkmJigzIT09ZXx8MTYhPT10JiYzMiE9PXQmJjY0IT09dCl9ZnVuY3Rpb24gQ2UoZSx0LHIsbixpLGEsbyl7dmFyIHM9bmV3IERhdGFWaWV3KGUpLHU9Mj09PXI/MTpuLGY9TWUodCxpLDI9PT1yP28qYTpvKmEqbiksbD1wYXJzZUludCgiMSIucmVwZWF0KGkpLDIpO2lmKDE9PT10KXt2YXIgYz1hKigxPT09cj9uKmk6aSk7MCE9KDcmYykmJihjPWMrNyYtOCk7Zm9yKHZhciBoPTA7aDxvOysraClmb3IodmFyIGQ9aCpjLHA9MDtwPGE7KytwKWZvcih2YXIgbT1kK3AqdSppLHY9MDt2PHU7Kyt2KXt2YXIgZz1tK3YqaSx5PShoKmErcCkqdSt2LHc9TWF0aC5mbG9vcihnLzgpLGI9ZyU4O2lmKGIraTw9OClmW3ldPXMuZ2V0VWludDgodyk+PjgtaS1iJmw7ZWxzZSBpZihiK2k8PTE2KWZbeV09cy5nZXRVaW50MTYodyk+PjE2LWktYiZsO2Vsc2UgaWYoYitpPD0yNCl7dmFyIGs9cy5nZXRVaW50MTYodyk8PDh8cy5nZXRVaW50OCh3KzIpO2ZbeV09az4+MjQtaS1iJmx9ZWxzZSBmW3ldPXMuZ2V0VWludDMyKHcpPj4zMi1pLWImbH19cmV0dXJuIGYuYnVmZmVyfXhlKFt2b2lkIDAsMV0sKGZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIEZyfSkpLnRoZW4oKGZ1bmN0aW9uKGUpe3JldHVybiBlLmRlZmF1bHR9KSl9KSkseGUoNSwoZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gTnJ9KSkudGhlbigoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZGVmYXVsdH0pKX0pKSx4ZSg2LChmdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcigib2xkIHN0eWxlIEpQRUcgY29tcHJlc3Npb24gaXMgbm90IHN1cHBvcnRlZC4iKX0pKSx4ZSg3LChmdW5jdGlvbigpe3JldHVybiBQcm9taXNlLnJlc29sdmUoKS50aGVuKChmdW5jdGlvbigpe3JldHVybiBvbn0pKS50aGVuKChmdW5jdGlvbihlKXtyZXR1cm4gZS5kZWZhdWx0fSkpfSkpLHhlKFs4LDMyOTQ2XSwoZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gdml9KSkudGhlbigoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZGVmYXVsdH0pKX0pKSx4ZSgzMjc3MywoZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gd2l9KSkudGhlbigoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZGVmYXVsdH0pKX0pKSx4ZSgzNDg4NywoZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gX2l9KSkudGhlbigoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZGVmYXVsdH0pKX0pKSx4ZSg1MDAwMSwoZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gU2l9KSkudGhlbigoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZGVmYXVsdH0pKX0pKTt2YXIgTGU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscixuLGksYSxvKXtiKHRoaXMsZSksdGhpcy5maWxlRGlyZWN0b3J5PXQsdGhpcy5nZW9LZXlzPXIsdGhpcy5kYXRhVmlldz1uLHRoaXMubGl0dGxlRW5kaWFuPWksdGhpcy50aWxlcz1hP3t9Om51bGwsdGhpcy5pc1RpbGVkPSF0LlN0cmlwT2Zmc2V0czt2YXIgcz10LlBsYW5hckNvbmZpZ3VyYXRpb247aWYodGhpcy5wbGFuYXJDb25maWd1cmF0aW9uPXZvaWQgMD09PXM/MTpzLDEhPT10aGlzLnBsYW5hckNvbmZpZ3VyYXRpb24mJjIhPT10aGlzLnBsYW5hckNvbmZpZ3VyYXRpb24pdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIHBsYW5hciBjb25maWd1cmF0aW9uLiIpO3RoaXMuc291cmNlPW99dmFyIHQscixuLGk7cmV0dXJuIGwoZSxbe2tleToiZ2V0RmlsZURpcmVjdG9yeSIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5maWxlRGlyZWN0b3J5fX0se2tleToiZ2V0R2VvS2V5cyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZW9LZXlzfX0se2tleToiZ2V0V2lkdGgiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZmlsZURpcmVjdG9yeS5JbWFnZVdpZHRofX0se2tleToiZ2V0SGVpZ2h0Iix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmZpbGVEaXJlY3RvcnkuSW1hZ2VMZW5ndGh9fSx7a2V5OiJnZXRTYW1wbGVzUGVyUGl4ZWwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHZvaWQgMCE9PXRoaXMuZmlsZURpcmVjdG9yeS5TYW1wbGVzUGVyUGl4ZWw/dGhpcy5maWxlRGlyZWN0b3J5LlNhbXBsZXNQZXJQaXhlbDoxfX0se2tleToiZ2V0VGlsZVdpZHRoIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlzVGlsZWQ/dGhpcy5maWxlRGlyZWN0b3J5LlRpbGVXaWR0aDp0aGlzLmdldFdpZHRoKCl9fSx7a2V5OiJnZXRUaWxlSGVpZ2h0Iix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlzVGlsZWQ/dGhpcy5maWxlRGlyZWN0b3J5LlRpbGVMZW5ndGg6dm9pZCAwIT09dGhpcy5maWxlRGlyZWN0b3J5LlJvd3NQZXJTdHJpcD9NYXRoLm1pbih0aGlzLmZpbGVEaXJlY3RvcnkuUm93c1BlclN0cmlwLHRoaXMuZ2V0SGVpZ2h0KCkpOnRoaXMuZ2V0SGVpZ2h0KCl9fSx7a2V5OiJnZXRCbG9ja1dpZHRoIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFRpbGVXaWR0aCgpfX0se2tleToiZ2V0QmxvY2tIZWlnaHQiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmlzVGlsZWR8fChlKzEpKnRoaXMuZ2V0VGlsZUhlaWdodCgpPD10aGlzLmdldEhlaWdodCgpP3RoaXMuZ2V0VGlsZUhlaWdodCgpOnRoaXMuZ2V0SGVpZ2h0KCktZSp0aGlzLmdldFRpbGVIZWlnaHQoKX19LHtrZXk6ImdldEJ5dGVzUGVyUGl4ZWwiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciBlPTAsdD0wO3Q8dGhpcy5maWxlRGlyZWN0b3J5LkJpdHNQZXJTYW1wbGUubGVuZ3RoOysrdCllKz10aGlzLmdldFNhbXBsZUJ5dGVTaXplKHQpO3JldHVybiBlfX0se2tleToiZ2V0U2FtcGxlQnl0ZVNpemUiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKGU+PXRoaXMuZmlsZURpcmVjdG9yeS5CaXRzUGVyU2FtcGxlLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiU2FtcGxlIGluZGV4ICIuY29uY2F0KGUsIiBpcyBvdXQgb2YgcmFuZ2UuIikpO3JldHVybiBNYXRoLmNlaWwodGhpcy5maWxlRGlyZWN0b3J5LkJpdHNQZXJTYW1wbGVbZV0vOCl9fSx7a2V5OiJnZXRSZWFkZXJGb3JTYW1wbGUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZmlsZURpcmVjdG9yeS5TYW1wbGVGb3JtYXQ/dGhpcy5maWxlRGlyZWN0b3J5LlNhbXBsZUZvcm1hdFtlXToxLHI9dGhpcy5maWxlRGlyZWN0b3J5LkJpdHNQZXJTYW1wbGVbZV07c3dpdGNoKHQpe2Nhc2UgMTppZihyPD04KXJldHVybiBEYXRhVmlldy5wcm90b3R5cGUuZ2V0VWludDg7aWYocjw9MTYpcmV0dXJuIERhdGFWaWV3LnByb3RvdHlwZS5nZXRVaW50MTY7aWYocjw9MzIpcmV0dXJuIERhdGFWaWV3LnByb3RvdHlwZS5nZXRVaW50MzI7YnJlYWs7Y2FzZSAyOmlmKHI8PTgpcmV0dXJuIERhdGFWaWV3LnByb3RvdHlwZS5nZXRJbnQ4O2lmKHI8PTE2KXJldHVybiBEYXRhVmlldy5wcm90b3R5cGUuZ2V0SW50MTY7aWYocjw9MzIpcmV0dXJuIERhdGFWaWV3LnByb3RvdHlwZS5nZXRJbnQzMjticmVhaztjYXNlIDM6c3dpdGNoKHIpe2Nhc2UgMTY6cmV0dXJuIGZ1bmN0aW9uKGUsdCl7cmV0dXJuIFkodGhpcyxlLHQpfTtjYXNlIDMyOnJldHVybiBEYXRhVmlldy5wcm90b3R5cGUuZ2V0RmxvYXQzMjtjYXNlIDY0OnJldHVybiBEYXRhVmlldy5wcm90b3R5cGUuZ2V0RmxvYXQ2NH19dGhyb3cgRXJyb3IoIlVuc3VwcG9ydGVkIGRhdGEgZm9ybWF0L2JpdHNQZXJTYW1wbGUiKX19LHtrZXk6ImdldFNhbXBsZUZvcm1hdCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06MDtyZXR1cm4gdGhpcy5maWxlRGlyZWN0b3J5LlNhbXBsZUZvcm1hdD90aGlzLmZpbGVEaXJlY3RvcnkuU2FtcGxlRm9ybWF0W2VdOjF9fSx7a2V5OiJnZXRCaXRzUGVyU2FtcGxlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTowO3JldHVybiB0aGlzLmZpbGVEaXJlY3RvcnkuQml0c1BlclNhbXBsZVtlXX19LHtrZXk6ImdldEFycmF5Rm9yU2FtcGxlIix2YWx1ZTpmdW5jdGlvbihlLHQpe3JldHVybiBNZSh0aGlzLmdldFNhbXBsZUZvcm1hdChlKSx0aGlzLmdldEJpdHNQZXJTYW1wbGUoZSksdCl9fSx7a2V5OiJnZXRUaWxlT3JTdHJpcCIsdmFsdWU6KGk9dSh4Lm1hcmsoKGZ1bmN0aW9uIGUodCxyLG4saSxhKXt2YXIgbyxzLGYsbCxjLGgsZCxwLG09dGhpcztyZXR1cm4geC53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDpyZXR1cm4gbz1NYXRoLmNlaWwodGhpcy5nZXRXaWR0aCgpL3RoaXMuZ2V0VGlsZVdpZHRoKCkpLHM9TWF0aC5jZWlsKHRoaXMuZ2V0SGVpZ2h0KCkvdGhpcy5nZXRUaWxlSGVpZ2h0KCkpLGw9dGhpcy50aWxlcywxPT09dGhpcy5wbGFuYXJDb25maWd1cmF0aW9uP2Y9cipvK3Q6Mj09PXRoaXMucGxhbmFyQ29uZmlndXJhdGlvbiYmKGY9bipvKnMrcipvK3QpLHRoaXMuaXNUaWxlZD8oYz10aGlzLmZpbGVEaXJlY3RvcnkuVGlsZU9mZnNldHNbZl0saD10aGlzLmZpbGVEaXJlY3RvcnkuVGlsZUJ5dGVDb3VudHNbZl0pOihjPXRoaXMuZmlsZURpcmVjdG9yeS5TdHJpcE9mZnNldHNbZl0saD10aGlzLmZpbGVEaXJlY3RvcnkuU3RyaXBCeXRlQ291bnRzW2ZdKSxlLm5leHQ9Nyx0aGlzLnNvdXJjZS5mZXRjaChbe29mZnNldDpjLGxlbmd0aDpofV0sYSk7Y2FzZSA3OnJldHVybiBkPWUuc2VudFswXSxudWxsIT09bCYmbFtmXT9wPWxbZl06KHA9dSh4Lm1hcmsoKGZ1bmN0aW9uIGUoKXt2YXIgdCxuLGE7cmV0dXJuIHgud3JhcCgoZnVuY3Rpb24oZSl7Zm9yKDs7KXN3aXRjaChlLnByZXY9ZS5uZXh0KXtjYXNlIDA6cmV0dXJuIGUubmV4dD0yLGkuZGVjb2RlKG0uZmlsZURpcmVjdG9yeSxkKTtjYXNlIDI6cmV0dXJuIHQ9ZS5zZW50LG49bS5nZXRTYW1wbGVGb3JtYXQoKSxhPW0uZ2V0Qml0c1BlclNhbXBsZSgpLEJlKG4sYSkmJih0PUNlKHQsbixtLnBsYW5hckNvbmZpZ3VyYXRpb24sbS5nZXRTYW1wbGVzUGVyUGl4ZWwoKSxhLG0uZ2V0VGlsZVdpZHRoKCksbS5nZXRCbG9ja0hlaWdodChyKSkpLGUuYWJydXB0KCJyZXR1cm4iLHQpO2Nhc2UgNzpjYXNlImVuZCI6cmV0dXJuIGUuc3RvcCgpfX0pLGUpfSkpKSgpLG51bGwhPT1sJiYobFtmXT1wKSksZS50MD10LGUudDE9cixlLnQyPW4sZS5uZXh0PTE0LHA7Y2FzZSAxNDpyZXR1cm4gZS50Mz1lLnNlbnQsZS5hYnJ1cHQoInJldHVybiIse3g6ZS50MCx5OmUudDEsc2FtcGxlOmUudDIsZGF0YTplLnQzfSk7Y2FzZSAxNjpjYXNlImVuZCI6cmV0dXJuIGUuc3RvcCgpfX0pLGUsdGhpcyl9KSkpLGZ1bmN0aW9uKGUsdCxyLG4sYSl7cmV0dXJuIGkuYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9LHtrZXk6Il9yZWFkUmFzdGVyIix2YWx1ZToobj11KHgubWFyaygoZnVuY3Rpb24gZSh0LHIsbixpLGEsbyxzLHUsZil7dmFyIGwsYyxoLGQscCxtLHYsZyx5LHcsYixrLEEsXyxJLFAsUyxULE8sVSxEPXRoaXM7cmV0dXJuIHgud3JhcCgoZnVuY3Rpb24oZSl7Zm9yKDs7KXN3aXRjaChlLnByZXY9ZS5uZXh0KXtjYXNlIDA6Zm9yKGw9dGhpcy5nZXRUaWxlV2lkdGgoKSxjPXRoaXMuZ2V0VGlsZUhlaWdodCgpLGg9dGhpcy5nZXRXaWR0aCgpLGQ9dGhpcy5nZXRIZWlnaHQoKSxwPU1hdGgubWF4KE1hdGguZmxvb3IodFswXS9sKSwwKSxtPU1hdGgubWluKE1hdGguY2VpbCh0WzJdL2wpLE1hdGguY2VpbChoL2wpKSx2PU1hdGgubWF4KE1hdGguZmxvb3IodFsxXS9jKSwwKSxnPU1hdGgubWluKE1hdGguY2VpbCh0WzNdL2MpLE1hdGguY2VpbChkL2MpKSx5PXRbMl0tdFswXSx3PXRoaXMuZ2V0Qnl0ZXNQZXJQaXhlbCgpLGI9W10saz1bXSxBPTA7QTxyLmxlbmd0aDsrK0EpMT09PXRoaXMucGxhbmFyQ29uZmlndXJhdGlvbj9iLnB1c2goUmUodGhpcy5maWxlRGlyZWN0b3J5LkJpdHNQZXJTYW1wbGUsMCxyW0FdKS84KTpiLnB1c2goMCksay5wdXNoKHRoaXMuZ2V0UmVhZGVyRm9yU2FtcGxlKHJbQV0pKTtmb3IoXz1bXSxJPXRoaXMubGl0dGxlRW5kaWFuLFA9djtQPGc7KytQKWZvcihTPXA7UzxtOysrUylmb3IoVD1mdW5jdGlvbihlKXt2YXIgbz1lLHM9cltlXTsyPT09RC5wbGFuYXJDb25maWd1cmF0aW9uJiYodz1ELmdldFNhbXBsZUJ5dGVTaXplKGUpKTt2YXIgdT1ELmdldFRpbGVPclN0cmlwKFMsUCxzLGEsZikudGhlbigoZnVuY3Rpb24oZSl7Zm9yKHZhciBhPWUuZGF0YSxzPW5ldyBEYXRhVmlldyhhKSx1PUQuZ2V0QmxvY2tIZWlnaHQoZS55KSxmPWUueSpjLHA9ZS54KmwsbT1mK3Usdj0oZS54KzEpKmwsZz1rW29dLHg9TWF0aC5taW4odSx1LShtLXRbM10pLGQtZiksQT1NYXRoLm1pbihsLGwtKHYtdFsyXSksaC1wKSxfPU1hdGgubWF4KDAsdFsxXS1mKTtfPHg7KytfKWZvcih2YXIgUD1NYXRoLm1heCgwLHRbMF0tcCk7UDxBOysrUCl7dmFyIFM9KF8qbCtQKSp3LFQ9Zy5jYWxsKHMsUytiW29dLEkpLE89dm9pZCAwO2k/KE89KF8rZi10WzFdKSp5KnIubGVuZ3RoKyhQK3AtdFswXSkqci5sZW5ndGgrbyxuW09dPVQpOihPPShfK2YtdFsxXSkqeStQK3AtdFswXSxuW29dW09dPVQpfX0pKTtfLnB1c2godSl9LE89MDtPPHIubGVuZ3RoOysrTylUKE8pO3JldHVybiBlLm5leHQ9MTgsUHJvbWlzZS5hbGwoXyk7Y2FzZSAxODppZighKG8mJnRbMl0tdFswXSE9PW98fHMmJnRbM10tdFsxXSE9PXMpKXtlLm5leHQ9MjM7YnJlYWt9cmV0dXJuKFU9aT9FZShuLHRbMl0tdFswXSx0WzNdLXRbMV0sbyxzLHIubGVuZ3RoLHUpOk9lKG4sdFsyXS10WzBdLHRbM10tdFsxXSxvLHMsdSkpLndpZHRoPW8sVS5oZWlnaHQ9cyxlLmFicnVwdCgicmV0dXJuIixVKTtjYXNlIDIzOnJldHVybiBuLndpZHRoPW98fHRbMl0tdFswXSxuLmhlaWdodD1zfHx0WzNdLXRbMV0sZS5hYnJ1cHQoInJldHVybiIsbik7Y2FzZSAyNjpjYXNlImVuZCI6cmV0dXJuIGUuc3RvcCgpfX0pLGUsdGhpcyl9KSkpLGZ1bmN0aW9uKGUsdCxyLGksYSxvLHMsdSxmKXtyZXR1cm4gbi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX0se2tleToicmVhZFJhc3RlcnMiLHZhbHVlOihyPXUoeC5tYXJrKChmdW5jdGlvbiBlKCl7dmFyIHQscixuLGksYSxvLHMsdSxmLGwsYyxoLGQscCxtLHYsZyx5LHcsYixrLEEsXyxJLFAsUyxUPWFyZ3VtZW50cztyZXR1cm4geC53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDppZih0PVQubGVuZ3RoPjAmJnZvaWQgMCE9PVRbMF0/VFswXTp7fSxyPXQud2luZG93LG49dC5zYW1wbGVzLGk9dm9pZCAwPT09bj9bXTpuLGE9dC5pbnRlcmxlYXZlLG89dC5wb29sLHM9dm9pZCAwPT09bz9udWxsOm8sdT10LndpZHRoLGY9dC5oZWlnaHQsbD10LnJlc2FtcGxlTWV0aG9kLGM9dC5maWxsVmFsdWUsaD10LnNpZ25hbCwhKChkPXJ8fFswLDAsdGhpcy5nZXRXaWR0aCgpLHRoaXMuZ2V0SGVpZ2h0KCldKVswXT5kWzJdfHxkWzFdPmRbM10pKXtlLm5leHQ9NDticmVha310aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgc3Vic2V0cyIpO2Nhc2UgNDppZihwPWRbMl0tZFswXSxtPWRbM10tZFsxXSx2PXAqbSxnPXRoaXMuZ2V0U2FtcGxlc1BlclBpeGVsKCksaSYmaS5sZW5ndGgpe2UubmV4dD0xMjticmVha31mb3IoeT0wO3k8ZzsrK3kpaS5wdXNoKHkpO2UubmV4dD0xOTticmVhaztjYXNlIDEyOnc9MDtjYXNlIDEzOmlmKCEodzxpLmxlbmd0aCkpe2UubmV4dD0xOTticmVha31pZighKGlbd10+PWcpKXtlLm5leHQ9MTY7YnJlYWt9cmV0dXJuIGUuYWJydXB0KCJyZXR1cm4iLFByb21pc2UucmVqZWN0KG5ldyBSYW5nZUVycm9yKCJJbnZhbGlkIHNhbXBsZSBpbmRleCAnIi5jb25jYXQoaVt3XSwiJy4iKSkpKTtjYXNlIDE2OisrdyxlLm5leHQ9MTM7YnJlYWs7Y2FzZSAxOTppZihhKWs9dGhpcy5maWxlRGlyZWN0b3J5LlNhbXBsZUZvcm1hdD9NYXRoLm1heC5hcHBseShudWxsLHRoaXMuZmlsZURpcmVjdG9yeS5TYW1wbGVGb3JtYXQpOjEsQT1NYXRoLm1heC5hcHBseShudWxsLHRoaXMuZmlsZURpcmVjdG9yeS5CaXRzUGVyU2FtcGxlKSxiPU1lKGssQSx2KmkubGVuZ3RoKSxjJiZiLmZpbGwoYyk7ZWxzZSBmb3IoYj1bXSxfPTA7XzxpLmxlbmd0aDsrK18pST10aGlzLmdldEFycmF5Rm9yU2FtcGxlKGlbX10sdiksQXJyYXkuaXNBcnJheShjKSYmXzxjLmxlbmd0aD9JLmZpbGwoY1tfXSk6YyYmIUFycmF5LmlzQXJyYXkoYykmJkkuZmlsbChjKSxiLnB1c2goSSk7aWYoZS50MD1zLGUudDApe2UubmV4dD0yNTticmVha31yZXR1cm4gZS5uZXh0PTI0LEFlKHRoaXMuZmlsZURpcmVjdG9yeSk7Y2FzZSAyNDplLnQwPWUuc2VudDtjYXNlIDI1OnJldHVybiBQPWUudDAsZS5uZXh0PTI4LHRoaXMuX3JlYWRSYXN0ZXIoZCxpLGIsYSxQLHUsZixsLGgpO2Nhc2UgMjg6cmV0dXJuIFM9ZS5zZW50LGUuYWJydXB0KCJyZXR1cm4iLFMpO2Nhc2UgMzA6Y2FzZSJlbmQiOnJldHVybiBlLnN0b3AoKX19KSxlLHRoaXMpfSkpKSxmdW5jdGlvbigpe3JldHVybiByLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfSx7a2V5OiJyZWFkUkdCIix2YWx1ZToodD11KHgubWFyaygoZnVuY3Rpb24gZSgpe3ZhciB0LHIsbixpLGEsbyxzLHUsZixsLGMsaCxkLHAsbSx2LGcseSx3LGIsayxBLF8sSSxQLFMsVCxPPWFyZ3VtZW50cztyZXR1cm4geC53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDppZih0PU8ubGVuZ3RoPjAmJnZvaWQgMCE9PU9bMF0/T1swXTp7fSxyPXQud2luZG93LG49dC5pbnRlcmxlYXZlLGk9dm9pZCAwPT09bnx8bixhPXQucG9vbCxvPXZvaWQgMD09PWE/bnVsbDphLHM9dC53aWR0aCx1PXQuaGVpZ2h0LGY9dC5yZXNhbXBsZU1ldGhvZCxsPXQuZW5hYmxlQWxwaGEsYz12b2lkIDAhPT1sJiZsLGg9dC5zaWduYWwsISgoZD1yfHxbMCwwLHRoaXMuZ2V0V2lkdGgoKSx0aGlzLmdldEhlaWdodCgpXSlbMF0+ZFsyXXx8ZFsxXT5kWzNdKSl7ZS5uZXh0PTQ7YnJlYWt9dGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIHN1YnNldHMiKTtjYXNlIDQ6aWYoKHA9dGhpcy5maWxlRGlyZWN0b3J5LlBob3RvbWV0cmljSW50ZXJwcmV0YXRpb24pIT09b2UuUkdCKXtlLm5leHQ9OTticmVha31pZihtPVswLDEsMl0sdGhpcy5maWxlRGlyZWN0b3J5LkV4dHJhU2FtcGxlcyE9PXNlLlVuc3BlY2lmaWVkJiZjKWZvcihtPVtdLHY9MDt2PHRoaXMuZmlsZURpcmVjdG9yeS5CaXRzUGVyU2FtcGxlLmxlbmd0aDt2Kz0xKW0ucHVzaCh2KTtyZXR1cm4gZS5hYnJ1cHQoInJldHVybiIsdGhpcy5yZWFkUmFzdGVycyh7d2luZG93OnIsaW50ZXJsZWF2ZTppLHNhbXBsZXM6bSxwb29sOm8sd2lkdGg6cyxoZWlnaHQ6dSxyZXNhbXBsZU1ldGhvZDpmLHNpZ25hbDpofSkpO2Nhc2UgOTplLnQwPXAsZS5uZXh0PWUudDA9PT1vZS5XaGl0ZUlzWmVyb3x8ZS50MD09PW9lLkJsYWNrSXNaZXJvfHxlLnQwPT09b2UuUGFsZXR0ZT8xMjplLnQwPT09b2UuQ01ZSz8xNDplLnQwPT09b2UuWUNiQ3J8fGUudDA9PT1vZS5DSUVMYWI/MTY6MTg7YnJlYWs7Y2FzZSAxMjpyZXR1cm4gZz1bMF0sZS5hYnJ1cHQoImJyZWFrIiwxOSk7Y2FzZSAxNDpyZXR1cm4gZz1bMCwxLDIsM10sZS5hYnJ1cHQoImJyZWFrIiwxOSk7Y2FzZSAxNjpyZXR1cm4gZz1bMCwxLDJdLGUuYWJydXB0KCJicmVhayIsMTkpO2Nhc2UgMTg6dGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIG9yIHVuc3VwcG9ydGVkIHBob3RvbWV0cmljIGludGVycHJldGF0aW9uLiIpO2Nhc2UgMTk6cmV0dXJuIHk9e3dpbmRvdzpkLGludGVybGVhdmU6ITAsc2FtcGxlczpnLHBvb2w6byx3aWR0aDpzLGhlaWdodDp1LHJlc2FtcGxlTWV0aG9kOmYsc2lnbmFsOmh9LHc9dGhpcy5maWxlRGlyZWN0b3J5LGUubmV4dD0yMyx0aGlzLnJlYWRSYXN0ZXJzKHkpO2Nhc2UgMjM6Yj1lLnNlbnQsaz1NYXRoLnBvdygyLHRoaXMuZmlsZURpcmVjdG9yeS5CaXRzUGVyU2FtcGxlWzBdKSxlLnQxPXAsZS5uZXh0PWUudDE9PT1vZS5XaGl0ZUlzWmVybz8yODplLnQxPT09b2UuQmxhY2tJc1plcm8/MzA6ZS50MT09PW9lLlBhbGV0dGU/MzI6ZS50MT09PW9lLkNNWUs/MzQ6ZS50MT09PW9lLllDYkNyPzM2OmUudDE9PT1vZS5DSUVMYWI/Mzg6NDA7YnJlYWs7Y2FzZSAyODpyZXR1cm4gQT1wZShiLGspLGUuYWJydXB0KCJicmVhayIsNDEpO2Nhc2UgMzA6cmV0dXJuIEE9bWUoYixrKSxlLmFicnVwdCgiYnJlYWsiLDQxKTtjYXNlIDMyOnJldHVybiBBPXZlKGIsdy5Db2xvck1hcCksZS5hYnJ1cHQoImJyZWFrIiw0MSk7Y2FzZSAzNDpyZXR1cm4gQT1nZShiKSxlLmFicnVwdCgiYnJlYWsiLDQxKTtjYXNlIDM2OnJldHVybiBBPXllKGIpLGUuYWJydXB0KCJicmVhayIsNDEpO2Nhc2UgMzg6cmV0dXJuIEE9d2UoYiksZS5hYnJ1cHQoImJyZWFrIiw0MSk7Y2FzZSA0MDp0aHJvdyBuZXcgRXJyb3IoIlVuc3VwcG9ydGVkIHBob3RvbWV0cmljIGludGVycHJldGF0aW9uLiIpO2Nhc2UgNDE6aWYoIWkpe2ZvcihfPW5ldyBVaW50OEFycmF5KEEubGVuZ3RoLzMpLEk9bmV3IFVpbnQ4QXJyYXkoQS5sZW5ndGgvMyksUD1uZXcgVWludDhBcnJheShBLmxlbmd0aC8zKSxTPTAsVD0wO1M8QS5sZW5ndGg7Uys9MywrK1QpX1tUXT1BW1NdLElbVF09QVtTKzFdLFBbVF09QVtTKzJdO0E9W18sSSxQXX1yZXR1cm4gQS53aWR0aD1iLndpZHRoLEEuaGVpZ2h0PWIuaGVpZ2h0LGUuYWJydXB0KCJyZXR1cm4iLEEpO2Nhc2UgNDU6Y2FzZSJlbmQiOnJldHVybiBlLnN0b3AoKX19KSxlLHRoaXMpfSkpKSxmdW5jdGlvbigpe3JldHVybiB0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfSx7a2V5OiJnZXRUaWVQb2ludHMiLHZhbHVlOmZ1bmN0aW9uKCl7aWYoIXRoaXMuZmlsZURpcmVjdG9yeS5Nb2RlbFRpZXBvaW50KXJldHVybltdO2Zvcih2YXIgZT1bXSx0PTA7dDx0aGlzLmZpbGVEaXJlY3RvcnkuTW9kZWxUaWVwb2ludC5sZW5ndGg7dCs9NillLnB1c2goe2k6dGhpcy5maWxlRGlyZWN0b3J5Lk1vZGVsVGllcG9pbnRbdF0sajp0aGlzLmZpbGVEaXJlY3RvcnkuTW9kZWxUaWVwb2ludFt0KzFdLGs6dGhpcy5maWxlRGlyZWN0b3J5Lk1vZGVsVGllcG9pbnRbdCsyXSx4OnRoaXMuZmlsZURpcmVjdG9yeS5Nb2RlbFRpZXBvaW50W3QrM10seTp0aGlzLmZpbGVEaXJlY3RvcnkuTW9kZWxUaWVwb2ludFt0KzRdLHo6dGhpcy5maWxlRGlyZWN0b3J5Lk1vZGVsVGllcG9pbnRbdCs1XX0pO3JldHVybiBlfX0se2tleToiZ2V0R0RBTE1ldGFkYXRhIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpudWxsLHQ9e307aWYoIXRoaXMuZmlsZURpcmVjdG9yeS5HREFMX01FVEFEQVRBKXJldHVybiBudWxsO3ZhciByPXRoaXMuZmlsZURpcmVjdG9yeS5HREFMX01FVEFEQVRBLG49SihyLCJJdGVtIik7bj1udWxsPT09ZT9uLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMD09PXEoZSwic2FtcGxlIil9KSk6bi5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBOdW1iZXIocSh0LCJzYW1wbGUiKSk9PT1lfSkpO2Zvcih2YXIgaT0wO2k8bi5sZW5ndGg7KytpKXt2YXIgYT1uW2ldO3RbcShhLCJuYW1lIildPWEuaW5uZXJ9cmV0dXJuIHR9fSx7a2V5OiJnZXRHREFMTm9EYXRhIix2YWx1ZTpmdW5jdGlvbigpe2lmKCF0aGlzLmZpbGVEaXJlY3RvcnkuR0RBTF9OT0RBVEEpcmV0dXJuIG51bGw7dmFyIGU9dGhpcy5maWxlRGlyZWN0b3J5LkdEQUxfTk9EQVRBO3JldHVybiBOdW1iZXIoZS5zdWJzdHJpbmcoMCxlLmxlbmd0aC0xKSl9fSx7a2V5OiJnZXRPcmlnaW4iLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5maWxlRGlyZWN0b3J5Lk1vZGVsVGllcG9pbnQsdD10aGlzLmZpbGVEaXJlY3RvcnkuTW9kZWxUcmFuc2Zvcm1hdGlvbjtpZihlJiY2PT09ZS5sZW5ndGgpcmV0dXJuW2VbM10sZVs0XSxlWzVdXTtpZih0KXJldHVyblt0WzNdLHRbN10sdFsxMV1dO3Rocm93IG5ldyBFcnJvcigiVGhlIGltYWdlIGRvZXMgbm90IGhhdmUgYW4gYWZmaW5lIHRyYW5zZm9ybWF0aW9uLiIpfX0se2tleToiZ2V0UmVzb2x1dGlvbiIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06bnVsbCx0PXRoaXMuZmlsZURpcmVjdG9yeS5Nb2RlbFBpeGVsU2NhbGUscj10aGlzLmZpbGVEaXJlY3RvcnkuTW9kZWxUcmFuc2Zvcm1hdGlvbjtpZih0KXJldHVyblt0WzBdLC10WzFdLHRbMl1dO2lmKHIpcmV0dXJuW3JbMF0scls1XSxyWzEwXV07aWYoZSl7dmFyIG49byhlLmdldFJlc29sdXRpb24oKSwzKSxpPW5bMF0sYT1uWzFdLHM9blsyXTtyZXR1cm5baSplLmdldFdpZHRoKCkvdGhpcy5nZXRXaWR0aCgpLGEqZS5nZXRIZWlnaHQoKS90aGlzLmdldEhlaWdodCgpLHMqZS5nZXRXaWR0aCgpL3RoaXMuZ2V0V2lkdGgoKV19dGhyb3cgbmV3IEVycm9yKCJUaGUgaW1hZ2UgZG9lcyBub3QgaGF2ZSBhbiBhZmZpbmUgdHJhbnNmb3JtYXRpb24uIil9fSx7a2V5OiJwaXhlbElzQXJlYSIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gMT09PXRoaXMuZ2VvS2V5cy5HVFJhc3RlclR5cGVHZW9LZXl9fSx7a2V5OiJnZXRCb3VuZGluZ0JveCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldE9yaWdpbigpLHQ9dGhpcy5nZXRSZXNvbHV0aW9uKCkscj1lWzBdLG49ZVsxXSxpPXIrdFswXSp0aGlzLmdldFdpZHRoKCksYT1uK3RbMV0qdGhpcy5nZXRIZWlnaHQoKTtyZXR1cm5bTWF0aC5taW4ocixpKSxNYXRoLm1pbihuLGEpLE1hdGgubWF4KHIsaSksTWF0aC5tYXgobixhKV19fV0pLGV9KCksRmU9TGUsVmU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQpe2IodGhpcyxlKSx0aGlzLl9kYXRhVmlldz1uZXcgRGF0YVZpZXcodCl9cmV0dXJuIGwoZSxbe2tleToiYnVmZmVyIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGF0YVZpZXcuYnVmZmVyfX0se2tleToiZ2V0VWludDY0Iix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByLG49dGhpcy5nZXRVaW50MzIoZSx0KSxpPXRoaXMuZ2V0VWludDMyKGUrNCx0KTtpZih0KXtpZihyPW4rTWF0aC5wb3coMiwzMikqaSwhTnVtYmVyLmlzU2FmZUludGVnZXIocikpdGhyb3cgbmV3IEVycm9yKCIiLmNvbmNhdChyLCIgZXhjZWVkcyBNQVhfU0FGRV9JTlRFR0VSLiAiKSsiUHJlY2lzaW9uIG1heSBiZSBsb3N0LiBQbGVhc2UgcmVwb3J0IGlmIHlvdSBnZXQgdGhpcyBtZXNzYWdlIHRvIGh0dHBzOi8vZ2l0aHViLmNvbS9nZW90aWZmanMvZ2VvdGlmZi5qcy9pc3N1ZXMiKTtyZXR1cm4gcn1pZihyPU1hdGgucG93KDIsMzIpKm4raSwhTnVtYmVyLmlzU2FmZUludGVnZXIocikpdGhyb3cgbmV3IEVycm9yKCIiLmNvbmNhdChyLCIgZXhjZWVkcyBNQVhfU0FGRV9JTlRFR0VSLiAiKSsiUHJlY2lzaW9uIG1heSBiZSBsb3N0LiBQbGVhc2UgcmVwb3J0IGlmIHlvdSBnZXQgdGhpcyBtZXNzYWdlIHRvIGh0dHBzOi8vZ2l0aHViLmNvbS9nZW90aWZmanMvZ2VvdGlmZi5qcy9pc3N1ZXMiKTtyZXR1cm4gcn19LHtrZXk6ImdldEludDY0Iix2YWx1ZTpmdW5jdGlvbihlLHQpe2Zvcih2YXIgcj0wLG49KDEyOCZ0aGlzLl9kYXRhVmlldy5nZXRVaW50OChlKyh0Pzc6MCkpKT4wLGk9ITAsYT0wO2E8ODthKyspe3ZhciBvPXRoaXMuX2RhdGFWaWV3LmdldFVpbnQ4KGUrKHQ/YTo3LWEpKTtuJiYoaT8wIT09byYmKG89MjU1Jn4oby0xKSxpPSExKTpvPTI1NSZ+bykscis9bypNYXRoLnBvdygyNTYsYSl9cmV0dXJuIG4mJihyPS1yKSxyfX0se2tleToiZ2V0VWludDgiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuX2RhdGFWaWV3LmdldFVpbnQ4KGUsdCl9fSx7a2V5OiJnZXRJbnQ4Iix2YWx1ZTpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLl9kYXRhVmlldy5nZXRJbnQ4KGUsdCl9fSx7a2V5OiJnZXRVaW50MTYiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuX2RhdGFWaWV3LmdldFVpbnQxNihlLHQpfX0se2tleToiZ2V0SW50MTYiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuX2RhdGFWaWV3LmdldEludDE2KGUsdCl9fSx7a2V5OiJnZXRVaW50MzIiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuX2RhdGFWaWV3LmdldFVpbnQzMihlLHQpfX0se2tleToiZ2V0SW50MzIiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuX2RhdGFWaWV3LmdldEludDMyKGUsdCl9fSx7a2V5OiJnZXRGbG9hdDE2Iix2YWx1ZTpmdW5jdGlvbihlLHQpe3JldHVybiBZKHRoaXMuX2RhdGFWaWV3LGUsdCl9fSx7a2V5OiJnZXRGbG9hdDMyIix2YWx1ZTpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLl9kYXRhVmlldy5nZXRGbG9hdDMyKGUsdCl9fSx7a2V5OiJnZXRGbG9hdDY0Iix2YWx1ZTpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLl9kYXRhVmlldy5nZXRGbG9hdDY0KGUsdCl9fV0pLGV9KCksR2U9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscixuLGkpe2IodGhpcyxlKSx0aGlzLl9kYXRhVmlldz1uZXcgRGF0YVZpZXcodCksdGhpcy5fc2xpY2VPZmZzZXQ9cix0aGlzLl9saXR0bGVFbmRpYW49bix0aGlzLl9iaWdUaWZmPWl9cmV0dXJuIGwoZSxbe2tleToic2xpY2VPZmZzZXQiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zbGljZU9mZnNldH19LHtrZXk6InNsaWNlVG9wIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2xpY2VPZmZzZXQrdGhpcy5idWZmZXIuYnl0ZUxlbmd0aH19LHtrZXk6ImxpdHRsZUVuZGlhbiIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xpdHRsZUVuZGlhbn19LHtrZXk6ImJpZ1RpZmYiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9iaWdUaWZmfX0se2tleToiYnVmZmVyIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGF0YVZpZXcuYnVmZmVyfX0se2tleToiY292ZXJzIix2YWx1ZTpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLnNsaWNlT2Zmc2V0PD1lJiZ0aGlzLnNsaWNlVG9wPj1lK3R9fSx7a2V5OiJyZWFkVWludDgiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9kYXRhVmlldy5nZXRVaW50OChlLXRoaXMuX3NsaWNlT2Zmc2V0LHRoaXMuX2xpdHRsZUVuZGlhbil9fSx7a2V5OiJyZWFkSW50OCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2RhdGFWaWV3LmdldEludDgoZS10aGlzLl9zbGljZU9mZnNldCx0aGlzLl9saXR0bGVFbmRpYW4pfX0se2tleToicmVhZFVpbnQxNiIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2RhdGFWaWV3LmdldFVpbnQxNihlLXRoaXMuX3NsaWNlT2Zmc2V0LHRoaXMuX2xpdHRsZUVuZGlhbil9fSx7a2V5OiJyZWFkSW50MTYiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9kYXRhVmlldy5nZXRJbnQxNihlLXRoaXMuX3NsaWNlT2Zmc2V0LHRoaXMuX2xpdHRsZUVuZGlhbil9fSx7a2V5OiJyZWFkVWludDMyIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fZGF0YVZpZXcuZ2V0VWludDMyKGUtdGhpcy5fc2xpY2VPZmZzZXQsdGhpcy5fbGl0dGxlRW5kaWFuKX19LHtrZXk6InJlYWRJbnQzMiIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2RhdGFWaWV3LmdldEludDMyKGUtdGhpcy5fc2xpY2VPZmZzZXQsdGhpcy5fbGl0dGxlRW5kaWFuKX19LHtrZXk6InJlYWRGbG9hdDMyIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fZGF0YVZpZXcuZ2V0RmxvYXQzMihlLXRoaXMuX3NsaWNlT2Zmc2V0LHRoaXMuX2xpdHRsZUVuZGlhbil9fSx7a2V5OiJyZWFkRmxvYXQ2NCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2RhdGFWaWV3LmdldEZsb2F0NjQoZS10aGlzLl9zbGljZU9mZnNldCx0aGlzLl9saXR0bGVFbmRpYW4pfX0se2tleToicmVhZFVpbnQ2NCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQscj10aGlzLnJlYWRVaW50MzIoZSksbj10aGlzLnJlYWRVaW50MzIoZSs0KTtpZih0aGlzLl9saXR0bGVFbmRpYW4pe2lmKHQ9citNYXRoLnBvdygyLDMyKSpuLCFOdW1iZXIuaXNTYWZlSW50ZWdlcih0KSl0aHJvdyBuZXcgRXJyb3IoIiIuY29uY2F0KHQsIiBleGNlZWRzIE1BWF9TQUZFX0lOVEVHRVIuICIpKyJQcmVjaXNpb24gbWF5IGJlIGxvc3QuIFBsZWFzZSByZXBvcnQgaWYgeW91IGdldCB0aGlzIG1lc3NhZ2UgdG8gaHR0cHM6Ly9naXRodWIuY29tL2dlb3RpZmZqcy9nZW90aWZmLmpzL2lzc3VlcyIpO3JldHVybiB0fWlmKHQ9TWF0aC5wb3coMiwzMikqcituLCFOdW1iZXIuaXNTYWZlSW50ZWdlcih0KSl0aHJvdyBuZXcgRXJyb3IoIiIuY29uY2F0KHQsIiBleGNlZWRzIE1BWF9TQUZFX0lOVEVHRVIuICIpKyJQcmVjaXNpb24gbWF5IGJlIGxvc3QuIFBsZWFzZSByZXBvcnQgaWYgeW91IGdldCB0aGlzIG1lc3NhZ2UgdG8gaHR0cHM6Ly9naXRodWIuY29tL2dlb3RpZmZqcy9nZW90aWZmLmpzL2lzc3VlcyIpO3JldHVybiB0fX0se2tleToicmVhZEludDY0Iix2YWx1ZTpmdW5jdGlvbihlKXtmb3IodmFyIHQ9MCxyPSgxMjgmdGhpcy5fZGF0YVZpZXcuZ2V0VWludDgoZSsodGhpcy5fbGl0dGxlRW5kaWFuPzc6MCkpKT4wLG49ITAsaT0wO2k8ODtpKyspe3ZhciBhPXRoaXMuX2RhdGFWaWV3LmdldFVpbnQ4KGUrKHRoaXMuX2xpdHRsZUVuZGlhbj9pOjctaSkpO3ImJihuPzAhPT1hJiYoYT0yNTUmfihhLTEpLG49ITEpOmE9MjU1Jn5hKSx0Kz1hKk1hdGgucG93KDI1NixpKX1yZXR1cm4gciYmKHQ9LXQpLHR9fSx7a2V5OiJyZWFkT2Zmc2V0Iix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fYmlnVGlmZj90aGlzLnJlYWRVaW50NjQoZSk6dGhpcy5yZWFkVWludDMyKGUpfX1dKSxlfSgpLGplPSJ1bmRlZmluZWQiIT10eXBlb2YgbmF2aWdhdG9yJiZuYXZpZ2F0b3IuaGFyZHdhcmVDb25jdXJyZW5jeXx8Mix6ZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt2YXIgdD10aGlzLHI9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOmplLG49YXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDA7Yih0aGlzLGUpLHRoaXMud29ya2Vycz1udWxsLHRoaXMuX2F3YWl0aW5nRGVjb2Rlcj1udWxsLHRoaXMuc2l6ZT1yLHRoaXMubWVzc2FnZUlkPTAsciYmKHRoaXMuX2F3YWl0aW5nRGVjb2Rlcj1uP1Byb21pc2UucmVzb2x2ZShuKTpuZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSl7UHJvbWlzZS5yZXNvbHZlKCkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gT2l9KSkudGhlbigoZnVuY3Rpb24odCl7ZSh0LmNyZWF0ZSl9KSl9KSksdGhpcy5fYXdhaXRpbmdEZWNvZGVyLnRoZW4oKGZ1bmN0aW9uKGUpe3QuX2F3YWl0aW5nRGVjb2Rlcj1udWxsLHQud29ya2Vycz1bXTtmb3IodmFyIG49MDtuPHI7bisrKXQud29ya2Vycy5wdXNoKHt3b3JrZXI6ZSgpLGlkbGU6ITB9KX0pKSl9dmFyIHQ7cmV0dXJuIGwoZSxbe2tleToiZGVjb2RlIix2YWx1ZToodD11KHgubWFyaygoZnVuY3Rpb24gZSh0LHIpe3ZhciBuPXRoaXM7cmV0dXJuIHgud3JhcCgoZnVuY3Rpb24oZSl7Zm9yKDs7KXN3aXRjaChlLnByZXY9ZS5uZXh0KXtjYXNlIDA6aWYoIXRoaXMuX2F3YWl0aW5nRGVjb2Rlcil7ZS5uZXh0PTM7YnJlYWt9cmV0dXJuIGUubmV4dD0zLHRoaXMuX2F3YWl0aW5nRGVjb2RlcjtjYXNlIDM6cmV0dXJuIGUuYWJydXB0KCJyZXR1cm4iLDA9PT10aGlzLnNpemU/QWUodCkudGhlbigoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZGVjb2RlKHQscil9KSk6bmV3IFByb21pc2UoKGZ1bmN0aW9uKGUpe3ZhciBpPW4ud29ya2Vycy5maW5kKChmdW5jdGlvbihlKXtyZXR1cm4gZS5pZGxlfSkpfHxuLndvcmtlcnNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKm4uc2l6ZSldO2kuaWRsZT0hMTt2YXIgYT1uLm1lc3NhZ2VJZCsrO2kud29ya2VyLmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLChmdW5jdGlvbiB0KHIpe3IuZGF0YS5pZD09PWEmJihpLmlkbGU9ITAsZShyLmRhdGEuZGVjb2RlZCksaS53b3JrZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsdCkpfSkpLGkud29ya2VyLnBvc3RNZXNzYWdlKHtmaWxlRGlyZWN0b3J5OnQsYnVmZmVyOnIsaWQ6YX0sW3JdKX0pKSk7Y2FzZSA0OmNhc2UiZW5kIjpyZXR1cm4gZS5zdG9wKCl9fSksZSx0aGlzKX0pKSksZnVuY3Rpb24oZSxyKXtyZXR1cm4gdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX0se2tleToiZGVzdHJveSIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLndvcmtlcnMmJih0aGlzLndvcmtlcnMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS53b3JrZXIudGVybWluYXRlKCl9KSksdGhpcy53b3JrZXJzPW51bGwpfX1dKSxlfSgpLE5lPXplO2Z1bmN0aW9uIEtlKGUsdCl7aWYobnVsbD09ZSlyZXR1cm57fTt2YXIgcixuLGk9ZnVuY3Rpb24oZSx0KXtpZihudWxsPT1lKXJldHVybnt9O3ZhciByLG4saT17fSxhPU9iamVjdC5rZXlzKGUpO2ZvcihuPTA7bjxhLmxlbmd0aDtuKyspcj1hW25dLHQuaW5kZXhPZihyKT49MHx8KGlbcl09ZVtyXSk7cmV0dXJuIGl9KGUsdCk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIGE9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTtmb3Iobj0wO248YS5sZW5ndGg7bisrKXI9YVtuXSx0LmluZGV4T2Yocik+PTB8fE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChlLHIpJiYoaVtyXT1lW3JdKX1yZXR1cm4gaX1mdW5jdGlvbiBaZShlLHQpe3ZhciByPSJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZlW1N5bWJvbC5pdGVyYXRvcl18fGVbIkBAaXRlcmF0b3IiXTtpZighcil7aWYoQXJyYXkuaXNBcnJheShlKXx8KHI9ZnVuY3Rpb24oZSx0KXtpZihlKXtpZigic3RyaW5nIj09dHlwZW9mIGUpcmV0dXJuIEhlKGUsdCk7dmFyIHI9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpLnNsaWNlKDgsLTEpO3JldHVybiJPYmplY3QiPT09ciYmZS5jb25zdHJ1Y3RvciYmKHI9ZS5jb25zdHJ1Y3Rvci5uYW1lKSwiTWFwIj09PXJ8fCJTZXQiPT09cj9BcnJheS5mcm9tKGUpOiJBcmd1bWVudHMiPT09cnx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3Qocik/SGUoZSx0KTp2b2lkIDB9fShlKSl8fHQmJmUmJiJudW1iZXIiPT10eXBlb2YgZS5sZW5ndGgpe3ImJihlPXIpO3ZhciBuPTAsaT1mdW5jdGlvbigpe307cmV0dXJue3M6aSxuOmZ1bmN0aW9uKCl7cmV0dXJuIG4+PWUubGVuZ3RoP3tkb25lOiEwfTp7ZG9uZTohMSx2YWx1ZTplW24rK119fSxlOmZ1bmN0aW9uKGUpe3Rocm93IGV9LGY6aX19dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGl0ZXJhdGUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpfXZhciBhLG89ITAscz0hMTtyZXR1cm57czpmdW5jdGlvbigpe3I9ci5jYWxsKGUpfSxuOmZ1bmN0aW9uKCl7dmFyIGU9ci5uZXh0KCk7cmV0dXJuIG89ZS5kb25lLGV9LGU6ZnVuY3Rpb24oZSl7cz0hMCxhPWV9LGY6ZnVuY3Rpb24oKXt0cnl7b3x8bnVsbD09ci5yZXR1cm58fHIucmV0dXJuKCl9ZmluYWxseXtpZihzKXRocm93IGF9fX19ZnVuY3Rpb24gSGUoZSx0KXsobnVsbD09dHx8dD5lLmxlbmd0aCkmJih0PWUubGVuZ3RoKTtmb3IodmFyIHI9MCxuPW5ldyBBcnJheSh0KTtyPHQ7cisrKW5bcl09ZVtyXTtyZXR1cm4gbn12YXIgWWU9IlxyXG5cclxuIjtmdW5jdGlvbiBxZShlKXtpZih2b2lkIDAhPT1PYmplY3QuZnJvbUVudHJpZXMpcmV0dXJuIE9iamVjdC5mcm9tRW50cmllcyhlKTt2YXIgdCxyPXt9LG49WmUoZSk7dHJ5e2ZvcihuLnMoKTshKHQ9bi5uKCkpLmRvbmU7KXt2YXIgaT1vKHQudmFsdWUsMiksYT1pWzBdLHM9aVsxXTtyW2EudG9Mb3dlckNhc2UoKV09c319Y2F0Y2goZSl7bi5lKGUpfWZpbmFsbHl7bi5mKCl9cmV0dXJuIHJ9ZnVuY3Rpb24gV2UoZSl7cmV0dXJuIHFlKGUuc3BsaXQoIlxyXG4iKS5tYXAoKGZ1bmN0aW9uKGUpe3ZhciB0PWUuc3BsaXQoIjoiKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnRyaW0oKX0pKTtyZXR1cm4gdFswXT10WzBdLnRvTG93ZXJDYXNlKCksdH0pKSl9ZnVuY3Rpb24gWGUoZSl7dmFyIHQsbj1lLnNwbGl0KCI7IikubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS50cmltKCl9KSksbz1yKHQ9bil8fGoodCl8fGkodCl8fGEoKTtyZXR1cm57dHlwZTpvWzBdLHBhcmFtczpxZShvLnNsaWNlKDEpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuc3BsaXQoIj0iKX0pKSl9fWZ1bmN0aW9uIEplKGUpe3ZhciB0LHIsbjtpZihlKXt2YXIgaT1vKGUubWF0Y2goL2J5dGVzIChcZCspLShcZCspXC8oXGQrKS8pLDQpO3Q9aVsxXSxyPWlbMl0sbj1pWzNdLHQ9cGFyc2VJbnQodCwxMCkscj1wYXJzZUludChyLDEwKSxuPXBhcnNlSW50KG4sMTApfXJldHVybntzdGFydDp0LGVuZDpyLHRvdGFsOm59fWZ1bmN0aW9uIFFlKGUsdCl7Zm9yKHZhciByPW51bGwsbj1uZXcgVGV4dERlY29kZXIoImFzY2lpIiksaT1bXSxhPSItLSIuY29uY2F0KHQpLG89IiIuY29uY2F0KGEsIi0tIikscz0wO3M8MTA7KytzKW4uZGVjb2RlKG5ldyBVaW50OEFycmF5KGUscyxhLmxlbmd0aCkpPT09YSYmKHI9cyk7aWYobnVsbD09PXIpdGhyb3cgbmV3IEVycm9yKCJDb3VsZCBub3QgZmluZCBpbml0aWFsIGJvdW5kYXJ5Iik7Zm9yKDtyPGUuYnl0ZUxlbmd0aDspe3ZhciB1PW4uZGVjb2RlKG5ldyBVaW50OEFycmF5KGUscixNYXRoLm1pbihhLmxlbmd0aCsxMDI0LGUuYnl0ZUxlbmd0aC1yKSkpO2lmKDA9PT11Lmxlbmd0aHx8dS5zdGFydHNXaXRoKG8pKWJyZWFrO2lmKCF1LnN0YXJ0c1dpdGgoYSkpdGhyb3cgbmV3IEVycm9yKCJQYXJ0IGRvZXMgbm90IHN0YXJ0IHdpdGggYm91bmRhcnkiKTt2YXIgZj11LnN1YnN0cihhLmxlbmd0aCsyKTtpZigwPT09Zi5sZW5ndGgpYnJlYWs7dmFyIGw9Zi5pbmRleE9mKFllKSxjPVdlKGYuc3Vic3RyKDAsbCkpLGg9SmUoY1siY29udGVudC1yYW5nZSJdKSxkPWguc3RhcnQscD1oLmVuZCxtPWgudG90YWwsdj1yK2EubGVuZ3RoK2wrWWUubGVuZ3RoLGc9cGFyc2VJbnQocCwxMCkrMS1wYXJzZUludChkLDEwKTtpLnB1c2goe2hlYWRlcnM6YyxkYXRhOmUuc2xpY2Uodix2K2cpLG9mZnNldDpkLGxlbmd0aDpnLGZpbGVTaXplOm19KSxyPXYrZys0fXJldHVybiBpfXZhciAkZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXtiKHRoaXMsZSl9dmFyIHQscixuO3JldHVybiBsKGUsW3trZXk6ImZldGNoIix2YWx1ZToobj11KHgubWFyaygoZnVuY3Rpb24gZSh0KXt2YXIgcixuPXRoaXMsaT1hcmd1bWVudHM7cmV0dXJuIHgud3JhcCgoZnVuY3Rpb24oZSl7Zm9yKDs7KXN3aXRjaChlLnByZXY9ZS5uZXh0KXtjYXNlIDA6cmV0dXJuIHI9aS5sZW5ndGg+MSYmdm9pZCAwIT09aVsxXT9pWzFdOnZvaWQgMCxlLmFicnVwdCgicmV0dXJuIixQcm9taXNlLmFsbCh0Lm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIG4uZmV0Y2hTbGljZShlLHIpfSkpKSk7Y2FzZSAyOmNhc2UiZW5kIjpyZXR1cm4gZS5zdG9wKCl9fSksZSl9KSkpLGZ1bmN0aW9uKGUpe3JldHVybiBuLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfSx7a2V5OiJmZXRjaFNsaWNlIix2YWx1ZToocj11KHgubWFyaygoZnVuY3Rpb24gZSh0KXtyZXR1cm4geC53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDp0aHJvdyBuZXcgRXJyb3IoImZldGNoaW5nIG9mIHNsaWNlICIuY29uY2F0KHQsIiBub3QgcG9zc2libGUsIG5vdCBpbXBsZW1lbnRlZCIpKTtjYXNlIDE6Y2FzZSJlbmQiOnJldHVybiBlLnN0b3AoKX19KSxlKX0pKSksZnVuY3Rpb24oZSl7cmV0dXJuIHIuYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9LHtrZXk6ImZpbGVTaXplIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH19LHtrZXk6ImNsb3NlIix2YWx1ZToodD11KHgubWFyaygoZnVuY3Rpb24gZSgpe3JldHVybiB4LndyYXAoKGZ1bmN0aW9uKGUpe2Zvcig7Oylzd2l0Y2goZS5wcmV2PWUubmV4dCl7Y2FzZSAwOmNhc2UiZW5kIjpyZXR1cm4gZS5zdG9wKCl9fSksZSl9KSkpLGZ1bmN0aW9uKCl7cmV0dXJuIHQuYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9XSksZX0oKTtmdW5jdGlvbiBldChlLHQpe3ZhciByPSJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZlW1N5bWJvbC5pdGVyYXRvcl18fGVbIkBAaXRlcmF0b3IiXTtpZighcil7aWYoQXJyYXkuaXNBcnJheShlKXx8KHI9ZnVuY3Rpb24oZSx0KXtpZihlKXtpZigic3RyaW5nIj09dHlwZW9mIGUpcmV0dXJuIHR0KGUsdCk7dmFyIHI9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpLnNsaWNlKDgsLTEpO3JldHVybiJPYmplY3QiPT09ciYmZS5jb25zdHJ1Y3RvciYmKHI9ZS5jb25zdHJ1Y3Rvci5uYW1lKSwiTWFwIj09PXJ8fCJTZXQiPT09cj9BcnJheS5mcm9tKGUpOiJBcmd1bWVudHMiPT09cnx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3Qocik/dHQoZSx0KTp2b2lkIDB9fShlKSl8fHQmJmUmJiJudW1iZXIiPT10eXBlb2YgZS5sZW5ndGgpe3ImJihlPXIpO3ZhciBuPTAsaT1mdW5jdGlvbigpe307cmV0dXJue3M6aSxuOmZ1bmN0aW9uKCl7cmV0dXJuIG4+PWUubGVuZ3RoP3tkb25lOiEwfTp7ZG9uZTohMSx2YWx1ZTplW24rK119fSxlOmZ1bmN0aW9uKGUpe3Rocm93IGV9LGY6aX19dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGl0ZXJhdGUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpfXZhciBhLG89ITAscz0hMTtyZXR1cm57czpmdW5jdGlvbigpe3I9ci5jYWxsKGUpfSxuOmZ1bmN0aW9uKCl7dmFyIGU9ci5uZXh0KCk7cmV0dXJuIG89ZS5kb25lLGV9LGU6ZnVuY3Rpb24oZSl7cz0hMCxhPWV9LGY6ZnVuY3Rpb24oKXt0cnl7b3x8bnVsbD09ci5yZXR1cm58fHIucmV0dXJuKCl9ZmluYWxseXtpZihzKXRocm93IGF9fX19ZnVuY3Rpb24gdHQoZSx0KXsobnVsbD09dHx8dD5lLmxlbmd0aCkmJih0PWUubGVuZ3RoKTtmb3IodmFyIHI9MCxuPW5ldyBBcnJheSh0KTtyPHQ7cisrKW5bcl09ZVtyXTtyZXR1cm4gbn1mdW5jdGlvbiBydChlKXt2YXIgdD1mdW5jdGlvbigpe2lmKCJ1bmRlZmluZWQiPT10eXBlb2YgUmVmbGVjdHx8IVJlZmxlY3QuY29uc3RydWN0KXJldHVybiExO2lmKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pcmV0dXJuITE7aWYoImZ1bmN0aW9uIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaChlKXtyZXR1cm4hMX19KCk7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIHIsbj12KGUpO2lmKHQpe3ZhciBpPXYodGhpcykuY29uc3RydWN0b3I7cj1SZWZsZWN0LmNvbnN0cnVjdChuLGFyZ3VtZW50cyxpKX1lbHNlIHI9bi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIG0odGhpcyxyKX19dmFyIG50PWZ1bmN0aW9uKGUsdCxyKXtoKGksZSk7dmFyIG49cnQoaSk7ZnVuY3Rpb24gaSgpe3ZhciBlLHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9O2lmKGIodGhpcyxpKSxlPW4uY2FsbCh0aGlzKSwhKHQubWF4U2l6ZSYmdC5tYXhTaXplPjApKXRocm93IG5ldyBUeXBlRXJyb3IoImBtYXhTaXplYCBtdXN0IGJlIGEgbnVtYmVyIGdyZWF0ZXIgdGhhbiAwIik7aWYoIm51bWJlciI9PXR5cGVvZiB0Lm1heEFnZSYmMD09PXQubWF4QWdlKXRocm93IG5ldyBUeXBlRXJyb3IoImBtYXhBZ2VgIG11c3QgYmUgYSBudW1iZXIgZ3JlYXRlciB0aGFuIDAiKTtyZXR1cm4gZS5tYXhTaXplPXQubWF4U2l6ZSxlLm1heEFnZT10Lm1heEFnZXx8TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLGUub25FdmljdGlvbj10Lm9uRXZpY3Rpb24sZS5jYWNoZT1uZXcgTWFwLGUub2xkQ2FjaGU9bmV3IE1hcCxlLl9zaXplPTAsZX1yZXR1cm4gbChpLFt7a2V5OiJfZW1pdEV2aWN0aW9ucyIsdmFsdWU6ZnVuY3Rpb24oZSl7aWYoImZ1bmN0aW9uIj09dHlwZW9mIHRoaXMub25FdmljdGlvbil7dmFyIHQscj1ldChlKTt0cnl7Zm9yKHIucygpOyEodD1yLm4oKSkuZG9uZTspe3ZhciBuPW8odC52YWx1ZSwyKSxpPW5bMF0sYT1uWzFdO3RoaXMub25FdmljdGlvbihpLGEudmFsdWUpfX1jYXRjaChlKXtyLmUoZSl9ZmluYWxseXtyLmYoKX19fX0se2tleToiX2RlbGV0ZUlmRXhwaXJlZCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4ibnVtYmVyIj09dHlwZW9mIHQuZXhwaXJ5JiZ0LmV4cGlyeTw9RGF0ZS5ub3coKSYmKCJmdW5jdGlvbiI9PXR5cGVvZiB0aGlzLm9uRXZpY3Rpb24mJnRoaXMub25FdmljdGlvbihlLHQudmFsdWUpLHRoaXMuZGVsZXRlKGUpKX19LHtrZXk6Il9nZXRPckRlbGV0ZUlmRXhwaXJlZCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtpZighMT09PXRoaXMuX2RlbGV0ZUlmRXhwaXJlZChlLHQpKXJldHVybiB0LnZhbHVlfX0se2tleToiX2dldEl0ZW1WYWx1ZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC5leHBpcnk/dGhpcy5fZ2V0T3JEZWxldGVJZkV4cGlyZWQoZSx0KTp0LnZhbHVlfX0se2tleToiX3BlZWsiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dC5nZXQoZSk7cmV0dXJuIHRoaXMuX2dldEl0ZW1WYWx1ZShlLHIpfX0se2tleToiX3NldCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt0aGlzLmNhY2hlLnNldChlLHQpLHRoaXMuX3NpemUrKyx0aGlzLl9zaXplPj10aGlzLm1heFNpemUmJih0aGlzLl9zaXplPTAsdGhpcy5fZW1pdEV2aWN0aW9ucyh0aGlzLm9sZENhY2hlKSx0aGlzLm9sZENhY2hlPXRoaXMuY2FjaGUsdGhpcy5jYWNoZT1uZXcgTWFwKX19LHtrZXk6Il9tb3ZlVG9SZWNlbnQiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dGhpcy5vbGRDYWNoZS5kZWxldGUoZSksdGhpcy5fc2V0KGUsdCl9fSx7a2V5OiJfZW50cmllc0FzY2VuZGluZyIsdmFsdWU6eC5tYXJrKChmdW5jdGlvbiBlKCl7dmFyIHQscixuLGksYSxzLHUsZixsLGMsaCxkO3JldHVybiB4LndyYXAoKGZ1bmN0aW9uKGUpe2Zvcig7Oylzd2l0Y2goZS5wcmV2PWUubmV4dCl7Y2FzZSAwOnQ9ZXQodGhpcy5vbGRDYWNoZSksZS5wcmV2PTEsdC5zKCk7Y2FzZSAzOmlmKChyPXQubigpKS5kb25lKXtlLm5leHQ9MTM7YnJlYWt9aWYobj1yLnZhbHVlLGk9byhuLDIpLGE9aVswXSxzPWlbMV0sdGhpcy5jYWNoZS5oYXMoYSkpe2UubmV4dD0xMTticmVha31pZighMSE9PXRoaXMuX2RlbGV0ZUlmRXhwaXJlZChhLHMpKXtlLm5leHQ9MTE7YnJlYWt9cmV0dXJuIGUubmV4dD0xMSxuO2Nhc2UgMTE6ZS5uZXh0PTM7YnJlYWs7Y2FzZSAxMzplLm5leHQ9MTg7YnJlYWs7Y2FzZSAxNTplLnByZXY9MTUsZS50MD1lLmNhdGNoKDEpLHQuZShlLnQwKTtjYXNlIDE4OnJldHVybiBlLnByZXY9MTgsdC5mKCksZS5maW5pc2goMTgpO2Nhc2UgMjE6dT1ldCh0aGlzLmNhY2hlKSxlLnByZXY9MjIsdS5zKCk7Y2FzZSAyNDppZigoZj11Lm4oKSkuZG9uZSl7ZS5uZXh0PTMzO2JyZWFrfWlmKGw9Zi52YWx1ZSxjPW8obCwyKSxoPWNbMF0sZD1jWzFdLCExIT09dGhpcy5fZGVsZXRlSWZFeHBpcmVkKGgsZCkpe2UubmV4dD0zMTticmVha31yZXR1cm4gZS5uZXh0PTMxLGw7Y2FzZSAzMTplLm5leHQ9MjQ7YnJlYWs7Y2FzZSAzMzplLm5leHQ9Mzg7YnJlYWs7Y2FzZSAzNTplLnByZXY9MzUsZS50MT1lLmNhdGNoKDIyKSx1LmUoZS50MSk7Y2FzZSAzODpyZXR1cm4gZS5wcmV2PTM4LHUuZigpLGUuZmluaXNoKDM4KTtjYXNlIDQxOmNhc2UiZW5kIjpyZXR1cm4gZS5zdG9wKCl9fSksZSx0aGlzLFtbMSwxNSwxOCwyMV0sWzIyLDM1LDM4LDQxXV0pfSkpfSx7a2V5OiJnZXQiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKHRoaXMuY2FjaGUuaGFzKGUpKXt2YXIgdD10aGlzLmNhY2hlLmdldChlKTtyZXR1cm4gdGhpcy5fZ2V0SXRlbVZhbHVlKGUsdCl9aWYodGhpcy5vbGRDYWNoZS5oYXMoZSkpe3ZhciByPXRoaXMub2xkQ2FjaGUuZ2V0KGUpO2lmKCExPT09dGhpcy5fZGVsZXRlSWZFeHBpcmVkKGUscikpcmV0dXJuIHRoaXMuX21vdmVUb1JlY2VudChlLHIpLHIudmFsdWV9fX0se2tleToic2V0Iix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPShhcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06e30pLm1heEFnZSxuPXZvaWQgMD09PXI/dGhpcy5tYXhBZ2U6cixpPSJudW1iZXIiPT10eXBlb2YgbiYmbiE9PU51bWJlci5QT1NJVElWRV9JTkZJTklUWT9EYXRlLm5vdygpK246dm9pZCAwO3RoaXMuY2FjaGUuaGFzKGUpP3RoaXMuY2FjaGUuc2V0KGUse3ZhbHVlOnQsZXhwaXJ5Oml9KTp0aGlzLl9zZXQoZSx7dmFsdWU6dCxleHBpcnk6aX0pfX0se2tleToiaGFzIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5jYWNoZS5oYXMoZSk/IXRoaXMuX2RlbGV0ZUlmRXhwaXJlZChlLHRoaXMuY2FjaGUuZ2V0KGUpKTohIXRoaXMub2xkQ2FjaGUuaGFzKGUpJiYhdGhpcy5fZGVsZXRlSWZFeHBpcmVkKGUsdGhpcy5vbGRDYWNoZS5nZXQoZSkpfX0se2tleToicGVlayIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuY2FjaGUuaGFzKGUpP3RoaXMuX3BlZWsoZSx0aGlzLmNhY2hlKTp0aGlzLm9sZENhY2hlLmhhcyhlKT90aGlzLl9wZWVrKGUsdGhpcy5vbGRDYWNoZSk6dm9pZCAwfX0se2tleToiZGVsZXRlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLmNhY2hlLmRlbGV0ZShlKTtyZXR1cm4gdCYmdGhpcy5fc2l6ZS0tLHRoaXMub2xkQ2FjaGUuZGVsZXRlKGUpfHx0fX0se2tleToiY2xlYXIiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5jYWNoZS5jbGVhcigpLHRoaXMub2xkQ2FjaGUuY2xlYXIoKSx0aGlzLl9zaXplPTB9fSx7a2V5OiJyZXNpemUiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKCEoZSYmZT4wKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJgbWF4U2l6ZWAgbXVzdCBiZSBhIG51bWJlciBncmVhdGVyIHRoYW4gMCIpO3ZhciB0PXoodGhpcy5fZW50cmllc0FzY2VuZGluZygpKSxyPXQubGVuZ3RoLWU7cjwwPyh0aGlzLmNhY2hlPW5ldyBNYXAodCksdGhpcy5vbGRDYWNoZT1uZXcgTWFwLHRoaXMuX3NpemU9dC5sZW5ndGgpOihyPjAmJnRoaXMuX2VtaXRFdmljdGlvbnModC5zbGljZSgwLHIpKSx0aGlzLm9sZENhY2hlPW5ldyBNYXAodC5zbGljZShyKSksdGhpcy5jYWNoZT1uZXcgTWFwLHRoaXMuX3NpemU9MCksdGhpcy5tYXhTaXplPWV9fSx7a2V5OiJrZXlzIix2YWx1ZTp4Lm1hcmsoKGZ1bmN0aW9uIGUoKXt2YXIgdCxyLG4saTtyZXR1cm4geC53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDp0PWV0KHRoaXMpLGUucHJldj0xLHQucygpO2Nhc2UgMzppZigocj10Lm4oKSkuZG9uZSl7ZS5uZXh0PTk7YnJlYWt9cmV0dXJuIG49byhyLnZhbHVlLDEpLGk9blswXSxlLm5leHQ9NyxpO2Nhc2UgNzplLm5leHQ9MzticmVhaztjYXNlIDk6ZS5uZXh0PTE0O2JyZWFrO2Nhc2UgMTE6ZS5wcmV2PTExLGUudDA9ZS5jYXRjaCgxKSx0LmUoZS50MCk7Y2FzZSAxNDpyZXR1cm4gZS5wcmV2PTE0LHQuZigpLGUuZmluaXNoKDE0KTtjYXNlIDE3OmNhc2UiZW5kIjpyZXR1cm4gZS5zdG9wKCl9fSksZSx0aGlzLFtbMSwxMSwxNCwxN11dKX0pKX0se2tleToidmFsdWVzIix2YWx1ZTp4Lm1hcmsoKGZ1bmN0aW9uIGUoKXt2YXIgdCxyLG4saTtyZXR1cm4geC53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDp0PWV0KHRoaXMpLGUucHJldj0xLHQucygpO2Nhc2UgMzppZigocj10Lm4oKSkuZG9uZSl7ZS5uZXh0PTk7YnJlYWt9cmV0dXJuIG49byhyLnZhbHVlLDIpLGk9blsxXSxlLm5leHQ9NyxpO2Nhc2UgNzplLm5leHQ9MzticmVhaztjYXNlIDk6ZS5uZXh0PTE0O2JyZWFrO2Nhc2UgMTE6ZS5wcmV2PTExLGUudDA9ZS5jYXRjaCgxKSx0LmUoZS50MCk7Y2FzZSAxNDpyZXR1cm4gZS5wcmV2PTE0LHQuZigpLGUuZmluaXNoKDE0KTtjYXNlIDE3OmNhc2UiZW5kIjpyZXR1cm4gZS5zdG9wKCl9fSksZSx0aGlzLFtbMSwxMSwxNCwxN11dKX0pKX0se2tleTp0LHZhbHVlOngubWFyaygoZnVuY3Rpb24oKXt2YXIgZSx0LHIsbixpLGEscyx1LGYsbCxjLGg7cmV0dXJuIHgud3JhcCgoZnVuY3Rpb24oZCl7Zm9yKDs7KXN3aXRjaChkLnByZXY9ZC5uZXh0KXtjYXNlIDA6ZT1ldCh0aGlzLmNhY2hlKSxkLnByZXY9MSxlLnMoKTtjYXNlIDM6aWYoKHQ9ZS5uKCkpLmRvbmUpe2QubmV4dD0xMjticmVha31pZihyPXQudmFsdWUsbj1vKHIsMiksaT1uWzBdLGE9blsxXSwhMSE9PXRoaXMuX2RlbGV0ZUlmRXhwaXJlZChpLGEpKXtkLm5leHQ9MTA7YnJlYWt9cmV0dXJuIGQubmV4dD0xMCxbaSxhLnZhbHVlXTtjYXNlIDEwOmQubmV4dD0zO2JyZWFrO2Nhc2UgMTI6ZC5uZXh0PTE3O2JyZWFrO2Nhc2UgMTQ6ZC5wcmV2PTE0LGQudDA9ZC5jYXRjaCgxKSxlLmUoZC50MCk7Y2FzZSAxNzpyZXR1cm4gZC5wcmV2PTE3LGUuZigpLGQuZmluaXNoKDE3KTtjYXNlIDIwOnM9ZXQodGhpcy5vbGRDYWNoZSksZC5wcmV2PTIxLHMucygpO2Nhc2UgMjM6aWYoKHU9cy5uKCkpLmRvbmUpe2QubmV4dD0zMzticmVha31pZihmPXUudmFsdWUsbD1vKGYsMiksYz1sWzBdLGg9bFsxXSx0aGlzLmNhY2hlLmhhcyhjKSl7ZC5uZXh0PTMxO2JyZWFrfWlmKCExIT09dGhpcy5fZGVsZXRlSWZFeHBpcmVkKGMsaCkpe2QubmV4dD0zMTticmVha31yZXR1cm4gZC5uZXh0PTMxLFtjLGgudmFsdWVdO2Nhc2UgMzE6ZC5uZXh0PTIzO2JyZWFrO2Nhc2UgMzM6ZC5uZXh0PTM4O2JyZWFrO2Nhc2UgMzU6ZC5wcmV2PTM1LGQudDE9ZC5jYXRjaCgyMSkscy5lKGQudDEpO2Nhc2UgMzg6cmV0dXJuIGQucHJldj0zOCxzLmYoKSxkLmZpbmlzaCgzOCk7Y2FzZSA0MTpjYXNlImVuZCI6cmV0dXJuIGQuc3RvcCgpfX0pLGEsdGhpcyxbWzEsMTQsMTcsMjBdLFsyMSwzNSwzOCw0MV1dKX0pKX0se2tleToiZW50cmllc0Rlc2NlbmRpbmciLHZhbHVlOngubWFyaygoZnVuY3Rpb24gZSgpe3ZhciB0LHIsbixpLGEscyx1LGYsbCxjLGg7cmV0dXJuIHgud3JhcCgoZnVuY3Rpb24oZSl7Zm9yKDs7KXN3aXRjaChlLnByZXY9ZS5uZXh0KXtjYXNlIDA6dD16KHRoaXMuY2FjaGUpLHI9dC5sZW5ndGgtMTtjYXNlIDI6aWYoIShyPj0wKSl7ZS5uZXh0PTEyO2JyZWFrfWlmKG49dFtyXSxpPW8obiwyKSxhPWlbMF0scz1pWzFdLCExIT09dGhpcy5fZGVsZXRlSWZFeHBpcmVkKGEscykpe2UubmV4dD05O2JyZWFrfXJldHVybiBlLm5leHQ9OSxbYSxzLnZhbHVlXTtjYXNlIDk6LS1yLGUubmV4dD0yO2JyZWFrO2Nhc2UgMTI6dD16KHRoaXMub2xkQ2FjaGUpLHU9dC5sZW5ndGgtMTtjYXNlIDE0OmlmKCEodT49MCkpe2UubmV4dD0yNTticmVha31pZihmPXRbdV0sbD1vKGYsMiksYz1sWzBdLGg9bFsxXSx0aGlzLmNhY2hlLmhhcyhjKSl7ZS5uZXh0PTIyO2JyZWFrfWlmKCExIT09dGhpcy5fZGVsZXRlSWZFeHBpcmVkKGMsaCkpe2UubmV4dD0yMjticmVha31yZXR1cm4gZS5uZXh0PTIyLFtjLGgudmFsdWVdO2Nhc2UgMjI6LS11LGUubmV4dD0xNDticmVhaztjYXNlIDI1OmNhc2UiZW5kIjpyZXR1cm4gZS5zdG9wKCl9fSksZSx0aGlzKX0pKX0se2tleToiZW50cmllc0FzY2VuZGluZyIsdmFsdWU6eC5tYXJrKChmdW5jdGlvbiBlKCl7dmFyIHQscixuLGksYTtyZXR1cm4geC53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDp0PWV0KHRoaXMuX2VudHJpZXNBc2NlbmRpbmcoKSksZS5wcmV2PTEsdC5zKCk7Y2FzZSAzOmlmKChyPXQubigpKS5kb25lKXtlLm5leHQ9OTticmVha31yZXR1cm4gbj1vKHIudmFsdWUsMiksaT1uWzBdLGE9blsxXSxlLm5leHQ9NyxbaSxhLnZhbHVlXTtjYXNlIDc6ZS5uZXh0PTM7YnJlYWs7Y2FzZSA5OmUubmV4dD0xNDticmVhaztjYXNlIDExOmUucHJldj0xMSxlLnQwPWUuY2F0Y2goMSksdC5lKGUudDApO2Nhc2UgMTQ6cmV0dXJuIGUucHJldj0xNCx0LmYoKSxlLmZpbmlzaCgxNCk7Y2FzZSAxNzpjYXNlImVuZCI6cmV0dXJuIGUuc3RvcCgpfX0pLGUsdGhpcyxbWzEsMTEsMTQsMTddXSl9KSl9LHtrZXk6InNpemUiLGdldDpmdW5jdGlvbigpe2lmKCF0aGlzLl9zaXplKXJldHVybiB0aGlzLm9sZENhY2hlLnNpemU7dmFyIGUsdD0wLHI9ZXQodGhpcy5vbGRDYWNoZS5rZXlzKCkpO3RyeXtmb3Ioci5zKCk7IShlPXIubigpKS5kb25lOyl7dmFyIG49ZS52YWx1ZTt0aGlzLmNhY2hlLmhhcyhuKXx8dCsrfX1jYXRjaChlKXtyLmUoZSl9ZmluYWxseXtyLmYoKX1yZXR1cm4gTWF0aC5taW4odGhpcy5fc2l6ZSt0LHRoaXMubWF4U2l6ZSl9fSx7a2V5OiJlbnRyaWVzIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVudHJpZXNBc2NlbmRpbmcoKX19LHtrZXk6ImZvckVhY2giLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0LHI9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnRoaXMsbj1ldCh0aGlzLmVudHJpZXNBc2NlbmRpbmcoKSk7dHJ5e2ZvcihuLnMoKTshKHQ9bi5uKCkpLmRvbmU7KXt2YXIgaT1vKHQudmFsdWUsMiksYT1pWzBdLHM9aVsxXTtlLmNhbGwocixzLGEsdGhpcyl9fWNhdGNoKGUpe24uZShlKX1maW5hbGx5e24uZigpfX19LHtrZXk6cix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBKU09OLnN0cmluZ2lmeSh6KHRoaXMuZW50cmllc0FzY2VuZGluZygpKSl9fV0pLGl9KHcoTWFwKSxTeW1ib2wuaXRlcmF0b3IsU3ltYm9sLnRvU3RyaW5nVGFnKTtmdW5jdGlvbiBpdChlKXt2YXIgdD1mdW5jdGlvbigpe2lmKCJ1bmRlZmluZWQiPT10eXBlb2YgUmVmbGVjdHx8IVJlZmxlY3QuY29uc3RydWN0KXJldHVybiExO2lmKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pcmV0dXJuITE7aWYoImZ1bmN0aW9uIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaChlKXtyZXR1cm4hMX19KCk7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIHIsbj12KGUpO2lmKHQpe3ZhciBpPXYodGhpcykuY29uc3RydWN0b3I7cj1SZWZsZWN0LmNvbnN0cnVjdChuLGFyZ3VtZW50cyxpKX1lbHNlIHI9bi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIG0odGhpcyxyKX19ZnVuY3Rpb24gYXQoZSx0KXtmb3IodmFyIHIgaW4gdCl0Lmhhc093blByb3BlcnR5KHIpJiYoZVtyXT10W3JdKX1mdW5jdGlvbiBvdChlLHQpe3JldHVybiEoZS5sZW5ndGg8dC5sZW5ndGgpJiZlLnN1YnN0cihlLmxlbmd0aC10Lmxlbmd0aCk9PT10fWZ1bmN0aW9uIHN0KGUpe3ZhciB0PXt9O2Zvcih2YXIgciBpbiBlKWUuaGFzT3duUHJvcGVydHkocikmJih0W2Vbcl1dPXIpO3JldHVybiB0fWZ1bmN0aW9uIHV0KGUsdCl7Zm9yKHZhciByPVtdLG49MDtuPGU7bisrKXIucHVzaCh0KG4pKTtyZXR1cm4gcn1mdW5jdGlvbiBmdChlKXtyZXR1cm4gbHQuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIGx0KCl7cmV0dXJuKGx0PXUoeC5tYXJrKChmdW5jdGlvbiBlKHQpe3JldHVybiB4LndyYXAoKGZ1bmN0aW9uKGUpe2Zvcig7Oylzd2l0Y2goZS5wcmV2PWUubmV4dCl7Y2FzZSAwOnJldHVybiBlLmFicnVwdCgicmV0dXJuIixuZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSl7cmV0dXJuIHNldFRpbWVvdXQoZSx0KX0pKSk7Y2FzZSAxOmNhc2UiZW5kIjpyZXR1cm4gZS5zdG9wKCl9fSksZSl9KSkpKS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gY3QoZSx0KXt2YXIgcj1BcnJheS5pc0FycmF5KGUpP2U6QXJyYXkuZnJvbShlKSxuPUFycmF5LmlzQXJyYXkodCk/dDpBcnJheS5mcm9tKHQpO3JldHVybiByLm1hcCgoZnVuY3Rpb24oZSx0KXtyZXR1cm5bZSxuW3RdXX0pKX12YXIgaHQ9ZnVuY3Rpb24oZSl7aChyLGUpO3ZhciB0PWl0KHIpO2Z1bmN0aW9uIHIoZSl7dmFyIG47cmV0dXJuIGIodGhpcyxyKSxuPXQuY2FsbCh0aGlzLGUpLEVycm9yLmNhcHR1cmVTdGFja1RyYWNlJiZFcnJvci5jYXB0dXJlU3RhY2tUcmFjZShwKG4pLHIpLG4ubmFtZT0iQWJvcnRFcnJvciIsbn1yZXR1cm4gcn0odyhFcnJvcikpLGR0PWZ1bmN0aW9uKGUpe2gocixlKTt2YXIgdD1pdChyKTtmdW5jdGlvbiByKGUsbil7dmFyIGk7cmV0dXJuIGIodGhpcyxyKSwoaT10LmNhbGwodGhpcyxuKSkuZXJyb3JzPWUsaS5tZXNzYWdlPW4saS5uYW1lPSJBZ2dyZWdhdGVFcnJvciIsaX1yZXR1cm4gcn0odyhFcnJvcikpO2Z1bmN0aW9uIHB0KGUsdCl7dmFyIHI9InVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJmVbU3ltYm9sLml0ZXJhdG9yXXx8ZVsiQEBpdGVyYXRvciJdO2lmKCFyKXtpZihBcnJheS5pc0FycmF5KGUpfHwocj1mdW5jdGlvbihlLHQpe2lmKGUpe2lmKCJzdHJpbmciPT10eXBlb2YgZSlyZXR1cm4gbXQoZSx0KTt2YXIgcj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkuc2xpY2UoOCwtMSk7cmV0dXJuIk9iamVjdCI9PT1yJiZlLmNvbnN0cnVjdG9yJiYocj1lLmNvbnN0cnVjdG9yLm5hbWUpLCJNYXAiPT09cnx8IlNldCI9PT1yP0FycmF5LmZyb20oZSk6IkFyZ3VtZW50cyI9PT1yfHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChyKT9tdChlLHQpOnZvaWQgMH19KGUpKXx8dCYmZSYmIm51bWJlciI9PXR5cGVvZiBlLmxlbmd0aCl7ciYmKGU9cik7dmFyIG49MCxpPWZ1bmN0aW9uKCl7fTtyZXR1cm57czppLG46ZnVuY3Rpb24oKXtyZXR1cm4gbj49ZS5sZW5ndGg/e2RvbmU6ITB9Ontkb25lOiExLHZhbHVlOmVbbisrXX19LGU6ZnVuY3Rpb24oZSl7dGhyb3cgZX0sZjppfX10aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gaXRlcmF0ZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9dmFyIGEsbz0hMCxzPSExO3JldHVybntzOmZ1bmN0aW9uKCl7cj1yLmNhbGwoZSl9LG46ZnVuY3Rpb24oKXt2YXIgZT1yLm5leHQoKTtyZXR1cm4gbz1lLmRvbmUsZX0sZTpmdW5jdGlvbihlKXtzPSEwLGE9ZX0sZjpmdW5jdGlvbigpe3RyeXtvfHxudWxsPT1yLnJldHVybnx8ci5yZXR1cm4oKX1maW5hbGx5e2lmKHMpdGhyb3cgYX19fX1mdW5jdGlvbiBtdChlLHQpeyhudWxsPT10fHx0PmUubGVuZ3RoKSYmKHQ9ZS5sZW5ndGgpO2Zvcih2YXIgcj0wLG49bmV3IEFycmF5KHQpO3I8dDtyKyspbltyXT1lW3JdO3JldHVybiBufWZ1bmN0aW9uIHZ0KGUpe3ZhciB0PWZ1bmN0aW9uKCl7aWYoInVuZGVmaW5lZCI9PXR5cGVvZiBSZWZsZWN0fHwhUmVmbGVjdC5jb25zdHJ1Y3QpcmV0dXJuITE7aWYoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZigiZnVuY3Rpb24iPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKGUpe3JldHVybiExfX0oKTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgcixuPXYoZSk7aWYodCl7dmFyIGk9dih0aGlzKS5jb25zdHJ1Y3RvcjtyPVJlZmxlY3QuY29uc3RydWN0KG4sYXJndW1lbnRzLGkpfWVsc2Ugcj1uLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gbSh0aGlzLHIpfX12YXIgZ3Q9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscil7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOm51bGw7Yih0aGlzLGUpLHRoaXMub2Zmc2V0PXQsdGhpcy5sZW5ndGg9cix0aGlzLmRhdGE9bn1yZXR1cm4gbChlLFt7a2V5OiJ0b3AiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9mZnNldCt0aGlzLmxlbmd0aH19XSksZX0oKSx5dD1mdW5jdGlvbiBlKHQscixuKXtiKHRoaXMsZSksdGhpcy5vZmZzZXQ9dCx0aGlzLmxlbmd0aD1yLHRoaXMuYmxvY2tJZHM9bn0sd3Q9ZnVuY3Rpb24oZSl7aChuLGUpO3ZhciB0LHI9dnQobik7ZnVuY3Rpb24gbihlKXt2YXIgdCxpPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fSxhPWkuYmxvY2tTaXplLG89dm9pZCAwPT09YT82NTUzNjphLHM9aS5jYWNoZVNpemUsdT12b2lkIDA9PT1zPzEwMDpzO3JldHVybiBiKHRoaXMsbiksKHQ9ci5jYWxsKHRoaXMpKS5zb3VyY2U9ZSx0LmJsb2NrU2l6ZT1vLHQuYmxvY2tDYWNoZT1uZXcgbnQoe21heFNpemU6dX0pLHQuYmxvY2tSZXF1ZXN0cz1uZXcgTWFwLHQuYmxvY2tJZHNUb0ZldGNoPW5ldyBTZXQsdC5hYm9ydGVkQmxvY2tJZHM9bmV3IFNldCx0fXJldHVybiBsKG4sW3trZXk6ImZpbGVTaXplIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zb3VyY2UuZmlsZVNpemV9fSx7a2V5OiJmZXRjaCIsdmFsdWU6KHQ9dSh4Lm1hcmsoKGZ1bmN0aW9uIGUodCxyKXt2YXIgbixpLGEsbyxzLHUsZixsLGMsaCxkLHAsbSx2LGcseSx3LGIsayxBLF8sSSxQLFMsVCxPLFU9dGhpcztyZXR1cm4geC53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDpuPVtdLGk9W10sYT1bXSxvPXB0KHQpO3RyeXtmb3Ioby5zKCk7IShzPW8ubigpKS5kb25lOylmb3IodT1zLnZhbHVlLGY9dS5vZmZzZXQsbD11Lmxlbmd0aCxjPWYrbCxudWxsIT09KGg9dGhpcy5maWxlU2l6ZSkmJihjPU1hdGgubWluKGMsaCkpLGQ9TWF0aC5mbG9vcihmL3RoaXMuYmxvY2tTaXplKSp0aGlzLmJsb2NrU2l6ZSxwPWQ7cDxjO3ArPXRoaXMuYmxvY2tTaXplKW09TWF0aC5mbG9vcihwL3RoaXMuYmxvY2tTaXplKSx0aGlzLmJsb2NrQ2FjaGUuaGFzKG0pfHx0aGlzLmJsb2NrUmVxdWVzdHMuaGFzKG0pfHwodGhpcy5ibG9ja0lkc1RvRmV0Y2guYWRkKG0pLGkucHVzaChtKSksdGhpcy5ibG9ja1JlcXVlc3RzLmhhcyhtKSYmbi5wdXNoKHRoaXMuYmxvY2tSZXF1ZXN0cy5nZXQobSkpLGEucHVzaChtKX1jYXRjaChlKXtvLmUoZSl9ZmluYWxseXtvLmYoKX1yZXR1cm4gZS5uZXh0PTcsZnQoKTtjYXNlIDc6Zm9yKHRoaXMuZmV0Y2hCbG9ja3Mociksdj1bXSxnPTAseT1pO2c8eS5sZW5ndGg7ZysrKXc9eVtnXSx0aGlzLmJsb2NrUmVxdWVzdHMuaGFzKHcpJiZ2LnB1c2godGhpcy5ibG9ja1JlcXVlc3RzLmdldCh3KSk7cmV0dXJuIGUubmV4dD0xMixQcm9taXNlLmFsbFNldHRsZWQobik7Y2FzZSAxMjpyZXR1cm4gZS5uZXh0PTE0LFByb21pc2UuYWxsU2V0dGxlZCh2KTtjYXNlIDE0OmlmKGI9W10sKGs9YS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBVLmFib3J0ZWRCbG9ja0lkcy5oYXMoZSl8fCFVLmJsb2NrQ2FjaGUuaGFzKGUpfSkpKS5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gVS5ibG9ja0lkc1RvRmV0Y2guYWRkKGUpfSkpLCEoay5sZW5ndGg+MCYmcil8fHIuYWJvcnRlZCl7ZS5uZXh0PTQwO2JyZWFrfXRoaXMuZmV0Y2hCbG9ja3MobnVsbCksQT1wdChrKSxlLnByZXY9MjAsQS5zKCk7Y2FzZSAyMjppZigoXz1BLm4oKSkuZG9uZSl7ZS5uZXh0PTMwO2JyZWFrfWlmKEk9Xy52YWx1ZSxQPXRoaXMuYmxvY2tSZXF1ZXN0cy5nZXQoSSkpe2UubmV4dD0yNzticmVha310aHJvdyBuZXcgRXJyb3IoIkJsb2NrICIuY29uY2F0KEksIiBpcyBub3QgaW4gdGhlIGJsb2NrIHJlcXVlc3RzIikpO2Nhc2UgMjc6Yi5wdXNoKFApO2Nhc2UgMjg6ZS5uZXh0PTIyO2JyZWFrO2Nhc2UgMzA6ZS5uZXh0PTM1O2JyZWFrO2Nhc2UgMzI6ZS5wcmV2PTMyLGUudDA9ZS5jYXRjaCgyMCksQS5lKGUudDApO2Nhc2UgMzU6cmV0dXJuIGUucHJldj0zNSxBLmYoKSxlLmZpbmlzaCgzNSk7Y2FzZSAzODpyZXR1cm4gZS5uZXh0PTQwLFByb21pc2UuYWxsU2V0dGxlZChiKTtjYXNlIDQwOmlmKCFyfHwhci5hYm9ydGVkKXtlLm5leHQ9NDI7YnJlYWt9dGhyb3cgbmV3IGh0KCJSZXF1ZXN0IHdhcyBhYm9ydGVkIik7Y2FzZSA0MjppZihTPWEubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gVS5ibG9ja0NhY2hlLmdldChlKX0pKSxUPVMuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4hZX0pKSwhVC5sZW5ndGgpe2UubmV4dD00NjticmVha310aHJvdyBuZXcgZHQoVCwiUmVxdWVzdCBmYWlsZWQiKTtjYXNlIDQ2OnJldHVybiBPPW5ldyBNYXAoY3QoYSxTKSksZS5hYnJ1cHQoInJldHVybiIsdGhpcy5yZWFkU2xpY2VEYXRhKHQsTykpO2Nhc2UgNDg6Y2FzZSJlbmQiOnJldHVybiBlLnN0b3AoKX19KSxlLHRoaXMsW1syMCwzMiwzNSwzOF1dKX0pKSksZnVuY3Rpb24oZSxyKXtyZXR1cm4gdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX0se2tleToiZmV0Y2hCbG9ja3MiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dGhpcy5ibG9ja0lkc1RvRmV0Y2guc2l6ZT4wJiZmdW5jdGlvbigpe2Zvcih2YXIgcj10Lmdyb3VwQmxvY2tzKHQuYmxvY2tJZHNUb0ZldGNoKSxuPXQuc291cmNlLmZldGNoKHIsZSksaT1mdW5jdGlvbihpKXt2YXIgYSxvPXB0KHJbaV0uYmxvY2tJZHMpO3RyeXt2YXIgcz1mdW5jdGlvbigpe3ZhciByPWEudmFsdWU7dC5ibG9ja1JlcXVlc3RzLnNldChyLHUoeC5tYXJrKChmdW5jdGlvbiBhKCl7dmFyIG8scyx1LGYsbCxjO3JldHVybiB4LndyYXAoKGZ1bmN0aW9uKGEpe2Zvcig7Oylzd2l0Y2goYS5wcmV2PWEubmV4dCl7Y2FzZSAwOnJldHVybiBhLnByZXY9MCxhLm5leHQ9MyxuO2Nhc2UgMzphLnQwPWksbz1hLnNlbnRbYS50MF0scz1yKnQuYmxvY2tTaXplLHU9cy1vLm9mZnNldCxmPU1hdGgubWluKHUrdC5ibG9ja1NpemUsby5kYXRhLmJ5dGVMZW5ndGgpLGw9by5kYXRhLnNsaWNlKHUsZiksYz1uZXcgZ3QocyxsLmJ5dGVMZW5ndGgsbCxyKSx0LmJsb2NrQ2FjaGUuc2V0KHIsYyksdC5hYm9ydGVkQmxvY2tJZHMuZGVsZXRlKHIpLGEubmV4dD0yMzticmVhaztjYXNlIDE0OmlmKGEucHJldj0xNCxhLnQxPWEuY2F0Y2goMCksIkFib3J0RXJyb3IiIT09YS50MS5uYW1lKXthLm5leHQ9MjI7YnJlYWt9YS50MS5zaWduYWw9ZSx0LmJsb2NrQ2FjaGUuZGVsZXRlKHIpLHQuYWJvcnRlZEJsb2NrSWRzLmFkZChyKSxhLm5leHQ9MjM7YnJlYWs7Y2FzZSAyMjp0aHJvdyBhLnQxO2Nhc2UgMjM6cmV0dXJuIGEucHJldj0yMyx0LmJsb2NrUmVxdWVzdHMuZGVsZXRlKHIpLGEuZmluaXNoKDIzKTtjYXNlIDI2OmNhc2UiZW5kIjpyZXR1cm4gYS5zdG9wKCl9fSksYSxudWxsLFtbMCwxNCwyMywyNl1dKX0pKSkoKSl9O2ZvcihvLnMoKTshKGE9by5uKCkpLmRvbmU7KXMoKX1jYXRjaChlKXtvLmUoZSl9ZmluYWxseXtvLmYoKX19LGE9MDthPHIubGVuZ3RoOysrYSlpKGEpO3QuYmxvY2tJZHNUb0ZldGNoLmNsZWFyKCl9KCl9fSx7a2V5OiJncm91cEJsb2NrcyIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9QXJyYXkuZnJvbShlKS5zb3J0KChmdW5jdGlvbihlLHQpe3JldHVybiBlLXR9KSk7aWYoMD09PXQubGVuZ3RoKXJldHVybltdO3ZhciByLG49W10saT1udWxsLGE9W10sbz1wdCh0KTt0cnl7Zm9yKG8ucygpOyEocj1vLm4oKSkuZG9uZTspe3ZhciBzPXIudmFsdWU7bnVsbD09PWl8fGkrMT09PXM/KG4ucHVzaChzKSxpPXMpOihhLnB1c2gobmV3IHl0KG5bMF0qdGhpcy5ibG9ja1NpemUsbi5sZW5ndGgqdGhpcy5ibG9ja1NpemUsbikpLG49W3NdLGk9cyl9fWNhdGNoKGUpe28uZShlKX1maW5hbGx5e28uZigpfXJldHVybiBhLnB1c2gobmV3IHl0KG5bMF0qdGhpcy5ibG9ja1NpemUsbi5sZW5ndGgqdGhpcy5ibG9ja1NpemUsbikpLGF9fSx7a2V5OiJyZWFkU2xpY2VEYXRhIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7cmV0dXJuIGUubWFwKChmdW5jdGlvbihlKXt2YXIgbj1lLm9mZnNldCtlLmxlbmd0aDtudWxsIT09ci5maWxlU2l6ZSYmKG49TWF0aC5taW4oci5maWxlU2l6ZSxuKSk7Zm9yKHZhciBpPU1hdGguZmxvb3IoZS5vZmZzZXQvci5ibG9ja1NpemUpLGE9TWF0aC5mbG9vcihuL3IuYmxvY2tTaXplKSxvPW5ldyBBcnJheUJ1ZmZlcihlLmxlbmd0aCkscz1uZXcgVWludDhBcnJheShvKSx1PWk7dTw9YTsrK3Upe3ZhciBmPXQuZ2V0KHUpLGw9Zi5vZmZzZXQtZS5vZmZzZXQsYz0wLGg9MCxkPXZvaWQgMDtsPDA/Yz0tbDpsPjAmJihoPWwpLGQ9Zi50b3AtbjwwP2YubGVuZ3RoLWM6bi1mLm9mZnNldC1jO3ZhciBwPW5ldyBVaW50OEFycmF5KGYuZGF0YSxjLGQpO3Muc2V0KHAsaCl9cmV0dXJuIG99KSl9fV0pLG59KCRlKSxidD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXtiKHRoaXMsZSl9dmFyIHQ7cmV0dXJuIGwoZSxbe2tleToib2siLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YXR1cz49MjAwJiZ0aGlzLnN0YXR1czw9Mjk5fX0se2tleToic3RhdHVzIixnZXQ6ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoIm5vdCBpbXBsZW1lbnRlZCIpfX0se2tleToiZ2V0SGVhZGVyIix2YWx1ZTpmdW5jdGlvbihlKXt0aHJvdyBuZXcgRXJyb3IoIm5vdCBpbXBsZW1lbnRlZCIpfX0se2tleToiZ2V0RGF0YSIsdmFsdWU6KHQ9dSh4Lm1hcmsoKGZ1bmN0aW9uIGUoKXtyZXR1cm4geC53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDp0aHJvdyBuZXcgRXJyb3IoIm5vdCBpbXBsZW1lbnRlZCIpO2Nhc2UgMTpjYXNlImVuZCI6cmV0dXJuIGUuc3RvcCgpfX0pLGUpfSkpKSxmdW5jdGlvbigpe3JldHVybiB0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfV0pLGV9KCksa3Q9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQpe2IodGhpcyxlKSx0aGlzLnVybD10fXZhciB0O3JldHVybiBsKGUsW3trZXk6InJlcXVlc3QiLHZhbHVlOih0PXUoeC5tYXJrKChmdW5jdGlvbiBlKCl7cmV0dXJuIHgud3JhcCgoZnVuY3Rpb24oZSl7Zm9yKDs7KXN3aXRjaChlLnByZXY9ZS5uZXh0KXtjYXNlIDA6dGhyb3cgbmV3IEVycm9yKCJyZXF1ZXN0IGlzIG5vdCBpbXBsZW1lbnRlZCIpO2Nhc2UgMjpjYXNlImVuZCI6cmV0dXJuIGUuc3RvcCgpfX0pLGUpfSkpKSxmdW5jdGlvbigpe3JldHVybiB0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfV0pLGV9KCk7ZnVuY3Rpb24geHQoZSl7dmFyIHQ9ZnVuY3Rpb24oKXtpZigidW5kZWZpbmVkIj09dHlwZW9mIFJlZmxlY3R8fCFSZWZsZWN0LmNvbnN0cnVjdClyZXR1cm4hMTtpZihSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKXJldHVybiExO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2goZSl7cmV0dXJuITF9fSgpO3JldHVybiBmdW5jdGlvbigpe3ZhciByLG49dihlKTtpZih0KXt2YXIgaT12KHRoaXMpLmNvbnN0cnVjdG9yO3I9UmVmbGVjdC5jb25zdHJ1Y3Qobixhcmd1bWVudHMsaSl9ZWxzZSByPW4uYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBtKHRoaXMscil9fXZhciBBdD1mdW5jdGlvbihlKXtoKG4sZSk7dmFyIHQscj14dChuKTtmdW5jdGlvbiBuKGUpe3ZhciB0O3JldHVybiBiKHRoaXMsbiksKHQ9ci5jYWxsKHRoaXMpKS5yZXNwb25zZT1lLHR9cmV0dXJuIGwobixbe2tleToic3RhdHVzIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yZXNwb25zZS5zdGF0dXN9fSx7a2V5OiJnZXRIZWFkZXIiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnJlc3BvbnNlLmhlYWRlcnMuZ2V0KGUpfX0se2tleToiZ2V0RGF0YSIsdmFsdWU6KHQ9dSh4Lm1hcmsoKGZ1bmN0aW9uIGUoKXt2YXIgdDtyZXR1cm4geC53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDppZighdGhpcy5yZXNwb25zZS5hcnJheUJ1ZmZlcil7ZS5uZXh0PTY7YnJlYWt9cmV0dXJuIGUubmV4dD0zLHRoaXMucmVzcG9uc2UuYXJyYXlCdWZmZXIoKTtjYXNlIDM6ZS50MD1lLnNlbnQsZS5uZXh0PTk7YnJlYWs7Y2FzZSA2OnJldHVybiBlLm5leHQ9OCx0aGlzLnJlc3BvbnNlLmJ1ZmZlcigpO2Nhc2UgODplLnQwPWUuc2VudC5idWZmZXI7Y2FzZSA5OnJldHVybiB0PWUudDAsZS5hYnJ1cHQoInJldHVybiIsdCk7Y2FzZSAxMTpjYXNlImVuZCI6cmV0dXJuIGUuc3RvcCgpfX0pLGUsdGhpcyl9KSkpLGZ1bmN0aW9uKCl7cmV0dXJuIHQuYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9XSksbn0oYnQpLF90PWZ1bmN0aW9uKGUpe2gobixlKTt2YXIgdCxyPXh0KG4pO2Z1bmN0aW9uIG4oZSx0KXt2YXIgaTtyZXR1cm4gYih0aGlzLG4pLChpPXIuY2FsbCh0aGlzLGUpKS5jcmVkZW50aWFscz10LGl9cmV0dXJuIGwobixbe2tleToicmVxdWVzdCIsdmFsdWU6KHQ9dSh4Lm1hcmsoKGZ1bmN0aW9uIGUoKXt2YXIgdCxyLG4saSxhLG89YXJndW1lbnRzO3JldHVybiB4LndyYXAoKGZ1bmN0aW9uKGUpe2Zvcig7Oylzd2l0Y2goZS5wcmV2PWUubmV4dCl7Y2FzZSAwOnJldHVybiB0PW8ubGVuZ3RoPjAmJnZvaWQgMCE9PW9bMF0/b1swXTp7fSxyPXQuaGVhZGVycyxuPXQuY3JlZGVudGlhbHMsaT10LnNpZ25hbCxlLm5leHQ9MyxmZXRjaCh0aGlzLnVybCx7aGVhZGVyczpyLGNyZWRlbnRpYWxzOm4sc2lnbmFsOml9KTtjYXNlIDM6cmV0dXJuIGE9ZS5zZW50LGUuYWJydXB0KCJyZXR1cm4iLG5ldyBBdChhKSk7Y2FzZSA1OmNhc2UiZW5kIjpyZXR1cm4gZS5zdG9wKCl9fSksZSx0aGlzKX0pKSksZnVuY3Rpb24oKXtyZXR1cm4gdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX1dKSxufShrdCk7ZnVuY3Rpb24gSXQoZSl7dmFyIHQ9ZnVuY3Rpb24oKXtpZigidW5kZWZpbmVkIj09dHlwZW9mIFJlZmxlY3R8fCFSZWZsZWN0LmNvbnN0cnVjdClyZXR1cm4hMTtpZihSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKXJldHVybiExO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2goZSl7cmV0dXJuITF9fSgpO3JldHVybiBmdW5jdGlvbigpe3ZhciByLG49dihlKTtpZih0KXt2YXIgaT12KHRoaXMpLmNvbnN0cnVjdG9yO3I9UmVmbGVjdC5jb25zdHJ1Y3Qobixhcmd1bWVudHMsaSl9ZWxzZSByPW4uYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBtKHRoaXMscil9fXZhciBQdD1mdW5jdGlvbihlKXtoKG4sZSk7dmFyIHQscj1JdChuKTtmdW5jdGlvbiBuKGUsdCl7dmFyIGk7cmV0dXJuIGIodGhpcyxuKSwoaT1yLmNhbGwodGhpcykpLnhocj1lLGkuZGF0YT10LGl9cmV0dXJuIGwobixbe2tleToic3RhdHVzIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy54aHIuc3RhdHVzfX0se2tleToiZ2V0SGVhZGVyIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy54aHIuZ2V0UmVzcG9uc2VIZWFkZXIoZSl9fSx7a2V5OiJnZXREYXRhIix2YWx1ZToodD11KHgubWFyaygoZnVuY3Rpb24gZSgpe3JldHVybiB4LndyYXAoKGZ1bmN0aW9uKGUpe2Zvcig7Oylzd2l0Y2goZS5wcmV2PWUubmV4dCl7Y2FzZSAwOnJldHVybiBlLmFicnVwdCgicmV0dXJuIix0aGlzLmRhdGEpO2Nhc2UgMTpjYXNlImVuZCI6cmV0dXJuIGUuc3RvcCgpfX0pLGUsdGhpcyl9KSkpLGZ1bmN0aW9uKCl7cmV0dXJuIHQuYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9XSksbn0oYnQpLFN0PWZ1bmN0aW9uKGUpe2gobixlKTt2YXIgdCxyPUl0KG4pO2Z1bmN0aW9uIG4oKXtyZXR1cm4gYih0aGlzLG4pLHIuYXBwbHkodGhpcyxhcmd1bWVudHMpfXJldHVybiBsKG4sW3trZXk6ImNvbnN0cnVjdFJlcXVlc3QiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKG4saSl7dmFyIGE9bmV3IFhNTEh0dHBSZXF1ZXN0O2Eub3BlbigiR0VUIixyLnVybCksYS5yZXNwb25zZVR5cGU9ImFycmF5YnVmZmVyIjtmb3IodmFyIHM9MCx1PU9iamVjdC5lbnRyaWVzKGUpO3M8dS5sZW5ndGg7cysrKXt2YXIgZj1vKHVbc10sMiksbD1mWzBdLGM9ZlsxXTthLnNldFJlcXVlc3RIZWFkZXIobCxjKX1hLm9ubG9hZD1mdW5jdGlvbigpe3ZhciBlPWEucmVzcG9uc2U7bihuZXcgUHQoYSxlKSl9LGEub25lcnJvcj1pLGEub25hYm9ydD1mdW5jdGlvbigpe3JldHVybiBpKG5ldyBodCgiUmVxdWVzdCBhYm9ydGVkIikpfSxhLnNlbmQoKSx0JiYodC5hYm9ydGVkJiZhLmFib3J0KCksdC5hZGRFdmVudExpc3RlbmVyKCJhYm9ydCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGEuYWJvcnQoKX0pKSl9KSl9fSx7a2V5OiJyZXF1ZXN0Iix2YWx1ZToodD11KHgubWFyaygoZnVuY3Rpb24gZSgpe3ZhciB0LHIsbixpLGE9YXJndW1lbnRzO3JldHVybiB4LndyYXAoKGZ1bmN0aW9uKGUpe2Zvcig7Oylzd2l0Y2goZS5wcmV2PWUubmV4dCl7Y2FzZSAwOnJldHVybiB0PWEubGVuZ3RoPjAmJnZvaWQgMCE9PWFbMF0/YVswXTp7fSxyPXQuaGVhZGVycyxuPXQuc2lnbmFsLGUubmV4dD0zLHRoaXMuY29uc3RydWN0UmVxdWVzdChyLG4pO2Nhc2UgMzpyZXR1cm4gaT1lLnNlbnQsZS5hYnJ1cHQoInJldHVybiIsaSk7Y2FzZSA1OmNhc2UiZW5kIjpyZXR1cm4gZS5zdG9wKCl9fSksZSx0aGlzKX0pKSksZnVuY3Rpb24oKXtyZXR1cm4gdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX1dKSxufShrdCksVHQ9e307ZnVuY3Rpb24gT3QoZSx0KXt2YXIgcj1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihuPW4uZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLHIucHVzaC5hcHBseShyLG4pfXJldHVybiByfWZ1bmN0aW9uIFV0KGUpe2Zvcih2YXIgcj0xO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspe3ZhciBuPW51bGwhPWFyZ3VtZW50c1tyXT9hcmd1bWVudHNbcl06e307ciUyP090KE9iamVjdChuKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24ocil7dChlLHIsbltyXSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSk6T3QoT2JqZWN0KG4pKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iobix0KSl9KSl9cmV0dXJuIGV9ZnVuY3Rpb24gRHQoZSl7dmFyIHQ9ZnVuY3Rpb24oKXtpZigidW5kZWZpbmVkIj09dHlwZW9mIFJlZmxlY3R8fCFSZWZsZWN0LmNvbnN0cnVjdClyZXR1cm4hMTtpZihSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKXJldHVybiExO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2goZSl7cmV0dXJuITF9fSgpO3JldHVybiBmdW5jdGlvbigpe3ZhciByLG49dihlKTtpZih0KXt2YXIgaT12KHRoaXMpLmNvbnN0cnVjdG9yO3I9UmVmbGVjdC5jb25zdHJ1Y3Qobixhcmd1bWVudHMsaSl9ZWxzZSByPW4uYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBtKHRoaXMscil9fXZhciBFdD1mdW5jdGlvbihlKXtoKG4sZSk7dmFyIHQscj1EdChuKTtmdW5jdGlvbiBuKGUsdCl7dmFyIGk7cmV0dXJuIGIodGhpcyxuKSwoaT1yLmNhbGwodGhpcykpLnJlc3BvbnNlPWUsaS5kYXRhUHJvbWlzZT10LGl9cmV0dXJuIGwobixbe2tleToic3RhdHVzIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yZXNwb25zZS5zdGF0dXNDb2RlfX0se2tleToiZ2V0SGVhZGVyIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5yZXNwb25zZS5oZWFkZXJzW2VdfX0se2tleToiZ2V0RGF0YSIsdmFsdWU6KHQ9dSh4Lm1hcmsoKGZ1bmN0aW9uIGUoKXt2YXIgdDtyZXR1cm4geC53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDpyZXR1cm4gZS5uZXh0PTIsdGhpcy5kYXRhUHJvbWlzZTtjYXNlIDI6cmV0dXJuIHQ9ZS5zZW50LGUuYWJydXB0KCJyZXR1cm4iLHQpO2Nhc2UgNDpjYXNlImVuZCI6cmV0dXJuIGUuc3RvcCgpfX0pLGUsdGhpcyl9KSkpLGZ1bmN0aW9uKCl7cmV0dXJuIHQuYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9XSksbn0oYnQpLFJ0PWZ1bmN0aW9uKGUpe2gobixlKTt2YXIgdCxyPUR0KG4pO2Z1bmN0aW9uIG4oZSl7dmFyIHQ7cmV0dXJuIGIodGhpcyxuKSwodD1yLmNhbGwodGhpcyxlKSkucGFyc2VkVXJsPVR0LnBhcnNlKHQudXJsKSx0Lmh0dHBBcGk9KHQucGFyc2VkVXJsLnByb3RvY29sLFR0KSx0fXJldHVybiBsKG4sW3trZXk6ImNvbnN0cnVjdFJlcXVlc3QiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKG4saSl7dmFyIGE9ci5odHRwQXBpLmdldChVdChVdCh7fSxyLnBhcnNlZFVybCkse30se2hlYWRlcnM6ZX0pLChmdW5jdGlvbihlKXt2YXIgdD1uZXcgUHJvbWlzZSgoZnVuY3Rpb24odCl7dmFyIHI9W107ZS5vbigiZGF0YSIsKGZ1bmN0aW9uKGUpe3IucHVzaChlKX0pKSxlLm9uKCJlbmQiLChmdW5jdGlvbigpe3ZhciBlPUJ1ZmZlci5jb25jYXQocikuYnVmZmVyO3QoZSl9KSksZS5vbigiZXJyb3IiLGkpfSkpO24obmV3IEV0KGUsdCkpfSkpO2Eub24oImVycm9yIixpKSx0JiYodC5hYm9ydGVkJiZhLmRlc3Ryb3kobmV3IGh0KCJSZXF1ZXN0IGFib3J0ZWQiKSksdC5hZGRFdmVudExpc3RlbmVyKCJhYm9ydCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGEuZGVzdHJveShuZXcgaHQoIlJlcXVlc3QgYWJvcnRlZCIpKX0pKSl9KSl9fSx7a2V5OiJyZXF1ZXN0Iix2YWx1ZToodD11KHgubWFyaygoZnVuY3Rpb24gZSgpe3ZhciB0LHIsbixpLGE9YXJndW1lbnRzO3JldHVybiB4LndyYXAoKGZ1bmN0aW9uKGUpe2Zvcig7Oylzd2l0Y2goZS5wcmV2PWUubmV4dCl7Y2FzZSAwOnJldHVybiB0PWEubGVuZ3RoPjAmJnZvaWQgMCE9PWFbMF0/YVswXTp7fSxyPXQuaGVhZGVycyxuPXQuc2lnbmFsLGUubmV4dD0zLHRoaXMuY29uc3RydWN0UmVxdWVzdChyLG4pO2Nhc2UgMzpyZXR1cm4gaT1lLnNlbnQsZS5hYnJ1cHQoInJldHVybiIsaSk7Y2FzZSA1OmNhc2UiZW5kIjpyZXR1cm4gZS5zdG9wKCl9fSksZSx0aGlzKX0pKSksZnVuY3Rpb24oKXtyZXR1cm4gdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX1dKSxufShrdCksTXQ9WyJoZWFkZXJzIiwiY3JlZGVudGlhbHMiLCJtYXhSYW5nZXMiLCJhbGxvd0Z1bGxGaWxlIl0sQnQ9WyJoZWFkZXJzIiwibWF4UmFuZ2VzIiwiYWxsb3dGdWxsRmlsZSJdLEN0PVsiaGVhZGVycyIsIm1heFJhbmdlcyIsImFsbG93RnVsbEZpbGUiXSxMdD1bImZvcmNlWEhSIl07ZnVuY3Rpb24gRnQoZSx0KXt2YXIgcj1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihuPW4uZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLHIucHVzaC5hcHBseShyLG4pfXJldHVybiByfWZ1bmN0aW9uIFZ0KGUpe2Zvcih2YXIgcj0xO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspe3ZhciBuPW51bGwhPWFyZ3VtZW50c1tyXT9hcmd1bWVudHNbcl06e307ciUyP0Z0KE9iamVjdChuKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24ocil7dChlLHIsbltyXSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSk6RnQoT2JqZWN0KG4pKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iobix0KSl9KSl9cmV0dXJuIGV9ZnVuY3Rpb24gR3QoZSl7dmFyIHQ9ZnVuY3Rpb24oKXtpZigidW5kZWZpbmVkIj09dHlwZW9mIFJlZmxlY3R8fCFSZWZsZWN0LmNvbnN0cnVjdClyZXR1cm4hMTtpZihSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKXJldHVybiExO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2goZSl7cmV0dXJuITF9fSgpO3JldHVybiBmdW5jdGlvbigpe3ZhciByLG49dihlKTtpZih0KXt2YXIgaT12KHRoaXMpLmNvbnN0cnVjdG9yO3I9UmVmbGVjdC5jb25zdHJ1Y3Qobixhcmd1bWVudHMsaSl9ZWxzZSByPW4uYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBtKHRoaXMscil9fXZhciBqdD1mdW5jdGlvbihlKXtoKGEsZSk7dmFyIHQscixuLGk9R3QoYSk7ZnVuY3Rpb24gYShlLHQscixuKXt2YXIgbztyZXR1cm4gYih0aGlzLGEpLChvPWkuY2FsbCh0aGlzKSkuY2xpZW50PWUsby5oZWFkZXJzPXQsby5tYXhSYW5nZXM9cixvLmFsbG93RnVsbEZpbGU9bixvLl9maWxlU2l6ZT1udWxsLG99cmV0dXJuIGwoYSxbe2tleToiZmV0Y2giLHZhbHVlOihuPXUoeC5tYXJrKChmdW5jdGlvbiBlKHQscil7dmFyIG49dGhpcztyZXR1cm4geC53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDppZighKHRoaXMubWF4UmFuZ2VzPj10Lmxlbmd0aCkpe2UubmV4dD00O2JyZWFrfXJldHVybiBlLmFicnVwdCgicmV0dXJuIix0aGlzLmZldGNoU2xpY2VzKHQscikpO2Nhc2UgNDp0aGlzLm1heFJhbmdlcz4wJiZ0Lmxlbmd0aDtjYXNlIDU6cmV0dXJuIGUuYWJydXB0KCJyZXR1cm4iLFByb21pc2UuYWxsKHQubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gbi5mZXRjaFNsaWNlKGUscil9KSkpKTtjYXNlIDY6Y2FzZSJlbmQiOnJldHVybiBlLnN0b3AoKX19KSxlLHRoaXMpfSkpKSxmdW5jdGlvbihlLHQpe3JldHVybiBuLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfSx7a2V5OiJmZXRjaFNsaWNlcyIsdmFsdWU6KHI9dSh4Lm1hcmsoKGZ1bmN0aW9uIGUodCxyKXt2YXIgbixpLGEsbyxzLHUsZixsLGMsaCxkLHAsbSx2PXRoaXM7cmV0dXJuIHgud3JhcCgoZnVuY3Rpb24oZSl7Zm9yKDs7KXN3aXRjaChlLnByZXY9ZS5uZXh0KXtjYXNlIDA6cmV0dXJuIGUubmV4dD0yLHRoaXMuY2xpZW50LnJlcXVlc3Qoe2hlYWRlcnM6VnQoVnQoe30sdGhpcy5oZWFkZXJzKSx7fSx7UmFuZ2U6ImJ5dGVzPSIuY29uY2F0KHQubWFwKChmdW5jdGlvbihlKXt2YXIgdD1lLm9mZnNldCxyPWUubGVuZ3RoO3JldHVybiIiLmNvbmNhdCh0LCItIikuY29uY2F0KHQrcil9KSkuam9pbigiLCIpKX0pLHNpZ25hbDpyfSk7Y2FzZSAyOmlmKChuPWUuc2VudCkub2spe2UubmV4dD03O2JyZWFrfXRocm93IG5ldyBFcnJvcigiRXJyb3IgZmV0Y2hpbmcgZGF0YS4iKTtjYXNlIDc6aWYoMjA2IT09bi5zdGF0dXMpe2UubmV4dD0zMjticmVha31pZihpPVhlKG4uZ2V0SGVhZGVyKCJjb250ZW50LXR5cGUiKSksYT1pLnR5cGUsbz1pLnBhcmFtcywibXVsdGlwYXJ0L2J5dGVyYW5nZXMiIT09YSl7ZS5uZXh0PTE4O2JyZWFrfXJldHVybiBlLnQwPVFlLGUubmV4dD0xMyxuLmdldERhdGEoKTtjYXNlIDEzOnJldHVybiBlLnQxPWUuc2VudCxlLnQyPW8uYm91bmRhcnkscz0oMCxlLnQwKShlLnQxLGUudDIpLHRoaXMuX2ZpbGVTaXplPXNbMF0uZmlsZVNpemV8fG51bGwsZS5hYnJ1cHQoInJldHVybiIscyk7Y2FzZSAxODpyZXR1cm4gZS5uZXh0PTIwLG4uZ2V0RGF0YSgpO2Nhc2UgMjA6aWYodT1lLnNlbnQsZj1KZShuLmdldEhlYWRlcigiY29udGVudC1yYW5nZSIpKSxsPWYuc3RhcnQsYz1mLmVuZCxoPWYudG90YWwsdGhpcy5fZmlsZVNpemU9aHx8bnVsbCxkPVt7ZGF0YTp1LG9mZnNldDpsLGxlbmd0aDpjLWx9XSwhKHQubGVuZ3RoPjEpKXtlLm5leHQ9Mjk7YnJlYWt9cmV0dXJuIGUubmV4dD0yNyxQcm9taXNlLmFsbCh0LnNsaWNlKDEpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIHYuZmV0Y2hTbGljZShlLHIpfSkpKTtjYXNlIDI3OnJldHVybiBwPWUuc2VudCxlLmFicnVwdCgicmV0dXJuIixkLmNvbmNhdChwKSk7Y2FzZSAyOTpyZXR1cm4gZS5hYnJ1cHQoInJldHVybiIsZCk7Y2FzZSAzMjppZih0aGlzLmFsbG93RnVsbEZpbGUpe2UubmV4dD0zNDticmVha310aHJvdyBuZXcgRXJyb3IoIlNlcnZlciByZXNwb25kZWQgd2l0aCBmdWxsIGZpbGUiKTtjYXNlIDM0OnJldHVybiBlLm5leHQ9MzYsbi5nZXREYXRhKCk7Y2FzZSAzNjpyZXR1cm4gbT1lLnNlbnQsdGhpcy5fZmlsZVNpemU9bS5ieXRlTGVuZ3RoLGUuYWJydXB0KCJyZXR1cm4iLFt7ZGF0YTptLG9mZnNldDowLGxlbmd0aDptLmJ5dGVMZW5ndGh9XSk7Y2FzZSAzOTpjYXNlImVuZCI6cmV0dXJuIGUuc3RvcCgpfX0pLGUsdGhpcyl9KSkpLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHIuYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9LHtrZXk6ImZldGNoU2xpY2UiLHZhbHVlOih0PXUoeC5tYXJrKChmdW5jdGlvbiBlKHQscil7dmFyIG4saSxhLG8scyx1LGY7cmV0dXJuIHgud3JhcCgoZnVuY3Rpb24oZSl7Zm9yKDs7KXN3aXRjaChlLnByZXY9ZS5uZXh0KXtjYXNlIDA6cmV0dXJuIG49dC5vZmZzZXQsaT10Lmxlbmd0aCxlLm5leHQ9Myx0aGlzLmNsaWVudC5yZXF1ZXN0KHtoZWFkZXJzOlZ0KFZ0KHt9LHRoaXMuaGVhZGVycykse30se1JhbmdlOiJieXRlcz0iLmNvbmNhdChuLCItIikuY29uY2F0KG4raSl9KSxzaWduYWw6cn0pO2Nhc2UgMzppZigoYT1lLnNlbnQpLm9rKXtlLm5leHQ9ODticmVha310aHJvdyBuZXcgRXJyb3IoIkVycm9yIGZldGNoaW5nIGRhdGEuIik7Y2FzZSA4OmlmKDIwNiE9PWEuc3RhdHVzKXtlLm5leHQ9MTc7YnJlYWt9cmV0dXJuIGUubmV4dD0xMSxhLmdldERhdGEoKTtjYXNlIDExOnJldHVybiBvPWUuc2VudCxzPUplKGEuZ2V0SGVhZGVyKCJjb250ZW50LXJhbmdlIikpLHU9cy50b3RhbCx0aGlzLl9maWxlU2l6ZT11fHxudWxsLGUuYWJydXB0KCJyZXR1cm4iLHtkYXRhOm8sb2Zmc2V0Om4sbGVuZ3RoOml9KTtjYXNlIDE3OmlmKHRoaXMuYWxsb3dGdWxsRmlsZSl7ZS5uZXh0PTE5O2JyZWFrfXRocm93IG5ldyBFcnJvcigiU2VydmVyIHJlc3BvbmRlZCB3aXRoIGZ1bGwgZmlsZSIpO2Nhc2UgMTk6cmV0dXJuIGUubmV4dD0yMSxhLmdldERhdGEoKTtjYXNlIDIxOnJldHVybiBmPWUuc2VudCx0aGlzLl9maWxlU2l6ZT1mLmJ5dGVMZW5ndGgsZS5hYnJ1cHQoInJldHVybiIse2RhdGE6ZixvZmZzZXQ6MCxsZW5ndGg6Zi5ieXRlTGVuZ3RofSk7Y2FzZSAyNDpjYXNlImVuZCI6cmV0dXJuIGUuc3RvcCgpfX0pLGUsdGhpcyl9KSkpLGZ1bmN0aW9uKGUscil7cmV0dXJuIHQuYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9LHtrZXk6ImZpbGVTaXplIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZmlsZVNpemV9fV0pLGF9KCRlKTtmdW5jdGlvbiB6dChlLHQpe3ZhciByPXQuYmxvY2tTaXplLG49dC5jYWNoZVNpemU7cmV0dXJuIG51bGw9PT1yP2U6bmV3IHd0KGUse2Jsb2NrU2l6ZTpyLGNhY2hlU2l6ZTpufSl9ZnVuY3Rpb24gTnQoZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9LHI9dC5oZWFkZXJzLG49dm9pZCAwPT09cj97fTpyLGk9dC5jcmVkZW50aWFscyxhPXQubWF4UmFuZ2VzLG89dm9pZCAwPT09YT8wOmEscz10LmFsbG93RnVsbEZpbGUsdT12b2lkIDAhPT1zJiZzLGY9S2UodCxNdCksbD1uZXcgX3QoZSxpKTtyZXR1cm4genQobmV3IGp0KGwsbixvLHUpLGYpfWZ1bmN0aW9uIEt0KGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fSxyPXQuaGVhZGVycyxuPXZvaWQgMD09PXI/e306cixpPXQubWF4UmFuZ2VzLGE9dm9pZCAwPT09aT8wOmksbz10LmFsbG93RnVsbEZpbGUscz12b2lkIDAhPT1vJiZvLHU9S2UodCxCdCksZj1uZXcgU3QoZSk7cmV0dXJuIHp0KG5ldyBqdChmLG4sYSxzKSx1KX1mdW5jdGlvbiBadChlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e30scj10LmhlYWRlcnMsbj12b2lkIDA9PT1yP3t9OnIsaT10Lm1heFJhbmdlcyxhPXZvaWQgMD09PWk/MDppLG89dC5hbGxvd0Z1bGxGaWxlLHM9dm9pZCAwIT09byYmbyx1PUtlKHQsQ3QpLGY9bmV3IFJ0KGUpO3JldHVybiB6dChuZXcganQoZixuLGEscyksdSl9ZnVuY3Rpb24gSHQoZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9LHI9dC5mb3JjZVhIUixuPXZvaWQgMCE9PXImJnIsaT1LZSh0LEx0KTtyZXR1cm4iZnVuY3Rpb24iIT10eXBlb2YgZmV0Y2h8fG4/InVuZGVmaW5lZCIhPXR5cGVvZiBYTUxIdHRwUmVxdWVzdD9LdChlLGkpOlp0KGUsaSk6TnQoZSxpKX1mdW5jdGlvbiBZdChlKXt2YXIgdD1mdW5jdGlvbigpe2lmKCJ1bmRlZmluZWQiPT10eXBlb2YgUmVmbGVjdHx8IVJlZmxlY3QuY29uc3RydWN0KXJldHVybiExO2lmKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pcmV0dXJuITE7aWYoImZ1bmN0aW9uIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaChlKXtyZXR1cm4hMX19KCk7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIHIsbj12KGUpO2lmKHQpe3ZhciBpPXYodGhpcykuY29uc3RydWN0b3I7cj1SZWZsZWN0LmNvbnN0cnVjdChuLGFyZ3VtZW50cyxpKX1lbHNlIHI9bi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIG0odGhpcyxyKX19dmFyIHF0PWZ1bmN0aW9uKGUpe2gocixlKTt2YXIgdD1ZdChyKTtmdW5jdGlvbiByKGUpe3ZhciBuO3JldHVybiBiKHRoaXMsciksKG49dC5jYWxsKHRoaXMpKS5hcnJheUJ1ZmZlcj1lLG59cmV0dXJuIGwocixbe2tleToiZmV0Y2hTbGljZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtpZih0JiZ0LmFib3J0ZWQpdGhyb3cgbmV3IGh0KCJSZXF1ZXN0IGFib3J0ZWQiKTtyZXR1cm4gdGhpcy5hcnJheUJ1ZmZlci5zbGljZShlLm9mZnNldCxlLm9mZnNldCtlLmxlbmd0aCl9fV0pLHJ9KCRlKTtmdW5jdGlvbiBXdChlKXtyZXR1cm4gbmV3IHF0KGUpfWZ1bmN0aW9uIFh0KGUpe3ZhciB0PWZ1bmN0aW9uKCl7aWYoInVuZGVmaW5lZCI9PXR5cGVvZiBSZWZsZWN0fHwhUmVmbGVjdC5jb25zdHJ1Y3QpcmV0dXJuITE7aWYoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZigiZnVuY3Rpb24iPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKGUpe3JldHVybiExfX0oKTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgcixuPXYoZSk7aWYodCl7dmFyIGk9dih0aGlzKS5jb25zdHJ1Y3RvcjtyPVJlZmxlY3QuY29uc3RydWN0KG4sYXJndW1lbnRzLGkpfWVsc2Ugcj1uLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gbSh0aGlzLHIpfX12YXIgSnQ9ZnVuY3Rpb24oZSl7aChuLGUpO3ZhciB0LHI9WHQobik7ZnVuY3Rpb24gbihlKXt2YXIgdDtyZXR1cm4gYih0aGlzLG4pLCh0PXIuY2FsbCh0aGlzKSkuZmlsZT1lLHR9cmV0dXJuIGwobixbe2tleToiZmV0Y2hTbGljZSIsdmFsdWU6KHQ9dSh4Lm1hcmsoKGZ1bmN0aW9uIGUodCxyKXt2YXIgbj10aGlzO3JldHVybiB4LndyYXAoKGZ1bmN0aW9uKGUpe2Zvcig7Oylzd2l0Y2goZS5wcmV2PWUubmV4dCl7Y2FzZSAwOnJldHVybiBlLmFicnVwdCgicmV0dXJuIixuZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSxpKXt2YXIgYT1uLmZpbGUuc2xpY2UodC5vZmZzZXQsdC5vZmZzZXQrdC5sZW5ndGgpLG89bmV3IEZpbGVSZWFkZXI7by5vbmxvYWQ9ZnVuY3Rpb24odCl7cmV0dXJuIGUodC50YXJnZXQucmVzdWx0KX0sby5vbmVycm9yPWksby5vbmFib3J0PWksby5yZWFkQXNBcnJheUJ1ZmZlcihhKSxyJiZyLmFkZEV2ZW50TGlzdGVuZXIoImFib3J0IiwoZnVuY3Rpb24oKXtyZXR1cm4gby5hYm9ydCgpfSkpfSkpKTtjYXNlIDE6Y2FzZSJlbmQiOnJldHVybiBlLnN0b3AoKX19KSxlKX0pKSksZnVuY3Rpb24oZSxyKXtyZXR1cm4gdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX1dKSxufSgkZSk7ZnVuY3Rpb24gUXQoZSl7cmV0dXJuIG5ldyBKdChlKX1mdW5jdGlvbiAkdChlKXt2YXIgdD1mdW5jdGlvbigpe2lmKCJ1bmRlZmluZWQiPT10eXBlb2YgUmVmbGVjdHx8IVJlZmxlY3QuY29uc3RydWN0KXJldHVybiExO2lmKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pcmV0dXJuITE7aWYoImZ1bmN0aW9uIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaChlKXtyZXR1cm4hMX19KCk7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIHIsbj12KGUpO2lmKHQpe3ZhciBpPXYodGhpcykuY29uc3RydWN0b3I7cj1SZWZsZWN0LmNvbnN0cnVjdChuLGFyZ3VtZW50cyxpKX1lbHNlIHI9bi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIG0odGhpcyxyKX19ZnVuY3Rpb24gZXIoZSl7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbih0LHIpe1R0LmNsb3NlKGUsKGZ1bmN0aW9uKGUpe2U/cihlKTp0KCl9KSl9KSl9ZnVuY3Rpb24gdHIoKXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCx0PW5ldyBBcnJheShlKSxyPTA7cjxlO3IrKyl0W3JdPWFyZ3VtZW50c1tyXTtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKGUscil7VHQucmVhZC5hcHBseShUdCx0LmNvbmNhdChbZnVuY3Rpb24odCxuLGkpe3Q/cih0KTplKHtieXRlc1JlYWQ6bixidWZmZXI6aX0pfV0pKX0pKX12YXIgcnI9ZnVuY3Rpb24oZSl7aChpLGUpO3ZhciB0LHIsbj0kdChpKTtmdW5jdGlvbiBpKGUpe3ZhciB0O3JldHVybiBiKHRoaXMsaSksKHQ9bi5jYWxsKHRoaXMpKS5wYXRoPWUsdC5vcGVuUmVxdWVzdD1mdW5jdGlvbihlLHQpe3ZhciByPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp2b2lkIDA7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihuLGkpe1R0Lm9wZW4oZSx0LHIsKGZ1bmN0aW9uKGUsdCl7ZT9pKGUpOm4odCl9KSl9KSl9KGUsInIiKSx0fXJldHVybiBsKGksW3trZXk6ImZldGNoU2xpY2UiLHZhbHVlOihyPXUoeC5tYXJrKChmdW5jdGlvbiBlKHQpe3ZhciByLG4saTtyZXR1cm4geC53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDpyZXR1cm4gZS5uZXh0PTIsdGhpcy5vcGVuUmVxdWVzdDtjYXNlIDI6cmV0dXJuIHI9ZS5zZW50LGUubmV4dD01LHRyKHIsQnVmZmVyLmFsbG9jKHQubGVuZ3RoKSwwLHQubGVuZ3RoLHQub2Zmc2V0KTtjYXNlIDU6cmV0dXJuIG49ZS5zZW50LGk9bi5idWZmZXIsZS5hYnJ1cHQoInJldHVybiIsaS5idWZmZXIpO2Nhc2UgODpjYXNlImVuZCI6cmV0dXJuIGUuc3RvcCgpfX0pLGUsdGhpcyl9KSkpLGZ1bmN0aW9uKGUpe3JldHVybiByLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfSx7a2V5OiJjbG9zZSIsdmFsdWU6KHQ9dSh4Lm1hcmsoKGZ1bmN0aW9uIGUoKXt2YXIgdDtyZXR1cm4geC53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDpyZXR1cm4gZS5uZXh0PTIsdGhpcy5vcGVuUmVxdWVzdDtjYXNlIDI6cmV0dXJuIHQ9ZS5zZW50LGUubmV4dD01LGVyKHQpO2Nhc2UgNTpjYXNlImVuZCI6cmV0dXJuIGUuc3RvcCgpfX0pLGUsdGhpcyl9KSkpLGZ1bmN0aW9uKCl7cmV0dXJuIHQuYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9XSksaX0oJGUpO2Z1bmN0aW9uIG5yKGUpe3JldHVybiBuZXcgcnIoZSl9ZnVuY3Rpb24gaXIoZSx0KXt2YXIgcj0idW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmZVtTeW1ib2wuaXRlcmF0b3JdfHxlWyJAQGl0ZXJhdG9yIl07aWYoIXIpe2lmKEFycmF5LmlzQXJyYXkoZSl8fChyPWZ1bmN0aW9uKGUsdCl7aWYoZSl7aWYoInN0cmluZyI9PXR5cGVvZiBlKXJldHVybiBhcihlLHQpO3ZhciByPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKS5zbGljZSg4LC0xKTtyZXR1cm4iT2JqZWN0Ij09PXImJmUuY29uc3RydWN0b3ImJihyPWUuY29uc3RydWN0b3IubmFtZSksIk1hcCI9PT1yfHwiU2V0Ij09PXI/QXJyYXkuZnJvbShlKToiQXJndW1lbnRzIj09PXJ8fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KHIpP2FyKGUsdCk6dm9pZCAwfX0oZSkpfHx0JiZlJiYibnVtYmVyIj09dHlwZW9mIGUubGVuZ3RoKXtyJiYoZT1yKTt2YXIgbj0wLGk9ZnVuY3Rpb24oKXt9O3JldHVybntzOmksbjpmdW5jdGlvbigpe3JldHVybiBuPj1lLmxlbmd0aD97ZG9uZTohMH06e2RvbmU6ITEsdmFsdWU6ZVtuKytdfX0sZTpmdW5jdGlvbihlKXt0aHJvdyBlfSxmOml9fXRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBpdGVyYXRlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX12YXIgYSxvPSEwLHM9ITE7cmV0dXJue3M6ZnVuY3Rpb24oKXtyPXIuY2FsbChlKX0sbjpmdW5jdGlvbigpe3ZhciBlPXIubmV4dCgpO3JldHVybiBvPWUuZG9uZSxlfSxlOmZ1bmN0aW9uKGUpe3M9ITAsYT1lfSxmOmZ1bmN0aW9uKCl7dHJ5e298fG51bGw9PXIucmV0dXJufHxyLnJldHVybigpfWZpbmFsbHl7aWYocyl0aHJvdyBhfX19fWZ1bmN0aW9uIGFyKGUsdCl7KG51bGw9PXR8fHQ+ZS5sZW5ndGgpJiYodD1lLmxlbmd0aCk7Zm9yKHZhciByPTAsbj1uZXcgQXJyYXkodCk7cjx0O3IrKyluW3JdPWVbcl07cmV0dXJuIG59dmFyIG9yPXN0KFEpLHNyPXN0KGxlKSx1cj17fTthdCh1cixvciksYXQodXIsc3IpO3ZhciBmcj1zdChuZSksbHI9MWUzLGNyPXtuZXh0WmVybzpmdW5jdGlvbihlLHQpe2Zvcih2YXIgcj10OzAhPT1lW3JdOylyKys7cmV0dXJuIHJ9LHJlYWRVc2hvcnQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZVt0XTw8OHxlW3QrMV19LHJlYWRTaG9ydDpmdW5jdGlvbihlLHQpe3ZhciByPWNyLnVpODtyZXR1cm4gclswXT1lW3QrMV0sclsxXT1lW3QrMF0sY3IuaTE2WzBdfSxyZWFkSW50OmZ1bmN0aW9uKGUsdCl7dmFyIHI9Y3IudWk4O3JldHVybiByWzBdPWVbdCszXSxyWzFdPWVbdCsyXSxyWzJdPWVbdCsxXSxyWzNdPWVbdCswXSxjci5pMzJbMF19LHJlYWRVaW50OmZ1bmN0aW9uKGUsdCl7dmFyIHI9Y3IudWk4O3JldHVybiByWzBdPWVbdCszXSxyWzFdPWVbdCsyXSxyWzJdPWVbdCsxXSxyWzNdPWVbdCswXSxjci51aTMyWzBdfSxyZWFkQVNDSUk6ZnVuY3Rpb24oZSx0LHIpe3JldHVybiByLm1hcCgoZnVuY3Rpb24ocil7cmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoZVt0K3JdKX0pKS5qb2luKCIiKX0scmVhZEZsb2F0OmZ1bmN0aW9uKGUsdCl7dmFyIHI9Y3IudWk4O3JldHVybiB1dCg0LChmdW5jdGlvbihuKXtyW25dPWVbdCszLW5dfSkpLGNyLmZsMzJbMF19LHJlYWREb3VibGU6ZnVuY3Rpb24oZSx0KXt2YXIgcj1jci51aTg7cmV0dXJuIHV0KDgsKGZ1bmN0aW9uKG4pe3Jbbl09ZVt0Kzctbl19KSksY3IuZmw2NFswXX0sd3JpdGVVc2hvcnQ6ZnVuY3Rpb24oZSx0LHIpe2VbdF09cj4+OCYyNTUsZVt0KzFdPTI1NSZyfSx3cml0ZVVpbnQ6ZnVuY3Rpb24oZSx0LHIpe2VbdF09cj4+MjQmMjU1LGVbdCsxXT1yPj4xNiYyNTUsZVt0KzJdPXI+PjgmMjU1LGVbdCszXT1yPj4wJjI1NX0sd3JpdGVBU0NJSTpmdW5jdGlvbihlLHQscil7dXQoci5sZW5ndGgsKGZ1bmN0aW9uKG4pe2VbdCtuXT1yLmNoYXJDb2RlQXQobil9KSl9LHVpODpuZXcgVWludDhBcnJheSg4KX07Y3IuZmw2ND1uZXcgRmxvYXQ2NEFycmF5KGNyLnVpOC5idWZmZXIpLGNyLndyaXRlRG91YmxlPWZ1bmN0aW9uKGUsdCxyKXtjci5mbDY0WzBdPXIsdXQoOCwoZnVuY3Rpb24ocil7ZVt0K3JdPWNyLnVpOFs3LXJdfSkpfTt2YXIgaHI9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IFVpbnQ4QXJyYXkobHIpLHI9NCxuPWNyO3RbMF09NzcsdFsxXT03Nyx0WzNdPTQyO3ZhciBpPTg7aWYobi53cml0ZVVpbnQodCxyLGkpLHIrPTQsZS5mb3JFYWNoKChmdW5jdGlvbihyLGEpe3ZhciBvPWZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBpPXIsYT1PYmplY3Qua2V5cyhuKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBudWxsIT1lJiYidW5kZWZpbmVkIiE9PWV9KSk7ZS53cml0ZVVzaG9ydCh0LGksYS5sZW5ndGgpO3ZhciBvLHM9KGkrPTIpKzEyKmEubGVuZ3RoKzQsdT1pcihhKTt0cnl7dmFyIGY9ZnVuY3Rpb24oKXt2YXIgcj1vLnZhbHVlLGE9bnVsbDsibnVtYmVyIj09dHlwZW9mIHI/YT1yOiJzdHJpbmciPT10eXBlb2YgciYmKGE9cGFyc2VJbnQociwxMCkpO3ZhciB1PXRlW2FdLGY9ZnJbdV07aWYobnVsbD09dXx8dm9pZCAwPT09dXx8dm9pZCAwPT09dSl0aHJvdyBuZXcgRXJyb3IoInVua25vd24gdHlwZSBvZiB0YWc6ICIuY29uY2F0KGEpKTt2YXIgbD1uW3JdO2lmKHZvaWQgMD09PWwpdGhyb3cgbmV3IEVycm9yKCJmYWlsZWQgdG8gZ2V0IHZhbHVlIGZvciBrZXkgIi5jb25jYXQocikpOyJBU0NJSSI9PT11JiYic3RyaW5nIj09dHlwZW9mIGwmJiExPT09b3QobCwiXDAiKSYmKGwrPSJcMCIpO3ZhciBjPWwubGVuZ3RoO2Uud3JpdGVVc2hvcnQodCxpLGEpLGkrPTIsZS53cml0ZVVzaG9ydCh0LGksZiksaSs9MixlLndyaXRlVWludCh0LGksYyk7dmFyIGg9Wy0xLDEsMSwyLDQsOCwwLDAsMCwwLDAsMCw4XVtmXSpjLGQ9aSs9NDtoPjQmJihlLndyaXRlVWludCh0LGkscyksZD1zKSwiQVNDSUkiPT09dT9lLndyaXRlQVNDSUkodCxkLGwpOiJTSE9SVCI9PT11P3V0KGMsKGZ1bmN0aW9uKHIpe2Uud3JpdGVVc2hvcnQodCxkKzIqcixsW3JdKX0pKToiTE9ORyI9PT11P3V0KGMsKGZ1bmN0aW9uKHIpe2Uud3JpdGVVaW50KHQsZCs0KnIsbFtyXSl9KSk6IlJBVElPTkFMIj09PXU/dXQoYywoZnVuY3Rpb24ocil7ZS53cml0ZVVpbnQodCxkKzgqcixNYXRoLnJvdW5kKDFlNCpsW3JdKSksZS53cml0ZVVpbnQodCxkKzgqcis0LDFlNCl9KSk6IkRPVUJMRSI9PT11JiZ1dChjLChmdW5jdGlvbihyKXtlLndyaXRlRG91YmxlKHQsZCs4KnIsbFtyXSl9KSksaD40JiYocys9aCs9MSZoKSxpKz00fTtmb3IodS5zKCk7IShvPXUubigpKS5kb25lOylmKCl9Y2F0Y2goZSl7dS5lKGUpfWZpbmFsbHl7dS5mKCl9cmV0dXJuW2ksc119KG4sdCxpLHIpO2k9b1sxXSxhPGUubGVuZ3RoLTEmJm4ud3JpdGVVaW50KHQsb1swXSxpKX0pKSx0LnNsaWNlKXJldHVybiB0LnNsaWNlKDAsaSkuYnVmZmVyO2Zvcih2YXIgYT1uZXcgVWludDhBcnJheShpKSxvPTA7bzxpO28rKylhW29dPXRbb107cmV0dXJuIGEuYnVmZmVyfSxkcj1bWyJDb21wcmVzc2lvbiIsMV0sWyJQbGFuYXJDb25maWd1cmF0aW9uIiwxXSxbIkV4dHJhU2FtcGxlcyIsMF1dO2Z1bmN0aW9uIHByKGUsdCl7dmFyIHIsbixpLGE7Im51bWJlciI9PXR5cGVvZiBlWzBdPyhyPXQuaGVpZ2h0fHx0LkltYWdlTGVuZ3RoLGk9dC53aWR0aHx8dC5JbWFnZVdpZHRoLG49ZS5sZW5ndGgvKHIqaSksYT1lKToobj1lLmxlbmd0aCxyPWVbMF0ubGVuZ3RoLGk9ZVswXVswXS5sZW5ndGgsYT1bXSx1dChyLChmdW5jdGlvbih0KXt1dChpLChmdW5jdGlvbihyKXt1dChuLChmdW5jdGlvbihuKXthLnB1c2goZVtuXVt0XVtyXSl9KSl9KSl9KSkpLHQuSW1hZ2VMZW5ndGg9cixkZWxldGUgdC5oZWlnaHQsdC5JbWFnZVdpZHRoPWksZGVsZXRlIHQud2lkdGgsdC5CaXRzUGVyU2FtcGxlfHwodC5CaXRzUGVyU2FtcGxlPXV0KG4sKGZ1bmN0aW9uKCl7cmV0dXJuIDh9KSkpLGRyLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciByPWVbMF07aWYoIXRbcl0pe3ZhciBuPWVbMV07dFtyXT1ufX0pKSx0LlBob3RvbWV0cmljSW50ZXJwcmV0YXRpb258fCh0LlBob3RvbWV0cmljSW50ZXJwcmV0YXRpb249Mz09PXQuQml0c1BlclNhbXBsZS5sZW5ndGg/MjoxKSx0LlNhbXBsZXNQZXJQaXhlbHx8KHQuU2FtcGxlc1BlclBpeGVsPVtuXSksdC5TdHJpcEJ5dGVDb3VudHN8fCh0LlN0cmlwQnl0ZUNvdW50cz1bbipyKmldKSx0Lk1vZGVsUGl4ZWxTY2FsZXx8KHQuTW9kZWxQaXhlbFNjYWxlPVszNjAvaSwxODAvciwwXSksdC5TYW1wbGVGb3JtYXR8fCh0LlNhbXBsZUZvcm1hdD11dChuLChmdW5jdGlvbigpe3JldHVybiAxfSkpKSx0Lmhhc093blByb3BlcnR5KCJHZW9ncmFwaGljVHlwZUdlb0tleSIpfHx0Lmhhc093blByb3BlcnR5KCJQcm9qZWN0ZWRDU1R5cGVHZW9LZXkiKXx8KHQuR2VvZ3JhcGhpY1R5cGVHZW9LZXk9NDMyNix0Lk1vZGVsVGllcG9pbnQ9WzAsMCwwLC0xODAsOTAsMF0sdC5HZW9nQ2l0YXRpb25HZW9LZXk9IldHUyA4NCIsdC5HVE1vZGVsVHlwZUdlb0tleT0yKTt2YXIgbz1PYmplY3Qua2V5cyh0KS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBvdChlLCJHZW9LZXkiKX0pKS5zb3J0KChmdW5jdGlvbihlLHQpe3JldHVybiB1cltlXS11clt0XX0pKTtpZighdC5HZW9Bc2NpaVBhcmFtcyl7dmFyIHM9IiI7by5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgcj1OdW1iZXIodXJbZV0pOyJBU0NJSSI9PT10ZVtyXSYmKHMrPSIiLmNvbmNhdCh0W2VdLnRvU3RyaW5nKCksIlwwIikpfSkpLHMubGVuZ3RoPjAmJih0Lkdlb0FzY2lpUGFyYW1zPXMpfWlmKCF0Lkdlb0tleURpcmVjdG9yeSl7dmFyIHU9WzEsMSwwLG8ubGVuZ3RoXTtvLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciByLG4saSxhPU51bWJlcih1cltlXSk7dS5wdXNoKGEpLCJTSE9SVCI9PT10ZVthXT8ocj0xLG49MCxpPXRbZV0pOiJHZW9nQ2l0YXRpb25HZW9LZXkiPT09ZT8ocj10Lkdlb0FzY2lpUGFyYW1zLmxlbmd0aCxuPU51bWJlcih1ci5HZW9Bc2NpaVBhcmFtcyksaT0wKTpjb25zb2xlLmxvZygiW2dlb3RpZmYuanNdIGNvdWxkbid0IGdldCBUSUZGVGFnTG9jYXRpb24gZm9yICIuY29uY2F0KGUpKSx1LnB1c2gobiksdS5wdXNoKHIpLHUucHVzaChpKX0pKSx0Lkdlb0tleURpcmVjdG9yeT11fWZvcih2YXIgZiBpbiBvKW8uaGFzT3duUHJvcGVydHkoZikmJmRlbGV0ZSB0W2ZdO1siQ29tcHJlc3Npb24iLCJFeHRyYVNhbXBsZXMiLCJHZW9ncmFwaGljVHlwZUdlb0tleSIsIkdUTW9kZWxUeXBlR2VvS2V5IiwiR1RSYXN0ZXJUeXBlR2VvS2V5IiwiSW1hZ2VMZW5ndGgiLCJJbWFnZVdpZHRoIiwiT3JpZW50YXRpb24iLCJQaG90b21ldHJpY0ludGVycHJldGF0aW9uIiwiUHJvamVjdGVkQ1NUeXBlR2VvS2V5IiwiUGxhbmFyQ29uZmlndXJhdGlvbiIsIlJlc29sdXRpb25Vbml0IiwiU2FtcGxlc1BlclBpeGVsIiwiWFBvc2l0aW9uIiwiWVBvc2l0aW9uIl0uZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHI7dFtlXSYmKHRbZV09KHI9dFtlXSxBcnJheS5pc0FycmF5KHIpP3I6W3JdKSl9KSk7dmFyIGw9ZnVuY3Rpb24oZSl7dmFyIHQ9e307Zm9yKHZhciByIGluIGUpIlN0cmlwT2Zmc2V0cyIhPT1yJiYodXJbcl18fGNvbnNvbGUuZXJyb3Iociwibm90IGluIG5hbWUyY29kZToiLE9iamVjdC5rZXlzKHVyKSksdFt1cltyXV09ZVtyXSk7cmV0dXJuIHR9KHQpLGM9ZnVuY3Rpb24oZSx0LHIsbil7aWYobnVsbD09cil0aHJvdyBuZXcgRXJyb3IoInlvdSBwYXNzZWQgaW50byBlbmNvZGVJbWFnZSBhIHdpZHRoIG9mIHR5cGUgIi5jb25jYXQocikpO2lmKG51bGw9PXQpdGhyb3cgbmV3IEVycm9yKCJ5b3UgcGFzc2VkIGludG8gZW5jb2RlSW1hZ2UgYSB3aWR0aCBvZiB0eXBlICIuY29uY2F0KHQpKTt2YXIgaT17MjU2Olt0XSwyNTc6W3JdLDI3MzpbbHJdLDI3ODpbcl0sMzA1OiJnZW90aWZmLmpzIn07aWYobilmb3IodmFyIGEgaW4gbiluLmhhc093blByb3BlcnR5KGEpJiYoaVthXT1uW2FdKTt2YXIgbz1uZXcgVWludDhBcnJheShocihbaV0pKSxzPW5ldyBVaW50OEFycmF5KGUpLHU9aVsyNzddLGY9bmV3IFVpbnQ4QXJyYXkobHIrdCpyKnUpO3JldHVybiB1dChvLmxlbmd0aCwoZnVuY3Rpb24oZSl7ZltlXT1vW2VdfSkpLGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByPWUubGVuZ3RoLG49MDtuPHI7bisrKXQoZVtuXSxuKX0ocywoZnVuY3Rpb24oZSx0KXtmW2xyK3RdPWV9KSksZi5idWZmZXJ9KGEsaSxyLGwpO3JldHVybiBjfXZhciBtcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXtiKHRoaXMsZSl9cmV0dXJuIGwoZSxbe2tleToibG9nIix2YWx1ZTpmdW5jdGlvbigpe319LHtrZXk6ImRlYnVnIix2YWx1ZTpmdW5jdGlvbigpe319LHtrZXk6ImluZm8iLHZhbHVlOmZ1bmN0aW9uKCl7fX0se2tleToid2FybiIsdmFsdWU6ZnVuY3Rpb24oKXt9fSx7a2V5OiJlcnJvciIsdmFsdWU6ZnVuY3Rpb24oKXt9fSx7a2V5OiJ0aW1lIix2YWx1ZTpmdW5jdGlvbigpe319LHtrZXk6InRpbWVFbmQiLHZhbHVlOmZ1bmN0aW9uKCl7fX1dKSxlfSgpO2Z1bmN0aW9uIHZyKGUsdCl7dmFyIHI9ZS5sZW5ndGgtdCxuPTA7ZG97Zm9yKHZhciBpPXQ7aT4wO2ktLSllW24rdF0rPWVbbl0sbisrO3ItPXR9d2hpbGUocj4wKX1mdW5jdGlvbiBncihlLHQscil7Zm9yKHZhciBuPTAsaT1lLmxlbmd0aCxhPWkvcjtpPnQ7KXtmb3IodmFyIG89dDtvPjA7LS1vKWVbbit0XSs9ZVtuXSwrK247aS09dH1mb3IodmFyIHM9ZS5zbGljZSgpLHU9MDt1PGE7Kyt1KWZvcih2YXIgZj0wO2Y8cjsrK2YpZVtyKnUrZl09c1soci1mLTEpKmErdV19ZnVuY3Rpb24geXIoZSx0LHIsbixpLGEpe2lmKCF0fHwxPT09dClyZXR1cm4gZTtmb3IodmFyIG89MDtvPGkubGVuZ3RoOysrbyl7aWYoaVtvXSU4IT0wKXRocm93IG5ldyBFcnJvcigiV2hlbiBkZWNvZGluZyB3aXRoIHByZWRpY3Rvciwgb25seSBtdWx0aXBsZSBvZiA4IGJpdHMgYXJlIHN1cHBvcnRlZC4iKTtpZihpW29dIT09aVswXSl0aHJvdyBuZXcgRXJyb3IoIldoZW4gZGVjb2Rpbmcgd2l0aCBwcmVkaWN0b3IsIGFsbCBzYW1wbGVzIG11c3QgaGF2ZSB0aGUgc2FtZSBzaXplLiIpfWZvcih2YXIgcz1pWzBdLzgsdT0yPT09YT8xOmkubGVuZ3RoLGY9MDtmPG4mJiEoZip1KnIqcz49ZS5ieXRlTGVuZ3RoKTsrK2Ype3ZhciBsPXZvaWQgMDtpZigyPT09dCl7c3dpdGNoKGlbMF0pe2Nhc2UgODpsPW5ldyBVaW50OEFycmF5KGUsZip1KnIqcyx1KnIqcyk7YnJlYWs7Y2FzZSAxNjpsPW5ldyBVaW50MTZBcnJheShlLGYqdSpyKnMsdSpyKnMvMik7YnJlYWs7Y2FzZSAzMjpsPW5ldyBVaW50MzJBcnJheShlLGYqdSpyKnMsdSpyKnMvNCk7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoIlByZWRpY3RvciAyIG5vdCBhbGxvd2VkIHdpdGggIi5jb25jYXQoaVswXSwiIGJpdHMgcGVyIHNhbXBsZS4iKSl9dnIobCx1KX1lbHNlIDM9PT10JiZncihsPW5ldyBVaW50OEFycmF5KGUsZip1KnIqcyx1KnIqcyksdSxzKX1yZXR1cm4gZX1uZXcgbXI7dmFyIHdyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe2IodGhpcyxlKX12YXIgdDtyZXR1cm4gbChlLFt7a2V5OiJkZWNvZGUiLHZhbHVlOih0PXUoeC5tYXJrKChmdW5jdGlvbiBlKHQscil7dmFyIG4saSxhLG8scztyZXR1cm4geC53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDpyZXR1cm4gZS5uZXh0PTIsdGhpcy5kZWNvZGVCbG9jayhyKTtjYXNlIDI6aWYobj1lLnNlbnQsMT09PShpPXQuUHJlZGljdG9yfHwxKSl7ZS5uZXh0PTk7YnJlYWt9cmV0dXJuIGE9IXQuU3RyaXBPZmZzZXRzLG89YT90LlRpbGVXaWR0aDp0LkltYWdlV2lkdGgscz1hP3QuVGlsZUxlbmd0aDp0LlJvd3NQZXJTdHJpcHx8dC5JbWFnZUxlbmd0aCxlLmFicnVwdCgicmV0dXJuIix5cihuLGksbyxzLHQuQml0c1BlclNhbXBsZSx0LlBsYW5hckNvbmZpZ3VyYXRpb24pKTtjYXNlIDk6cmV0dXJuIGUuYWJydXB0KCJyZXR1cm4iLG4pO2Nhc2UgMTA6Y2FzZSJlbmQiOnJldHVybiBlLnN0b3AoKX19KSxlLHRoaXMpfSkpKSxmdW5jdGlvbihlLHIpe3JldHVybiB0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfV0pLGV9KCk7ZnVuY3Rpb24gYnIoZSx0KXt2YXIgcj1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihuPW4uZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLHIucHVzaC5hcHBseShyLG4pfXJldHVybiByfWZ1bmN0aW9uIGtyKGUpe2Zvcih2YXIgcj0xO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspe3ZhciBuPW51bGwhPWFyZ3VtZW50c1tyXT9hcmd1bWVudHNbcl06e307ciUyP2JyKE9iamVjdChuKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24ocil7dChlLHIsbltyXSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSk6YnIoT2JqZWN0KG4pKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iobix0KSl9KSl9cmV0dXJuIGV9ZnVuY3Rpb24geHIoZSl7dmFyIHQ9ZnVuY3Rpb24oKXtpZigidW5kZWZpbmVkIj09dHlwZW9mIFJlZmxlY3R8fCFSZWZsZWN0LmNvbnN0cnVjdClyZXR1cm4hMTtpZihSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKXJldHVybiExO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2goZSl7cmV0dXJuITF9fSgpO3JldHVybiBmdW5jdGlvbigpe3ZhciByLG49dihlKTtpZih0KXt2YXIgaT12KHRoaXMpLmNvbnN0cnVjdG9yO3I9UmVmbGVjdC5jb25zdHJ1Y3Qobixhcmd1bWVudHMsaSl9ZWxzZSByPW4uYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBtKHRoaXMscil9fWZ1bmN0aW9uIEFyKGUpe3N3aXRjaChlKXtjYXNlIGllLkJZVEU6Y2FzZSBpZS5BU0NJSTpjYXNlIGllLlNCWVRFOmNhc2UgaWUuVU5ERUZJTkVEOnJldHVybiAxO2Nhc2UgaWUuU0hPUlQ6Y2FzZSBpZS5TU0hPUlQ6cmV0dXJuIDI7Y2FzZSBpZS5MT05HOmNhc2UgaWUuU0xPTkc6Y2FzZSBpZS5GTE9BVDpjYXNlIGllLklGRDpyZXR1cm4gNDtjYXNlIGllLlJBVElPTkFMOmNhc2UgaWUuU1JBVElPTkFMOmNhc2UgaWUuRE9VQkxFOmNhc2UgaWUuTE9ORzg6Y2FzZSBpZS5TTE9ORzg6Y2FzZSBpZS5JRkQ4OnJldHVybiA4O2RlZmF1bHQ6dGhyb3cgbmV3IFJhbmdlRXJyb3IoIkludmFsaWQgZmllbGQgdHlwZTogIi5jb25jYXQoZSkpfX1mdW5jdGlvbiBfcihlKXt2YXIgdD1lLkdlb0tleURpcmVjdG9yeTtpZighdClyZXR1cm4gbnVsbDtmb3IodmFyIHI9e30sbj00O248PTQqdFszXTtuKz00KXt2YXIgaT1sZVt0W25dXSxhPXRbbisxXT9RW3RbbisxXV06bnVsbCxvPXRbbisyXSxzPXRbbiszXSx1PW51bGw7aWYoYSl7aWYobnVsbD09KHU9ZVthXSkpdGhyb3cgbmV3IEVycm9yKCJDb3VsZCBub3QgZ2V0IHZhbHVlIG9mIGdlb0tleSAnIi5jb25jYXQoaSwiJy4iKSk7InN0cmluZyI9PXR5cGVvZiB1P3U9dS5zdWJzdHJpbmcocyxzK28tMSk6dS5zdWJhcnJheSYmKHU9dS5zdWJhcnJheShzLHMrbyksMT09PW8mJih1PXVbMF0pKX1lbHNlIHU9cztyW2ldPXV9cmV0dXJuIHJ9ZnVuY3Rpb24gSXIoZSx0LHIsbil7dmFyIGk9bnVsbCxhPW51bGwsbz1Bcih0KTtzd2l0Y2godCl7Y2FzZSBpZS5CWVRFOmNhc2UgaWUuQVNDSUk6Y2FzZSBpZS5VTkRFRklORUQ6aT1uZXcgVWludDhBcnJheShyKSxhPWUucmVhZFVpbnQ4O2JyZWFrO2Nhc2UgaWUuU0JZVEU6aT1uZXcgSW50OEFycmF5KHIpLGE9ZS5yZWFkSW50ODticmVhaztjYXNlIGllLlNIT1JUOmk9bmV3IFVpbnQxNkFycmF5KHIpLGE9ZS5yZWFkVWludDE2O2JyZWFrO2Nhc2UgaWUuU1NIT1JUOmk9bmV3IEludDE2QXJyYXkociksYT1lLnJlYWRJbnQxNjticmVhaztjYXNlIGllLkxPTkc6Y2FzZSBpZS5JRkQ6aT1uZXcgVWludDMyQXJyYXkociksYT1lLnJlYWRVaW50MzI7YnJlYWs7Y2FzZSBpZS5TTE9ORzppPW5ldyBJbnQzMkFycmF5KHIpLGE9ZS5yZWFkSW50MzI7YnJlYWs7Y2FzZSBpZS5MT05HODpjYXNlIGllLklGRDg6aT1uZXcgQXJyYXkociksYT1lLnJlYWRVaW50NjQ7YnJlYWs7Y2FzZSBpZS5TTE9ORzg6aT1uZXcgQXJyYXkociksYT1lLnJlYWRJbnQ2NDticmVhaztjYXNlIGllLlJBVElPTkFMOmk9bmV3IFVpbnQzMkFycmF5KDIqciksYT1lLnJlYWRVaW50MzI7YnJlYWs7Y2FzZSBpZS5TUkFUSU9OQUw6aT1uZXcgSW50MzJBcnJheSgyKnIpLGE9ZS5yZWFkSW50MzI7YnJlYWs7Y2FzZSBpZS5GTE9BVDppPW5ldyBGbG9hdDMyQXJyYXkociksYT1lLnJlYWRGbG9hdDMyO2JyZWFrO2Nhc2UgaWUuRE9VQkxFOmk9bmV3IEZsb2F0NjRBcnJheShyKSxhPWUucmVhZEZsb2F0NjQ7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgUmFuZ2VFcnJvcigiSW52YWxpZCBmaWVsZCB0eXBlOiAiLmNvbmNhdCh0KSl9aWYodCE9PWllLlJBVElPTkFMJiZ0IT09aWUuU1JBVElPTkFMKWZvcih2YXIgcz0wO3M8cjsrK3MpaVtzXT1hLmNhbGwoZSxuK3Mqbyk7ZWxzZSBmb3IodmFyIHU9MDt1PHI7dSs9MilpW3VdPWEuY2FsbChlLG4rdSpvKSxpW3UrMV09YS5jYWxsKGUsbisodSpvKzQpKTtyZXR1cm4gdD09PWllLkFTQ0lJP25ldyBUZXh0RGVjb2RlcigidXRmLTgiKS5kZWNvZGUoaSk6aX12YXIgUHI9ZnVuY3Rpb24gZSh0LHIsbil7Yih0aGlzLGUpLHRoaXMuZmlsZURpcmVjdG9yeT10LHRoaXMuZ2VvS2V5RGlyZWN0b3J5PXIsdGhpcy5uZXh0SUZEQnl0ZU9mZnNldD1ufSxTcj1mdW5jdGlvbihlKXtoKHIsZSk7dmFyIHQ9eHIocik7ZnVuY3Rpb24gcihlKXt2YXIgbjtyZXR1cm4gYih0aGlzLHIpLChuPXQuY2FsbCh0aGlzLCJObyBpbWFnZSBhdCBpbmRleCAiLmNvbmNhdChlKSkpLmluZGV4PWUsbn1yZXR1cm4gcn0odyhFcnJvcikpLFRyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe2IodGhpcyxlKX12YXIgdDtyZXR1cm4gbChlLFt7a2V5OiJyZWFkUmFzdGVycyIsdmFsdWU6KHQ9dSh4Lm1hcmsoKGZ1bmN0aW9uIGUoKXt2YXIgdCxyLG4saSxhLHMsdSxmLGwsYyxoLGQscCxtLHYsZyx5LHcsYixrLEEsXyxJLFAsUyxULE8sVSxELEUsUixNLEIsQyxMLEYsVixHLGosej1hcmd1bWVudHM7cmV0dXJuIHgud3JhcCgoZnVuY3Rpb24oZSl7Zm9yKDs7KXN3aXRjaChlLnByZXY9ZS5uZXh0KXtjYXNlIDA6cmV0dXJuIHQ9ei5sZW5ndGg+MCYmdm9pZCAwIT09elswXT96WzBdOnt9LHI9dC53aW5kb3csbj10LndpZHRoLGk9dC5oZWlnaHQsYT10LnJlc1gscz10LnJlc1ksdT10LmJib3gsZS5uZXh0PTUsdGhpcy5nZXRJbWFnZSgpO2Nhc2UgNTpyZXR1cm4gZj1lLnNlbnQsbD1mLGUubmV4dD05LHRoaXMuZ2V0SW1hZ2VDb3VudCgpO2Nhc2UgOTppZihjPWUuc2VudCxoPWYuZ2V0Qm91bmRpbmdCb3goKSwhcnx8IXUpe2UubmV4dD0xMzticmVha310aHJvdyBuZXcgRXJyb3IoJ0JvdGggImJib3giIGFuZCAid2luZG93IiBwYXNzZWQuJyk7Y2FzZSAxMzppZighbiYmIWkpe2UubmV4dD0yNDticmVha31pZihyJiYoZD1mLmdldE9yaWdpbigpLHA9byhkLDIpLG09cFswXSx2PXBbMV0sZz1mLmdldFJlc29sdXRpb24oKSx5PW8oZywyKSx3PXlbMF0sYj15WzFdLHU9W20rclswXSp3LHYrclsxXSpiLG0rclsyXSp3LHYrclszXSpiXSksaz11fHxoLCFuKXtlLm5leHQ9MjA7YnJlYWt9aWYoIWEpe2UubmV4dD0xOTticmVha310aHJvdyBuZXcgRXJyb3IoIkJvdGggd2lkdGggYW5kIHJlc1ggcGFzc2VkIik7Y2FzZSAxOTphPShrWzJdLWtbMF0pL247Y2FzZSAyMDppZighaSl7ZS5uZXh0PTI0O2JyZWFrfWlmKCFzKXtlLm5leHQ9MjM7YnJlYWt9dGhyb3cgbmV3IEVycm9yKCJCb3RoIHdpZHRoIGFuZCByZXNZIHBhc3NlZCIpO2Nhc2UgMjM6cz0oa1szXS1rWzFdKS9pO2Nhc2UgMjQ6aWYoIWEmJiFzKXtlLm5leHQ9NDg7YnJlYWt9QT1bXSxfPTA7Y2FzZSAyNzppZighKF88Yykpe2UubmV4dD0zNjticmVha31yZXR1cm4gZS5uZXh0PTMwLHRoaXMuZ2V0SW1hZ2UoXyk7Y2FzZSAzMDpJPWUuc2VudCxQPUkuZmlsZURpcmVjdG9yeSxTPVAuU3ViZmlsZVR5cGUsVD1QLk5ld1N1YmZpbGVUeXBlLCgwPT09X3x8Mj09PVN8fDEmVCkmJkEucHVzaChJKTtjYXNlIDMzOisrXyxlLm5leHQ9Mjc7YnJlYWs7Y2FzZSAzNjpBLnNvcnQoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuZ2V0V2lkdGgoKS10LmdldFdpZHRoKCl9KSksTz0wO2Nhc2UgMzg6aWYoIShPPEEubGVuZ3RoKSl7ZS5uZXh0PTQ4O2JyZWFrfWlmKFU9QVtPXSxEPShoWzJdLWhbMF0pL1UuZ2V0V2lkdGgoKSxFPShoWzNdLWhbMV0pL1UuZ2V0SGVpZ2h0KCksbD1VLCEoYSYmYT5EfHxzJiZzPkUpKXtlLm5leHQ9NDU7YnJlYWt9cmV0dXJuIGUuYWJydXB0KCJicmVhayIsNDgpO2Nhc2UgNDU6KytPLGUubmV4dD0zODticmVhaztjYXNlIDQ4OnJldHVybiBSPXIsdSYmKE09Zi5nZXRPcmlnaW4oKSxCPW8oTSwyKSxDPUJbMF0sTD1CWzFdLEY9bC5nZXRSZXNvbHV0aW9uKGYpLFY9byhGLDIpLEc9VlswXSxqPVZbMV0sUj1bTWF0aC5yb3VuZCgodVswXS1DKS9HKSxNYXRoLnJvdW5kKCh1WzFdLUwpL2opLE1hdGgucm91bmQoKHVbMl0tQykvRyksTWF0aC5yb3VuZCgodVszXS1MKS9qKV0sUj1bTWF0aC5taW4oUlswXSxSWzJdKSxNYXRoLm1pbihSWzFdLFJbM10pLE1hdGgubWF4KFJbMF0sUlsyXSksTWF0aC5tYXgoUlsxXSxSWzNdKV0pLGUuYWJydXB0KCJyZXR1cm4iLGwucmVhZFJhc3RlcnMoa3Ioa3Ioe30sdCkse30se3dpbmRvdzpSfSkpKTtjYXNlIDUxOmNhc2UiZW5kIjpyZXR1cm4gZS5zdG9wKCl9fSksZSx0aGlzKX0pKSksZnVuY3Rpb24oKXtyZXR1cm4gdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX1dKSxlfSgpLE9yPWZ1bmN0aW9uKGUpe2goZCxlKTt2YXIgdCxyLG4saSxhLHMsZixjPXhyKGQpO2Z1bmN0aW9uIGQoZSx0LHIsbil7dmFyIGksYT1hcmd1bWVudHMubGVuZ3RoPjQmJnZvaWQgMCE9PWFyZ3VtZW50c1s0XT9hcmd1bWVudHNbNF06e307cmV0dXJuIGIodGhpcyxkKSwoaT1jLmNhbGwodGhpcykpLnNvdXJjZT1lLGkubGl0dGxlRW5kaWFuPXQsaS5iaWdUaWZmPXIsaS5maXJzdElGRE9mZnNldD1uLGkuY2FjaGU9YS5jYWNoZXx8ITEsaS5pZmRSZXF1ZXN0cz1bXSxpLmdob3N0VmFsdWVzPW51bGwsaX1yZXR1cm4gbChkLFt7a2V5OiJnZXRTbGljZSIsdmFsdWU6KGY9dSh4Lm1hcmsoKGZ1bmN0aW9uIGUodCxyKXt2YXIgbjtyZXR1cm4geC53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDpyZXR1cm4gbj10aGlzLmJpZ1RpZmY/NDA0ODoxMDI0LGUudDA9R2UsZS5uZXh0PTQsdGhpcy5zb3VyY2UuZmV0Y2goW3tvZmZzZXQ6dCxsZW5ndGg6dm9pZCAwIT09cj9yOm59XSk7Y2FzZSA0OnJldHVybiBlLnQxPWUuc2VudFswXSxlLnQyPXQsZS50Mz10aGlzLmxpdHRsZUVuZGlhbixlLnQ0PXRoaXMuYmlnVGlmZixlLmFicnVwdCgicmV0dXJuIixuZXcgZS50MChlLnQxLGUudDIsZS50MyxlLnQ0KSk7Y2FzZSA5OmNhc2UiZW5kIjpyZXR1cm4gZS5zdG9wKCl9fSksZSx0aGlzKX0pKSksZnVuY3Rpb24oZSx0KXtyZXR1cm4gZi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX0se2tleToicGFyc2VGaWxlRGlyZWN0b3J5QXQiLHZhbHVlOihzPXUoeC5tYXJrKChmdW5jdGlvbiBlKHQpe3ZhciByLG4saSxhLG8scyx1LGYsbCxjLGgsZCxwLG0sdixnLHksdyxiLGs7cmV0dXJuIHgud3JhcCgoZnVuY3Rpb24oZSl7Zm9yKDs7KXN3aXRjaChlLnByZXY9ZS5uZXh0KXtjYXNlIDA6cmV0dXJuIHI9dGhpcy5iaWdUaWZmPzIwOjEyLG49dGhpcy5iaWdUaWZmPzg6MixlLm5leHQ9NCx0aGlzLmdldFNsaWNlKHQpO2Nhc2UgNDppZihpPWUuc2VudCxhPXRoaXMuYmlnVGlmZj9pLnJlYWRVaW50NjQodCk6aS5yZWFkVWludDE2KHQpLG89YSpyKyh0aGlzLmJpZ1RpZmY/MTY6NiksaS5jb3ZlcnModCxvKSl7ZS5uZXh0PTExO2JyZWFrfXJldHVybiBlLm5leHQ9MTAsdGhpcy5nZXRTbGljZSh0LG8pO2Nhc2UgMTA6aT1lLnNlbnQ7Y2FzZSAxMTpzPXt9LHU9dCsodGhpcy5iaWdUaWZmPzg6MiksZj0wO2Nhc2UgMTQ6aWYoIShmPGEpKXtlLm5leHQ9NDE7YnJlYWt9aWYobD1pLnJlYWRVaW50MTYodSksYz1pLnJlYWRVaW50MTYodSsyKSxoPXRoaXMuYmlnVGlmZj9pLnJlYWRVaW50NjQodSs0KTppLnJlYWRVaW50MzIodSs0KSxkPXZvaWQgMCxwPXZvaWQgMCxtPUFyKGMpLHY9dSsodGhpcy5iaWdUaWZmPzEyOjgpLCEobSpoPD0odGhpcy5iaWdUaWZmPzg6NCkpKXtlLm5leHQ9MjY7YnJlYWt9ZD1JcihpLGMsaCx2KSxlLm5leHQ9MzY7YnJlYWs7Y2FzZSAyNjppZihnPWkucmVhZE9mZnNldCh2KSx5PUFyKGMpKmgsIWkuY292ZXJzKGcseSkpe2UubmV4dD0zMjticmVha31kPUlyKGksYyxoLGcpLGUubmV4dD0zNjticmVhaztjYXNlIDMyOnJldHVybiBlLm5leHQ9MzQsdGhpcy5nZXRTbGljZShnLHkpO2Nhc2UgMzQ6dz1lLnNlbnQsZD1Jcih3LGMsaCxnKTtjYXNlIDM2OnA9MT09PWgmJi0xPT09cmUuaW5kZXhPZihsKSYmYyE9PWllLlJBVElPTkFMJiZjIT09aWUuU1JBVElPTkFMP2RbMF06ZCxzW1FbbF1dPXA7Y2FzZSAzODp1Kz1yLCsrZixlLm5leHQ9MTQ7YnJlYWs7Y2FzZSA0MTpyZXR1cm4gYj1fcihzKSxrPWkucmVhZE9mZnNldCh0K24rciphKSxlLmFicnVwdCgicmV0dXJuIixuZXcgUHIocyxiLGspKTtjYXNlIDQ0OmNhc2UiZW5kIjpyZXR1cm4gZS5zdG9wKCl9fSksZSx0aGlzKX0pKSksZnVuY3Rpb24oZSl7cmV0dXJuIHMuYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9LHtrZXk6InJlcXVlc3RJRkQiLHZhbHVlOihhPXUoeC5tYXJrKChmdW5jdGlvbiBlKHQpe3ZhciByPXRoaXM7cmV0dXJuIHgud3JhcCgoZnVuY3Rpb24oZSl7Zm9yKDs7KXN3aXRjaChlLnByZXY9ZS5uZXh0KXtjYXNlIDA6aWYoIXRoaXMuaWZkUmVxdWVzdHNbdF0pe2UubmV4dD00O2JyZWFrfXJldHVybiBlLmFicnVwdCgicmV0dXJuIix0aGlzLmlmZFJlcXVlc3RzW3RdKTtjYXNlIDQ6aWYoMCE9PXQpe2UubmV4dD05O2JyZWFrfXJldHVybiB0aGlzLmlmZFJlcXVlc3RzW3RdPXRoaXMucGFyc2VGaWxlRGlyZWN0b3J5QXQodGhpcy5maXJzdElGRE9mZnNldCksZS5hYnJ1cHQoInJldHVybiIsdGhpcy5pZmRSZXF1ZXN0c1t0XSk7Y2FzZSA5OmlmKHRoaXMuaWZkUmVxdWVzdHNbdC0xXSl7ZS5uZXh0PTE5O2JyZWFrfWUucHJldj0xMCx0aGlzLmlmZFJlcXVlc3RzW3QtMV09dGhpcy5yZXF1ZXN0SUZEKHQtMSksZS5uZXh0PTE5O2JyZWFrO2Nhc2UgMTQ6aWYoZS5wcmV2PTE0LGUudDA9ZS5jYXRjaCgxMCksIShlLnQwIGluc3RhbmNlb2YgU3IpKXtlLm5leHQ9MTg7YnJlYWt9dGhyb3cgbmV3IFNyKHQpO2Nhc2UgMTg6dGhyb3cgZS50MDtjYXNlIDE5OnJldHVybiB0aGlzLmlmZFJlcXVlc3RzW3RdPXUoeC5tYXJrKChmdW5jdGlvbiBlKCl7dmFyIG47cmV0dXJuIHgud3JhcCgoZnVuY3Rpb24oZSl7Zm9yKDs7KXN3aXRjaChlLnByZXY9ZS5uZXh0KXtjYXNlIDA6cmV0dXJuIGUubmV4dD0yLHIuaWZkUmVxdWVzdHNbdC0xXTtjYXNlIDI6aWYoMCE9PShuPWUuc2VudCkubmV4dElGREJ5dGVPZmZzZXQpe2UubmV4dD01O2JyZWFrfXRocm93IG5ldyBTcih0KTtjYXNlIDU6cmV0dXJuIGUuYWJydXB0KCJyZXR1cm4iLHIucGFyc2VGaWxlRGlyZWN0b3J5QXQobi5uZXh0SUZEQnl0ZU9mZnNldCkpO2Nhc2UgNjpjYXNlImVuZCI6cmV0dXJuIGUuc3RvcCgpfX0pLGUpfSkpKSgpLGUuYWJydXB0KCJyZXR1cm4iLHRoaXMuaWZkUmVxdWVzdHNbdF0pO2Nhc2UgMjE6Y2FzZSJlbmQiOnJldHVybiBlLnN0b3AoKX19KSxlLHRoaXMsW1sxMCwxNF1dKX0pKSksZnVuY3Rpb24oZSl7cmV0dXJuIGEuYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9LHtrZXk6ImdldEltYWdlIix2YWx1ZTooaT11KHgubWFyaygoZnVuY3Rpb24gZSgpe3ZhciB0LHIsbj1hcmd1bWVudHM7cmV0dXJuIHgud3JhcCgoZnVuY3Rpb24oZSl7Zm9yKDs7KXN3aXRjaChlLnByZXY9ZS5uZXh0KXtjYXNlIDA6cmV0dXJuIHQ9bi5sZW5ndGg+MCYmdm9pZCAwIT09blswXT9uWzBdOjAsZS5uZXh0PTMsdGhpcy5yZXF1ZXN0SUZEKHQpO2Nhc2UgMzpyZXR1cm4gcj1lLnNlbnQsZS5hYnJ1cHQoInJldHVybiIsbmV3IEZlKHIuZmlsZURpcmVjdG9yeSxyLmdlb0tleURpcmVjdG9yeSx0aGlzLmRhdGFWaWV3LHRoaXMubGl0dGxlRW5kaWFuLHRoaXMuY2FjaGUsdGhpcy5zb3VyY2UpKTtjYXNlIDU6Y2FzZSJlbmQiOnJldHVybiBlLnN0b3AoKX19KSxlLHRoaXMpfSkpKSxmdW5jdGlvbigpe3JldHVybiBpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfSx7a2V5OiJnZXRJbWFnZUNvdW50Iix2YWx1ZToobj11KHgubWFyaygoZnVuY3Rpb24gZSgpe3ZhciB0LHI7cmV0dXJuIHgud3JhcCgoZnVuY3Rpb24oZSl7Zm9yKDs7KXN3aXRjaChlLnByZXY9ZS5uZXh0KXtjYXNlIDA6dD0wLHI9ITA7Y2FzZSAyOmlmKCFyKXtlLm5leHQ9MTg7YnJlYWt9cmV0dXJuIGUucHJldj0zLGUubmV4dD02LHRoaXMucmVxdWVzdElGRCh0KTtjYXNlIDY6Kyt0LGUubmV4dD0xNjticmVhaztjYXNlIDk6aWYoZS5wcmV2PTksZS50MD1lLmNhdGNoKDMpLCEoZS50MCBpbnN0YW5jZW9mIFNyKSl7ZS5uZXh0PTE1O2JyZWFrfXI9ITEsZS5uZXh0PTE2O2JyZWFrO2Nhc2UgMTU6dGhyb3cgZS50MDtjYXNlIDE2OmUubmV4dD0yO2JyZWFrO2Nhc2UgMTg6cmV0dXJuIGUuYWJydXB0KCJyZXR1cm4iLHQpO2Nhc2UgMTk6Y2FzZSJlbmQiOnJldHVybiBlLnN0b3AoKX19KSxlLHRoaXMsW1szLDldXSl9KSkpLGZ1bmN0aW9uKCl7cmV0dXJuIG4uYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9LHtrZXk6ImdldEdob3N0VmFsdWVzIix2YWx1ZToocj11KHgubWFyaygoZnVuY3Rpb24gZSgpe3ZhciB0LHIsbixpLGEscyx1LGYsbD10aGlzO3JldHVybiB4LndyYXAoKGZ1bmN0aW9uKGUpe2Zvcig7Oylzd2l0Y2goZS5wcmV2PWUubmV4dCl7Y2FzZSAwOmlmKHQ9dGhpcy5iaWdUaWZmPzE2OjgsIXRoaXMuZ2hvc3RWYWx1ZXMpe2UubmV4dD0zO2JyZWFrfXJldHVybiBlLmFicnVwdCgicmV0dXJuIix0aGlzLmdob3N0VmFsdWVzKTtjYXNlIDM6cmV0dXJuIG49KHI9IkdEQUxfU1RSVUNUVVJBTF9NRVRBREFUQV9TSVpFPSIpLmxlbmd0aCsxMDAsZS5uZXh0PTcsdGhpcy5nZXRTbGljZSh0LG4pO2Nhc2UgNzppZihpPWUuc2VudCxyIT09SXIoaSxpZS5BU0NJSSxyLmxlbmd0aCx0KSl7ZS5uZXh0PTE5O2JyZWFrfWlmKGE9SXIoaSxpZS5BU0NJSSxuLHQpLHM9YS5zcGxpdCgiXG4iKVswXSwhKCh1PU51bWJlcihzLnNwbGl0KCI9IilbMV0uc3BsaXQoIiAiKVswXSkrcy5sZW5ndGgpPm4pKXtlLm5leHQ9MTY7YnJlYWt9cmV0dXJuIGUubmV4dD0xNSx0aGlzLmdldFNsaWNlKHQsdSk7Y2FzZSAxNTppPWUuc2VudDtjYXNlIDE2OmY9SXIoaSxpZS5BU0NJSSx1LHQpLHRoaXMuZ2hvc3RWYWx1ZXM9e30sZi5zcGxpdCgiXG4iKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmxlbmd0aD4wfSkpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuc3BsaXQoIj0iKX0pKS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgdD1vKGUsMikscj10WzBdLG49dFsxXTtsLmdob3N0VmFsdWVzW3JdPW59KSk7Y2FzZSAxOTpyZXR1cm4gZS5hYnJ1cHQoInJldHVybiIsdGhpcy5naG9zdFZhbHVlcyk7Y2FzZSAyMDpjYXNlImVuZCI6cmV0dXJuIGUuc3RvcCgpfX0pLGUsdGhpcyl9KSkpLGZ1bmN0aW9uKCl7cmV0dXJuIHIuYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9LHtrZXk6ImNsb3NlIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiB0aGlzLnNvdXJjZS5jbG9zZSYmdGhpcy5zb3VyY2UuY2xvc2UoKX19XSxbe2tleToiZnJvbVNvdXJjZSIsdmFsdWU6KHQ9dSh4Lm1hcmsoKGZ1bmN0aW9uIGUodCxyLG4pe3ZhciBpLGEsbyxzLHUsZixsO3JldHVybiB4LndyYXAoKGZ1bmN0aW9uKGUpe2Zvcig7Oylzd2l0Y2goZS5wcmV2PWUubmV4dCl7Y2FzZSAwOnJldHVybiBlLm5leHQ9Mix0LmZldGNoKFt7b2Zmc2V0OjAsbGVuZ3RoOjEwMjR9XSxuKTtjYXNlIDI6aWYoaT1lLnNlbnRbMF0sYT1uZXcgVmUoaSksMTg3NjEhPT0obz1hLmdldFVpbnQxNigwLDApKSl7ZS5uZXh0PTk7YnJlYWt9cz0hMCxlLm5leHQ9MTQ7YnJlYWs7Y2FzZSA5OmlmKDE5Nzg5IT09byl7ZS5uZXh0PTEzO2JyZWFrfXM9ITEsZS5uZXh0PTE0O2JyZWFrO2Nhc2UgMTM6dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBieXRlIG9yZGVyIHZhbHVlLiIpO2Nhc2UgMTQ6aWYoNDIhPT0odT1hLmdldFVpbnQxNigyLHMpKSl7ZS5uZXh0PTE5O2JyZWFrfWY9ITEsZS5uZXh0PTI3O2JyZWFrO2Nhc2UgMTk6aWYoNDMhPT11KXtlLm5leHQ9MjY7YnJlYWt9aWYoZj0hMCw4PT09YS5nZXRVaW50MTYoNCxzKSl7ZS5uZXh0PTI0O2JyZWFrfXRocm93IG5ldyBFcnJvcigiVW5zdXBwb3J0ZWQgb2Zmc2V0IGJ5dGUtc2l6ZS4iKTtjYXNlIDI0OmUubmV4dD0yNzticmVhaztjYXNlIDI2OnRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgbWFnaWMgbnVtYmVyLiIpO2Nhc2UgMjc6cmV0dXJuIGw9Zj9hLmdldFVpbnQ2NCg4LHMpOmEuZ2V0VWludDMyKDQscyksZS5hYnJ1cHQoInJldHVybiIsbmV3IGQodCxzLGYsbCxyKSk7Y2FzZSAyOTpjYXNlImVuZCI6cmV0dXJuIGUuc3RvcCgpfX0pLGUpfSkpKSxmdW5jdGlvbihlLHIsbil7cmV0dXJuIHQuYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9XSksZH0oVHIpLFVyPWZ1bmN0aW9uKGUpe2goYSxlKTt2YXIgdCxyLG4saT14cihhKTtmdW5jdGlvbiBhKGUsdCl7dmFyIHI7cmV0dXJuIGIodGhpcyxhKSwocj1pLmNhbGwodGhpcykpLm1haW5GaWxlPWUsci5vdmVydmlld0ZpbGVzPXQsci5pbWFnZUZpbGVzPVtlXS5jb25jYXQodCksci5maWxlRGlyZWN0b3JpZXNQZXJGaWxlPW51bGwsci5maWxlRGlyZWN0b3JpZXNQZXJGaWxlUGFyc2luZz1udWxsLHIuaW1hZ2VDb3VudD1udWxsLHJ9cmV0dXJuIGwoYSxbe2tleToicGFyc2VGaWxlRGlyZWN0b3JpZXNQZXJGaWxlIix2YWx1ZToobj11KHgubWFyaygoZnVuY3Rpb24gZSgpe3ZhciB0O3JldHVybiB4LndyYXAoKGZ1bmN0aW9uKGUpe2Zvcig7Oylzd2l0Y2goZS5wcmV2PWUubmV4dCl7Y2FzZSAwOnJldHVybiB0PVt0aGlzLm1haW5GaWxlLnBhcnNlRmlsZURpcmVjdG9yeUF0KHRoaXMubWFpbkZpbGUuZmlyc3RJRkRPZmZzZXQpXS5jb25jYXQodGhpcy5vdmVydmlld0ZpbGVzLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUucGFyc2VGaWxlRGlyZWN0b3J5QXQoZS5maXJzdElGRE9mZnNldCl9KSkpLGUubmV4dD0zLFByb21pc2UuYWxsKHQpO2Nhc2UgMzpyZXR1cm4gdGhpcy5maWxlRGlyZWN0b3JpZXNQZXJGaWxlPWUuc2VudCxlLmFicnVwdCgicmV0dXJuIix0aGlzLmZpbGVEaXJlY3Rvcmllc1BlckZpbGUpO2Nhc2UgNTpjYXNlImVuZCI6cmV0dXJuIGUuc3RvcCgpfX0pLGUsdGhpcyl9KSkpLGZ1bmN0aW9uKCl7cmV0dXJuIG4uYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9LHtrZXk6ImdldEltYWdlIix2YWx1ZToocj11KHgubWFyaygoZnVuY3Rpb24gZSgpe3ZhciB0LHIsbixpLGEsbyxzLHU9YXJndW1lbnRzO3JldHVybiB4LndyYXAoKGZ1bmN0aW9uKGUpe2Zvcig7Oylzd2l0Y2goZS5wcmV2PWUubmV4dCl7Y2FzZSAwOnJldHVybiB0PXUubGVuZ3RoPjAmJnZvaWQgMCE9PXVbMF0/dVswXTowLGUubmV4dD0zLHRoaXMuZ2V0SW1hZ2VDb3VudCgpO2Nhc2UgMzpyZXR1cm4gZS5uZXh0PTUsdGhpcy5wYXJzZUZpbGVEaXJlY3Rvcmllc1BlckZpbGUoKTtjYXNlIDU6cj0wLG49MCxpPTA7Y2FzZSA4OmlmKCEoaTx0aGlzLmltYWdlRmlsZXMubGVuZ3RoKSl7ZS5uZXh0PTI2O2JyZWFrfWE9dGhpcy5pbWFnZUZpbGVzW2ldLG89MDtjYXNlIDExOmlmKCEobzx0aGlzLmltYWdlQ291bnRzW2ldKSl7ZS5uZXh0PTIyO2JyZWFrfWlmKHQhPT1yKXtlLm5leHQ9MTc7YnJlYWt9cmV0dXJuIGUubmV4dD0xNSxhLnJlcXVlc3RJRkQobik7Y2FzZSAxNTpyZXR1cm4gcz1lLnNlbnQsZS5hYnJ1cHQoInJldHVybiIsbmV3IEZlKHMuZmlsZURpcmVjdG9yeSxzLmdlb0tleURpcmVjdG9yeSxhLmRhdGFWaWV3LGEubGl0dGxlRW5kaWFuLGEuY2FjaGUsYS5zb3VyY2UpKTtjYXNlIDE3OnIrKyxuKys7Y2FzZSAxOTpvKyssZS5uZXh0PTExO2JyZWFrO2Nhc2UgMjI6bj0wO2Nhc2UgMjM6aSsrLGUubmV4dD04O2JyZWFrO2Nhc2UgMjY6dGhyb3cgbmV3IFJhbmdlRXJyb3IoIkludmFsaWQgaW1hZ2UgaW5kZXgiKTtjYXNlIDI3OmNhc2UiZW5kIjpyZXR1cm4gZS5zdG9wKCl9fSksZSx0aGlzKX0pKSksZnVuY3Rpb24oKXtyZXR1cm4gci5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX0se2tleToiZ2V0SW1hZ2VDb3VudCIsdmFsdWU6KHQ9dSh4Lm1hcmsoKGZ1bmN0aW9uIGUoKXt2YXIgdDtyZXR1cm4geC53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDppZihudWxsPT09dGhpcy5pbWFnZUNvdW50KXtlLm5leHQ9MjticmVha31yZXR1cm4gZS5hYnJ1cHQoInJldHVybiIsdGhpcy5pbWFnZUNvdW50KTtjYXNlIDI6cmV0dXJuIHQ9W3RoaXMubWFpbkZpbGUuZ2V0SW1hZ2VDb3VudCgpXS5jb25jYXQodGhpcy5vdmVydmlld0ZpbGVzLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZ2V0SW1hZ2VDb3VudCgpfSkpKSxlLm5leHQ9NSxQcm9taXNlLmFsbCh0KTtjYXNlIDU6cmV0dXJuIHRoaXMuaW1hZ2VDb3VudHM9ZS5zZW50LHRoaXMuaW1hZ2VDb3VudD10aGlzLmltYWdlQ291bnRzLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZSt0fSksMCksZS5hYnJ1cHQoInJldHVybiIsdGhpcy5pbWFnZUNvdW50KTtjYXNlIDg6Y2FzZSJlbmQiOnJldHVybiBlLnN0b3AoKX19KSxlLHRoaXMpfSkpKSxmdW5jdGlvbigpe3JldHVybiB0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfV0pLGF9KFRyKTtmdW5jdGlvbiBEcigpe3JldHVybiBEcj11KHgubWFyaygoZnVuY3Rpb24gZSh0KXt2YXIgcixuLGk9YXJndW1lbnRzO3JldHVybiB4LndyYXAoKGZ1bmN0aW9uKGUpe2Zvcig7Oylzd2l0Y2goZS5wcmV2PWUubmV4dCl7Y2FzZSAwOnJldHVybiByPWkubGVuZ3RoPjEmJnZvaWQgMCE9PWlbMV0/aVsxXTp7fSxuPWkubGVuZ3RoPjI/aVsyXTp2b2lkIDAsZS5hYnJ1cHQoInJldHVybiIsT3IuZnJvbVNvdXJjZShIdCh0LHIpLG4pKTtjYXNlIDM6Y2FzZSJlbmQiOnJldHVybiBlLnN0b3AoKX19KSxlKX0pKSksRHIuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIEVyKCl7cmV0dXJuKEVyPXUoeC5tYXJrKChmdW5jdGlvbiBlKHQscil7cmV0dXJuIHgud3JhcCgoZnVuY3Rpb24oZSl7Zm9yKDs7KXN3aXRjaChlLnByZXY9ZS5uZXh0KXtjYXNlIDA6cmV0dXJuIGUuYWJydXB0KCJyZXR1cm4iLE9yLmZyb21Tb3VyY2UoV3QodCkscikpO2Nhc2UgMTpjYXNlImVuZCI6cmV0dXJuIGUuc3RvcCgpfX0pLGUpfSkpKSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIFJyKCl7cmV0dXJuKFJyPXUoeC5tYXJrKChmdW5jdGlvbiBlKHQscil7cmV0dXJuIHgud3JhcCgoZnVuY3Rpb24oZSl7Zm9yKDs7KXN3aXRjaChlLnByZXY9ZS5uZXh0KXtjYXNlIDA6cmV0dXJuIGUuYWJydXB0KCJyZXR1cm4iLE9yLmZyb21Tb3VyY2UobnIodCkscikpO2Nhc2UgMTpjYXNlImVuZCI6cmV0dXJuIGUuc3RvcCgpfX0pLGUpfSkpKSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIE1yKCl7cmV0dXJuKE1yPXUoeC5tYXJrKChmdW5jdGlvbiBlKHQscil7cmV0dXJuIHgud3JhcCgoZnVuY3Rpb24oZSl7Zm9yKDs7KXN3aXRjaChlLnByZXY9ZS5uZXh0KXtjYXNlIDA6cmV0dXJuIGUuYWJydXB0KCJyZXR1cm4iLE9yLmZyb21Tb3VyY2UoUXQodCkscikpO2Nhc2UgMTpjYXNlImVuZCI6cmV0dXJuIGUuc3RvcCgpfX0pLGUpfSkpKSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIEJyKCl7cmV0dXJuIEJyPXUoeC5tYXJrKChmdW5jdGlvbiBlKHQpe3ZhciByLG4saSxhLG8scz1hcmd1bWVudHM7cmV0dXJuIHgud3JhcCgoZnVuY3Rpb24oZSl7Zm9yKDs7KXN3aXRjaChlLnByZXY9ZS5uZXh0KXtjYXNlIDA6cmV0dXJuIHI9cy5sZW5ndGg+MSYmdm9pZCAwIT09c1sxXT9zWzFdOltdLG49cy5sZW5ndGg+MiYmdm9pZCAwIT09c1syXT9zWzJdOnt9LGk9cy5sZW5ndGg+Mz9zWzNdOnZvaWQgMCxlLm5leHQ9NSxPci5mcm9tU291cmNlKEh0KHQsbiksaSk7Y2FzZSA1OnJldHVybiBhPWUuc2VudCxlLm5leHQ9OCxQcm9taXNlLmFsbChyLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIE9yLmZyb21Tb3VyY2UoSHQoZSxuKSl9KSkpO2Nhc2UgODpyZXR1cm4gbz1lLnNlbnQsZS5hYnJ1cHQoInJldHVybiIsbmV3IFVyKGEsbykpO2Nhc2UgMTA6Y2FzZSJlbmQiOnJldHVybiBlLnN0b3AoKX19KSxlKX0pKSksQnIuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIENyKGUpe3ZhciB0PWZ1bmN0aW9uKCl7aWYoInVuZGVmaW5lZCI9PXR5cGVvZiBSZWZsZWN0fHwhUmVmbGVjdC5jb25zdHJ1Y3QpcmV0dXJuITE7aWYoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZigiZnVuY3Rpb24iPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKGUpe3JldHVybiExfX0oKTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgcixuPXYoZSk7aWYodCl7dmFyIGk9dih0aGlzKS5jb25zdHJ1Y3RvcjtyPVJlZmxlY3QuY29uc3RydWN0KG4sYXJndW1lbnRzLGkpfWVsc2Ugcj1uLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gbSh0aGlzLHIpfX12YXIgTHI9ZnVuY3Rpb24oZSl7aChyLGUpO3ZhciB0PUNyKHIpO2Z1bmN0aW9uIHIoKXtyZXR1cm4gYih0aGlzLHIpLHQuYXBwbHkodGhpcyxhcmd1bWVudHMpfXJldHVybiBsKHIsW3trZXk6ImRlY29kZUJsb2NrIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZX19XSkscn0od3IpLEZyPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLGRlZmF1bHQ6THJ9KTtmdW5jdGlvbiBWcihlKXt2YXIgdD1mdW5jdGlvbigpe2lmKCJ1bmRlZmluZWQiPT10eXBlb2YgUmVmbGVjdHx8IVJlZmxlY3QuY29uc3RydWN0KXJldHVybiExO2lmKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pcmV0dXJuITE7aWYoImZ1bmN0aW9uIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaChlKXtyZXR1cm4hMX19KCk7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIHIsbj12KGUpO2lmKHQpe3ZhciBpPXYodGhpcykuY29uc3RydWN0b3I7cj1SZWZsZWN0LmNvbnN0cnVjdChuLGFyZ3VtZW50cyxpKX1lbHNlIHI9bi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIG0odGhpcyxyKX19ZnVuY3Rpb24gR3IoZSx0KXtmb3IodmFyIHI9dC5sZW5ndGgtMTtyPj0wO3ItLSllLnB1c2godFtyXSk7cmV0dXJuIGV9ZnVuY3Rpb24ganIoZSl7Zm9yKHZhciB0PW5ldyBVaW50MTZBcnJheSg0MDkzKSxyPW5ldyBVaW50OEFycmF5KDQwOTMpLG49MDtuPD0yNTc7bisrKXRbbl09NDA5NixyW25dPW47dmFyIGk9MjU4LGE9OSxvPTA7ZnVuY3Rpb24gcygpe2k9MjU4LGE9OX1mdW5jdGlvbiB1KGUpe3ZhciB0PWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10JTgsaT1NYXRoLmZsb29yKHQvOCksYT04LW4sbz10K3ItOCooaSsxKSxzPTgqKGkrMiktKHQrciksdT04KihpKzIpLXQ7aWYocz1NYXRoLm1heCgwLHMpLGk+PWUubGVuZ3RoKXJldHVybiBjb25zb2xlLndhcm4oInJhbiBvZmYgdGhlIGVuZCBvZiB0aGUgYnVmZmVyIGJlZm9yZSBmaW5kaW5nIEVPSV9DT0RFIChlbmQgb24gaW5wdXQgY29kZSkiKSwyNTc7dmFyIGY9ZVtpXSZNYXRoLnBvdygyLDgtbiktMSxsPWY8PD1yLWE7aWYoaSsxPGUubGVuZ3RoKXt2YXIgYz1lW2krMV0+Pj5zO2wrPWM8PD1NYXRoLm1heCgwLHItdSl9aWYobz44JiZpKzI8ZS5sZW5ndGgpe3ZhciBoPTgqKGkrMyktKHQrcik7bCs9ZVtpKzJdPj4+aH1yZXR1cm4gbH0oZSxvLGEpO3JldHVybiBvKz1hLHR9ZnVuY3Rpb24gZihlLG4pe3JldHVybiByW2ldPW4sdFtpXT1lLCsraS0xfWZ1bmN0aW9uIGwoZSl7Zm9yKHZhciBuPVtdLGk9ZTs0MDk2IT09aTtpPXRbaV0pbi5wdXNoKHJbaV0pO3JldHVybiBufXZhciBjPVtdO3MoKTtmb3IodmFyIGgsZD1uZXcgVWludDhBcnJheShlKSxwPXUoZCk7MjU3IT09cDspe2lmKDI1Nj09PXApe2ZvcihzKCkscD11KGQpOzI1Nj09PXA7KXA9dShkKTtpZigyNTc9PT1wKWJyZWFrO2lmKHA+MjU2KXRocm93IG5ldyBFcnJvcigiY29ycnVwdGVkIGNvZGUgYXQgc2NhbmxpbmUgIi5jb25jYXQocCkpO0dyKGMsbChwKSksaD1wfWVsc2UgaWYocDxpKXt2YXIgbT1sKHApO0dyKGMsbSksZihoLG1bbS5sZW5ndGgtMV0pLGg9cH1lbHNle3ZhciB2PWwoaCk7aWYoIXYpdGhyb3cgbmV3IEVycm9yKCJCb2d1cyBlbnRyeS4gTm90IGluIGRpY3Rpb25hcnksICIuY29uY2F0KGgsIiAvICIpLmNvbmNhdChpLCIsIHBvc2l0aW9uOiAiKS5jb25jYXQobykpO0dyKGMsdiksYy5wdXNoKHZbdi5sZW5ndGgtMV0pLGYoaCx2W3YubGVuZ3RoLTFdKSxoPXB9aSsxPj1NYXRoLnBvdygyLGEpJiYoMTI9PT1hP2g9dm9pZCAwOmErKykscD11KGQpfXJldHVybiBuZXcgVWludDhBcnJheShjKX12YXIgenI9ZnVuY3Rpb24oZSl7aChyLGUpO3ZhciB0PVZyKHIpO2Z1bmN0aW9uIHIoKXtyZXR1cm4gYih0aGlzLHIpLHQuYXBwbHkodGhpcyxhcmd1bWVudHMpfXJldHVybiBsKHIsW3trZXk6ImRlY29kZUJsb2NrIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4ganIoZSkuYnVmZmVyfX1dKSxyfSh3ciksTnI9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsZGVmYXVsdDp6cn0pO2Z1bmN0aW9uIEtyKGUpe3ZhciB0PWZ1bmN0aW9uKCl7aWYoInVuZGVmaW5lZCI9PXR5cGVvZiBSZWZsZWN0fHwhUmVmbGVjdC5jb25zdHJ1Y3QpcmV0dXJuITE7aWYoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZigiZnVuY3Rpb24iPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKGUpe3JldHVybiExfX0oKTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgcixuPXYoZSk7aWYodCl7dmFyIGk9dih0aGlzKS5jb25zdHJ1Y3RvcjtyPVJlZmxlY3QuY29uc3RydWN0KG4sYXJndW1lbnRzLGkpfWVsc2Ugcj1uLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gbSh0aGlzLHIpfX12YXIgWnI9bmV3IEludDMyQXJyYXkoWzAsMSw4LDE2LDksMiwzLDEwLDE3LDI0LDMyLDI1LDE4LDExLDQsNSwxMiwxOSwyNiwzMyw0MCw0OCw0MSwzNCwyNywyMCwxMyw2LDcsMTQsMjEsMjgsMzUsNDIsNDksNTYsNTcsNTAsNDMsMzYsMjksMjIsMTUsMjMsMzAsMzcsNDQsNTEsNTgsNTksNTIsNDUsMzgsMzEsMzksNDYsNTMsNjAsNjEsNTQsNDcsNTUsNjIsNjNdKSxIcj00MDE3LFlyPTc5OSxxcj0zNDA2LFdyPTIyNzYsWHI9MTU2NyxKcj0zNzg0LFFyPTU3OTMsJHI9Mjg5NjtmdW5jdGlvbiBlbihlLHQpe2Zvcih2YXIgcj0wLG49W10saT0xNjtpPjAmJiFlW2ktMV07KS0taTtuLnB1c2goe2NoaWxkcmVuOltdLGluZGV4OjB9KTtmb3IodmFyIGEsbz1uWzBdLHM9MDtzPGk7cysrKXtmb3IodmFyIHU9MDt1PGVbc107dSsrKXtmb3IoKG89bi5wb3AoKSkuY2hpbGRyZW5bby5pbmRleF09dFtyXTtvLmluZGV4PjA7KW89bi5wb3AoKTtmb3Ioby5pbmRleCsrLG4ucHVzaChvKTtuLmxlbmd0aDw9czspbi5wdXNoKGE9e2NoaWxkcmVuOltdLGluZGV4OjB9KSxvLmNoaWxkcmVuW28uaW5kZXhdPWEuY2hpbGRyZW4sbz1hO3IrK31zKzE8aSYmKG4ucHVzaChhPXtjaGlsZHJlbjpbXSxpbmRleDowfSksby5jaGlsZHJlbltvLmluZGV4XT1hLmNoaWxkcmVuLG89YSl9cmV0dXJuIG5bMF0uY2hpbGRyZW59ZnVuY3Rpb24gdG4oZSx0LHIsbixpLGEsbyxzLHUpe3ZhciBmPXIubWN1c1BlckxpbmUsbD1yLnByb2dyZXNzaXZlLGM9dCxoPXQscD0wLG09MDtmdW5jdGlvbiB2KCl7aWYobT4wKXJldHVybiBtLS0scD4+bSYxO2lmKDI1NT09PShwPWVbaCsrXSkpe3ZhciB0PWVbaCsrXTtpZih0KXRocm93IG5ldyBFcnJvcigidW5leHBlY3RlZCBtYXJrZXI6ICIuY29uY2F0KChwPDw4fHQpLnRvU3RyaW5nKDE2KSkpfXJldHVybiBtPTcscD4+Pjd9ZnVuY3Rpb24gZyhlKXtmb3IodmFyIHQscj1lO251bGwhPT0odD12KCkpOyl7aWYoIm51bWJlciI9PXR5cGVvZihyPXJbdF0pKXJldHVybiByO2lmKCJvYmplY3QiIT09ZChyKSl0aHJvdyBuZXcgRXJyb3IoImludmFsaWQgaHVmZm1hbiBzZXF1ZW5jZSIpfXJldHVybiBudWxsfWZ1bmN0aW9uIHkoZSl7Zm9yKHZhciB0PWUscj0wO3Q+MDspe3ZhciBuPXYoKTtpZihudWxsPT09bilyZXR1cm47cj1yPDwxfG4sLS10fXJldHVybiByfWZ1bmN0aW9uIHcoZSl7dmFyIHQ9eShlKTtyZXR1cm4gdD49MTw8ZS0xP3Q6dCsoLTE8PGUpKzF9dmFyIGIsaz0wLHg9MDtmdW5jdGlvbiBBKGUsdCxyLG4saSl7dmFyIGE9ciVmLG89KHIvZnwwKSplLnYrbixzPWEqZS5oK2k7dChlLGUuYmxvY2tzW29dW3NdKX1mdW5jdGlvbiBfKGUsdCxyKXt2YXIgbj1yL2UuYmxvY2tzUGVyTGluZXwwLGk9ciVlLmJsb2Nrc1BlckxpbmU7dChlLGUuYmxvY2tzW25dW2ldKX12YXIgSSxQLFMsVCxPLFUsRD1uLmxlbmd0aDtVPWw/MD09PWE/MD09PXM/ZnVuY3Rpb24oZSx0KXt2YXIgcj1nKGUuaHVmZm1hblRhYmxlREMpLG49MD09PXI/MDp3KHIpPDx1O2UucHJlZCs9bix0WzBdPWUucHJlZH06ZnVuY3Rpb24oZSx0KXt0WzBdfD12KCk8PHV9OjA9PT1zP2Z1bmN0aW9uKGUsdCl7aWYoaz4wKWstLTtlbHNlIGZvcih2YXIgcj1hLG49bztyPD1uOyl7dmFyIGk9ZyhlLmh1ZmZtYW5UYWJsZUFDKSxzPTE1JmksZj1pPj40O2lmKDA9PT1zKXtpZihmPDE1KXtrPXkoZikrKDE8PGYpLTE7YnJlYWt9cis9MTZ9ZWxzZSB0W1pyW3IrPWZdXT13KHMpKigxPDx1KSxyKyt9fTpmdW5jdGlvbihlLHQpe2Zvcih2YXIgcj1hLG49byxpPTA7cjw9bjspe3ZhciBzPVpyW3JdLGY9dFtzXTwwPy0xOjE7c3dpdGNoKHgpe2Nhc2UgMDp2YXIgbD1nKGUuaHVmZm1hblRhYmxlQUMpLGM9MTUmbDtpZihpPWw+PjQsMD09PWMpaTwxNT8oaz15KGkpKygxPDxpKSx4PTQpOihpPTE2LHg9MSk7ZWxzZXtpZigxIT09Yyl0aHJvdyBuZXcgRXJyb3IoImludmFsaWQgQUNuIGVuY29kaW5nIik7Yj13KGMpLHg9aT8yOjN9Y29udGludWU7Y2FzZSAxOmNhc2UgMjp0W3NdP3Rbc10rPSh2KCk8PHUpKmY6MD09LS1pJiYoeD0yPT09eD8zOjApO2JyZWFrO2Nhc2UgMzp0W3NdP3Rbc10rPSh2KCk8PHUpKmY6KHRbc109Yjw8dSx4PTApO2JyZWFrO2Nhc2UgNDp0W3NdJiYodFtzXSs9KHYoKTw8dSkqZil9cisrfTQ9PT14JiYwPT0tLWsmJih4PTApfTpmdW5jdGlvbihlLHQpe3ZhciByPWcoZS5odWZmbWFuVGFibGVEQyksbj0wPT09cj8wOncocik7ZS5wcmVkKz1uLHRbMF09ZS5wcmVkO2Zvcih2YXIgaT0xO2k8NjQ7KXt2YXIgYT1nKGUuaHVmZm1hblRhYmxlQUMpLG89MTUmYSxzPWE+PjQ7aWYoMD09PW8pe2lmKHM8MTUpYnJlYWs7aSs9MTZ9ZWxzZSB0W1pyW2krPXNdXT13KG8pLGkrK319O3ZhciBFLFIsTT0wO1I9MT09PUQ/blswXS5ibG9ja3NQZXJMaW5lKm5bMF0uYmxvY2tzUGVyQ29sdW1uOmYqci5tY3VzUGVyQ29sdW1uO2Zvcih2YXIgQj1pfHxSO008Ujspe2ZvcihQPTA7UDxEO1ArKyluW1BdLnByZWQ9MDtpZihrPTAsMT09PUQpZm9yKEk9blswXSxPPTA7TzxCO08rKylfKEksVSxNKSxNKys7ZWxzZSBmb3IoTz0wO088QjtPKyspe2ZvcihQPTA7UDxEO1ArKyl7dmFyIEM9ST1uW1BdLEw9Qy5oLEY9Qy52O2ZvcihTPTA7UzxGO1MrKylmb3IoVD0wO1Q8TDtUKyspQShJLFUsTSxTLFQpfWlmKCsrTT09PVIpYnJlYWt9aWYobT0wLChFPWVbaF08PDh8ZVtoKzFdKTw2NTI4MCl0aHJvdyBuZXcgRXJyb3IoIm1hcmtlciB3YXMgbm90IGZvdW5kIik7aWYoIShFPj02NTQ4OCYmRTw9NjU0OTUpKWJyZWFrO2grPTJ9cmV0dXJuIGgtY31mdW5jdGlvbiBybihlLHQpe3ZhciByPVtdLG49dC5ibG9ja3NQZXJMaW5lLGk9dC5ibG9ja3NQZXJDb2x1bW4sYT1uPDwzLG89bmV3IEludDMyQXJyYXkoNjQpLHM9bmV3IFVpbnQ4QXJyYXkoNjQpO2Z1bmN0aW9uIHUoZSxyLG4pe3ZhciBpLGEsbyxzLHUsZixsLGMsaCxkLHA9dC5xdWFudGl6YXRpb25UYWJsZSxtPW47Zm9yKGQ9MDtkPDY0O2QrKyltW2RdPWVbZF0qcFtkXTtmb3IoZD0wO2Q8ODsrK2Qpe3ZhciB2PTgqZDswIT09bVsxK3ZdfHwwIT09bVsyK3ZdfHwwIT09bVszK3ZdfHwwIT09bVs0K3ZdfHwwIT09bVs1K3ZdfHwwIT09bVs2K3ZdfHwwIT09bVs3K3ZdPyhpPVFyKm1bMCt2XSsxMjg+PjgsYT1RciptWzQrdl0rMTI4Pj44LG89bVsyK3ZdLHM9bVs2K3ZdLHU9JHIqKG1bMSt2XS1tWzcrdl0pKzEyOD4+OCxjPSRyKihtWzErdl0rbVs3K3ZdKSsxMjg+PjgsZj1tWzMrdl08PDQsbD1tWzUrdl08PDQsaD1pLWErMT4+MSxpPWkrYSsxPj4xLGE9aCxoPW8qSnIrcypYcisxMjg+Pjgsbz1vKlhyLXMqSnIrMTI4Pj44LHM9aCxoPXUtbCsxPj4xLHU9dStsKzE+PjEsbD1oLGg9YytmKzE+PjEsZj1jLWYrMT4+MSxjPWgsaD1pLXMrMT4+MSxpPWkrcysxPj4xLHM9aCxoPWEtbysxPj4xLGE9YStvKzE+PjEsbz1oLGg9dSpXcitjKnFyKzIwNDg+PjEyLHU9dSpxci1jKldyKzIwNDg+PjEyLGM9aCxoPWYqWXIrbCpIcisyMDQ4Pj4xMixmPWYqSHItbCpZcisyMDQ4Pj4xMixsPWgsbVswK3ZdPWkrYyxtWzcrdl09aS1jLG1bMSt2XT1hK2wsbVs2K3ZdPWEtbCxtWzIrdl09bytmLG1bNSt2XT1vLWYsbVszK3ZdPXMrdSxtWzQrdl09cy11KTooaD1RciptWzArdl0rNTEyPj4xMCxtWzArdl09aCxtWzErdl09aCxtWzIrdl09aCxtWzMrdl09aCxtWzQrdl09aCxtWzUrdl09aCxtWzYrdl09aCxtWzcrdl09aCl9Zm9yKGQ9MDtkPDg7KytkKXt2YXIgZz1kOzAhPT1tWzgrZ118fDAhPT1tWzE2K2ddfHwwIT09bVsyNCtnXXx8MCE9PW1bMzIrZ118fDAhPT1tWzQwK2ddfHwwIT09bVs0OCtnXXx8MCE9PW1bNTYrZ10/KGk9UXIqbVswK2ddKzIwNDg+PjEyLGE9UXIqbVszMitnXSsyMDQ4Pj4xMixvPW1bMTYrZ10scz1tWzQ4K2ddLHU9JHIqKG1bOCtnXS1tWzU2K2ddKSsyMDQ4Pj4xMixjPSRyKihtWzgrZ10rbVs1NitnXSkrMjA0OD4+MTIsZj1tWzI0K2ddLGw9bVs0MCtnXSxoPWktYSsxPj4xLGk9aSthKzE+PjEsYT1oLGg9bypKcitzKlhyKzIwNDg+PjEyLG89bypYci1zKkpyKzIwNDg+PjEyLHM9aCxoPXUtbCsxPj4xLHU9dStsKzE+PjEsbD1oLGg9YytmKzE+PjEsZj1jLWYrMT4+MSxjPWgsaD1pLXMrMT4+MSxpPWkrcysxPj4xLHM9aCxoPWEtbysxPj4xLGE9YStvKzE+PjEsbz1oLGg9dSpXcitjKnFyKzIwNDg+PjEyLHU9dSpxci1jKldyKzIwNDg+PjEyLGM9aCxoPWYqWXIrbCpIcisyMDQ4Pj4xMixmPWYqSHItbCpZcisyMDQ4Pj4xMixsPWgsbVswK2ddPWkrYyxtWzU2K2ddPWktYyxtWzgrZ109YStsLG1bNDgrZ109YS1sLG1bMTYrZ109bytmLG1bNDArZ109by1mLG1bMjQrZ109cyt1LG1bMzIrZ109cy11KTooaD1RcipuW2QrMF0rODE5Mj4+MTQsbVswK2ddPWgsbVs4K2ddPWgsbVsxNitnXT1oLG1bMjQrZ109aCxtWzMyK2ddPWgsbVs0MCtnXT1oLG1bNDgrZ109aCxtWzU2K2ddPWgpfWZvcihkPTA7ZDw2NDsrK2Qpe3ZhciB5PTEyOCsobVtkXSs4Pj40KTtyW2RdPXk8MD8wOnk+MjU1PzI1NTp5fX1mb3IodmFyIGY9MDtmPGk7ZisrKXtmb3IodmFyIGw9Zjw8MyxjPTA7Yzw4O2MrKylyLnB1c2gobmV3IFVpbnQ4QXJyYXkoYSkpO2Zvcih2YXIgaD0wO2g8bjtoKyspe3UodC5ibG9ja3NbZl1baF0scyxvKTtmb3IodmFyIGQ9MCxwPWg8PDMsbT0wO208ODttKyspZm9yKHZhciB2PXJbbCttXSxnPTA7Zzw4O2crKyl2W3ArZ109c1tkKytdfX1yZXR1cm4gcn12YXIgbm49ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7Yih0aGlzLGUpLHRoaXMuamZpZj1udWxsLHRoaXMuYWRvYmU9bnVsbCx0aGlzLnF1YW50aXphdGlvblRhYmxlcz1bXSx0aGlzLmh1ZmZtYW5UYWJsZXNBQz1bXSx0aGlzLmh1ZmZtYW5UYWJsZXNEQz1bXSx0aGlzLnJlc2V0RnJhbWVzKCl9cmV0dXJuIGwoZSxbe2tleToicmVzZXRGcmFtZXMiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5mcmFtZXM9W119fSx7a2V5OiJwYXJzZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9MDtmdW5jdGlvbiByKCl7dmFyIHI9ZVt0XTw8OHxlW3QrMV07cmV0dXJuIHQrPTIscn1mdW5jdGlvbiBuKGUpe3ZhciB0LHIsbj0wLGk9MDtmb3IociBpbiBlLmNvbXBvbmVudHMpZS5jb21wb25lbnRzLmhhc093blByb3BlcnR5KHIpJiYobjwodD1lLmNvbXBvbmVudHNbcl0pLmgmJihuPXQuaCksaTx0LnYmJihpPXQudikpO3ZhciBhPU1hdGguY2VpbChlLnNhbXBsZXNQZXJMaW5lLzgvbiksbz1NYXRoLmNlaWwoZS5zY2FuTGluZXMvOC9pKTtmb3IociBpbiBlLmNvbXBvbmVudHMpaWYoZS5jb21wb25lbnRzLmhhc093blByb3BlcnR5KHIpKXt0PWUuY29tcG9uZW50c1tyXTtmb3IodmFyIHM9TWF0aC5jZWlsKE1hdGguY2VpbChlLnNhbXBsZXNQZXJMaW5lLzgpKnQuaC9uKSx1PU1hdGguY2VpbChNYXRoLmNlaWwoZS5zY2FuTGluZXMvOCkqdC52L2kpLGY9YSp0LmgsbD1vKnQudixjPVtdLGg9MDtoPGw7aCsrKXtmb3IodmFyIGQ9W10scD0wO3A8ZjtwKyspZC5wdXNoKG5ldyBJbnQzMkFycmF5KDY0KSk7Yy5wdXNoKGQpfXQuYmxvY2tzUGVyTGluZT1zLHQuYmxvY2tzUGVyQ29sdW1uPXUsdC5ibG9ja3M9Y31lLm1heEg9bixlLm1heFY9aSxlLm1jdXNQZXJMaW5lPWEsZS5tY3VzUGVyQ29sdW1uPW99dmFyIGksYSxvPXIoKTtpZig2NTQ5NiE9PW8pdGhyb3cgbmV3IEVycm9yKCJTT0kgbm90IGZvdW5kIik7Zm9yKG89cigpOzY1NDk3IT09bzspe3N3aXRjaChvKXtjYXNlIDY1MjgwOmJyZWFrO2Nhc2UgNjU1MDQ6Y2FzZSA2NTUwNTpjYXNlIDY1NTA2OmNhc2UgNjU1MDc6Y2FzZSA2NTUwODpjYXNlIDY1NTA5OmNhc2UgNjU1MTA6Y2FzZSA2NTUxMTpjYXNlIDY1NTEyOmNhc2UgNjU1MTM6Y2FzZSA2NTUxNDpjYXNlIDY1NTE1OmNhc2UgNjU1MTY6Y2FzZSA2NTUxNzpjYXNlIDY1NTE4OmNhc2UgNjU1MTk6Y2FzZSA2NTUzNDp2YXIgcz0oaT12b2lkIDAsYT12b2lkIDAsaT1yKCksYT1lLnN1YmFycmF5KHQsdCtpLTIpLHQrPWEubGVuZ3RoLGEpOzY1NTA0PT09byYmNzQ9PT1zWzBdJiY3MD09PXNbMV0mJjczPT09c1syXSYmNzA9PT1zWzNdJiYwPT09c1s0XSYmKHRoaXMuamZpZj17dmVyc2lvbjp7bWFqb3I6c1s1XSxtaW5vcjpzWzZdfSxkZW5zaXR5VW5pdHM6c1s3XSx4RGVuc2l0eTpzWzhdPDw4fHNbOV0seURlbnNpdHk6c1sxMF08PDh8c1sxMV0sdGh1bWJXaWR0aDpzWzEyXSx0aHVtYkhlaWdodDpzWzEzXSx0aHVtYkRhdGE6cy5zdWJhcnJheSgxNCwxNCszKnNbMTJdKnNbMTNdKX0pLDY1NTE4PT09byYmNjU9PT1zWzBdJiYxMDA9PT1zWzFdJiYxMTE9PT1zWzJdJiY5OD09PXNbM10mJjEwMT09PXNbNF0mJjA9PT1zWzVdJiYodGhpcy5hZG9iZT17dmVyc2lvbjpzWzZdLGZsYWdzMDpzWzddPDw4fHNbOF0sZmxhZ3MxOnNbOV08PDh8c1sxMF0sdHJhbnNmb3JtQ29kZTpzWzExXX0pO2JyZWFrO2Nhc2UgNjU0OTk6Zm9yKHZhciB1PXIoKSt0LTI7dDx1Oyl7dmFyIGY9ZVt0KytdLGw9bmV3IEludDMyQXJyYXkoNjQpO2lmKGY+PjQ9PTApZm9yKHZhciBjPTA7Yzw2NDtjKyspbFtacltjXV09ZVt0KytdO2Vsc2V7aWYoZj4+NCE9MSl0aHJvdyBuZXcgRXJyb3IoIkRRVDogaW52YWxpZCB0YWJsZSBzcGVjIik7Zm9yKHZhciBoPTA7aDw2NDtoKyspbFtacltoXV09cigpfXRoaXMucXVhbnRpemF0aW9uVGFibGVzWzE1JmZdPWx9YnJlYWs7Y2FzZSA2NTQ3MjpjYXNlIDY1NDczOmNhc2UgNjU0NzQ6cigpO2Zvcih2YXIgZD17ZXh0ZW5kZWQ6NjU0NzM9PT1vLHByb2dyZXNzaXZlOjY1NDc0PT09byxwcmVjaXNpb246ZVt0KytdLHNjYW5MaW5lczpyKCksc2FtcGxlc1BlckxpbmU6cigpLGNvbXBvbmVudHM6e30sY29tcG9uZW50c09yZGVyOltdfSxwPWVbdCsrXSxtPXZvaWQgMCx2PTA7djxwO3YrKyl7bT1lW3RdO3ZhciBnPWVbdCsxXT4+NCx5PTE1JmVbdCsxXSx3PWVbdCsyXTtkLmNvbXBvbmVudHNPcmRlci5wdXNoKG0pLGQuY29tcG9uZW50c1ttXT17aDpnLHY6eSxxdWFudGl6YXRpb25JZHg6d30sdCs9M31uKGQpLHRoaXMuZnJhbWVzLnB1c2goZCk7YnJlYWs7Y2FzZSA2NTQ3Njpmb3IodmFyIGI9cigpLGs9MjtrPGI7KXtmb3IodmFyIHg9ZVt0KytdLEE9bmV3IFVpbnQ4QXJyYXkoMTYpLF89MCxJPTA7STwxNjtJKyssdCsrKUFbSV09ZVt0XSxfKz1BW0ldO2Zvcih2YXIgUD1uZXcgVWludDhBcnJheShfKSxTPTA7UzxfO1MrKyx0KyspUFtTXT1lW3RdO2srPTE3K18seD4+ND09MD90aGlzLmh1ZmZtYW5UYWJsZXNEQ1sxNSZ4XT1lbihBLFApOnRoaXMuaHVmZm1hblRhYmxlc0FDWzE1JnhdPWVuKEEsUCl9YnJlYWs7Y2FzZSA2NTUwMTpyKCksdGhpcy5yZXNldEludGVydmFsPXIoKTticmVhaztjYXNlIDY1NDk4OnIoKTtmb3IodmFyIFQ9ZVt0KytdLE89W10sVT10aGlzLmZyYW1lc1swXSxEPTA7RDxUO0QrKyl7dmFyIEU9VS5jb21wb25lbnRzW2VbdCsrXV0sUj1lW3QrK107RS5odWZmbWFuVGFibGVEQz10aGlzLmh1ZmZtYW5UYWJsZXNEQ1tSPj40XSxFLmh1ZmZtYW5UYWJsZUFDPXRoaXMuaHVmZm1hblRhYmxlc0FDWzE1JlJdLE8ucHVzaChFKX12YXIgTT1lW3QrK10sQj1lW3QrK10sQz1lW3QrK10sTD10bihlLHQsVSxPLHRoaXMucmVzZXRJbnRlcnZhbCxNLEIsQz4+NCwxNSZDKTt0Kz1MO2JyZWFrO2Nhc2UgNjU1MzU6MjU1IT09ZVt0XSYmdC0tO2JyZWFrO2RlZmF1bHQ6aWYoMjU1PT09ZVt0LTNdJiZlW3QtMl0+PTE5MiYmZVt0LTJdPD0yNTQpe3QtPTM7YnJlYWt9dGhyb3cgbmV3IEVycm9yKCJ1bmtub3duIEpQRUcgbWFya2VyICIuY29uY2F0KG8udG9TdHJpbmcoMTYpKSl9bz1yKCl9fX0se2tleToiZ2V0UmVzdWx0Iix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZnJhbWVzO2lmKDA9PT10aGlzLmZyYW1lcy5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKCJubyBmcmFtZXMgd2VyZSBkZWNvZGVkIik7dGhpcy5mcmFtZXMubGVuZ3RoPjEmJmNvbnNvbGUud2FybigibW9yZSB0aGFuIG9uZSBmcmFtZSBpcyBub3Qgc3VwcG9ydGVkIik7Zm9yKHZhciB0PTA7dDx0aGlzLmZyYW1lcy5sZW5ndGg7dCsrKWZvcih2YXIgcj10aGlzLmZyYW1lc1t0XS5jb21wb25lbnRzLG49MCxpPU9iamVjdC5rZXlzKHIpO248aS5sZW5ndGg7bisrKXt2YXIgYT1pW25dO3JbYV0ucXVhbnRpemF0aW9uVGFibGU9dGhpcy5xdWFudGl6YXRpb25UYWJsZXNbclthXS5xdWFudGl6YXRpb25JZHhdLGRlbGV0ZSByW2FdLnF1YW50aXphdGlvbklkeH1mb3IodmFyIG89ZVswXSxzPW8uY29tcG9uZW50cyx1PW8uY29tcG9uZW50c09yZGVyLGY9W10sbD1vLnNhbXBsZXNQZXJMaW5lLGM9by5zY2FuTGluZXMsaD0wO2g8dS5sZW5ndGg7aCsrKXt2YXIgZD1zW3VbaF1dO2YucHVzaCh7bGluZXM6cm4oMCxkKSxzY2FsZVg6ZC5oL28ubWF4SCxzY2FsZVk6ZC52L28ubWF4Vn0pfWZvcih2YXIgcD1uZXcgVWludDhBcnJheShsKmMqZi5sZW5ndGgpLG09MCx2PTA7djxjOysrdilmb3IodmFyIGc9MDtnPGw7KytnKWZvcih2YXIgeT0wO3k8Zi5sZW5ndGg7Kyt5KXt2YXIgdz1mW3ldO3BbbV09dy5saW5lc1swfHYqdy5zY2FsZVldWzB8Zyp3LnNjYWxlWF0sKyttfXJldHVybiBwfX1dKSxlfSgpLGFuPWZ1bmN0aW9uKGUpe2gocixlKTt2YXIgdD1LcihyKTtmdW5jdGlvbiByKGUpe3ZhciBuO3JldHVybiBiKHRoaXMsciksKG49dC5jYWxsKHRoaXMpKS5yZWFkZXI9bmV3IG5uLGUuSlBFR1RhYmxlcyYmbi5yZWFkZXIucGFyc2UoZS5KUEVHVGFibGVzKSxufXJldHVybiBsKHIsW3trZXk6ImRlY29kZUJsb2NrIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5yZWFkZXIucmVzZXRGcmFtZXMoKSx0aGlzLnJlYWRlci5wYXJzZShuZXcgVWludDhBcnJheShlKSksdGhpcy5yZWFkZXIuZ2V0UmVzdWx0KCkuYnVmZmVyfX1dKSxyfSh3ciksb249T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsZGVmYXVsdDphbn0pO2Z1bmN0aW9uIHNuKGUpe2Zvcih2YXIgdD1lLmxlbmd0aDstLXQ+PTA7KWVbdF09MH1zbihuZXcgQXJyYXkoNTc2KSksc24obmV3IEFycmF5KDYwKSksc24obmV3IEFycmF5KDUxMikpLHNuKG5ldyBBcnJheSgyNTYpKSxzbihuZXcgQXJyYXkoMjkpKSxzbihuZXcgQXJyYXkoMzApKTt2YXIgdW49ZnVuY3Rpb24oZSx0LHIsbil7Zm9yKHZhciBpPTY1NTM1JmV8MCxhPWU+Pj4xNiY2NTUzNXwwLG89MDswIT09cjspe3ItPW89cj4yZTM/MmUzOnI7ZG97YT1hKyhpPWkrdFtuKytdfDApfDB9d2hpbGUoLS1vKTtpJT02NTUyMSxhJT02NTUyMX1yZXR1cm4gaXxhPDwxNnwwfSxmbj1uZXcgVWludDMyQXJyYXkoZnVuY3Rpb24oKXtmb3IodmFyIGUsdD1bXSxyPTA7cjwyNTY7cisrKXtlPXI7Zm9yKHZhciBuPTA7bjw4O24rKyllPTEmZT8zOTg4MjkyMzg0XmU+Pj4xOmU+Pj4xO3Rbcl09ZX1yZXR1cm4gdH0oKSksbG49ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGk9Zm4sYT1uK3I7ZV49LTE7Zm9yKHZhciBvPW47bzxhO28rKyllPWU+Pj44XmlbMjU1JihlXnRbb10pXTtyZXR1cm4tMV5lfSxjbj17MjoibmVlZCBkaWN0aW9uYXJ5IiwxOiJzdHJlYW0gZW5kIiwwOiIiLCItMSI6ImZpbGUgZXJyb3IiLCItMiI6InN0cmVhbSBlcnJvciIsIi0zIjoiZGF0YSBlcnJvciIsIi00IjoiaW5zdWZmaWNpZW50IG1lbW9yeSIsIi01IjoiYnVmZmVyIGVycm9yIiwiLTYiOiJpbmNvbXBhdGlibGUgdmVyc2lvbiJ9LGhuPXtaX05PX0ZMVVNIOjAsWl9QQVJUSUFMX0ZMVVNIOjEsWl9TWU5DX0ZMVVNIOjIsWl9GVUxMX0ZMVVNIOjMsWl9GSU5JU0g6NCxaX0JMT0NLOjUsWl9UUkVFUzo2LFpfT0s6MCxaX1NUUkVBTV9FTkQ6MSxaX05FRURfRElDVDoyLFpfRVJSTk86LTEsWl9TVFJFQU1fRVJST1I6LTIsWl9EQVRBX0VSUk9SOi0zLFpfTUVNX0VSUk9SOi00LFpfQlVGX0VSUk9SOi01LFpfTk9fQ09NUFJFU1NJT046MCxaX0JFU1RfU1BFRUQ6MSxaX0JFU1RfQ09NUFJFU1NJT046OSxaX0RFRkFVTFRfQ09NUFJFU1NJT046LTEsWl9GSUxURVJFRDoxLFpfSFVGRk1BTl9PTkxZOjIsWl9STEU6MyxaX0ZJWEVEOjQsWl9ERUZBVUxUX1NUUkFURUdZOjAsWl9CSU5BUlk6MCxaX1RFWFQ6MSxaX1VOS05PV046MixaX0RFRkxBVEVEOjh9LGRuPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHQpfSxwbj1mdW5jdGlvbihlKXtmb3IodmFyIHQ9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpO3QubGVuZ3RoOyl7dmFyIHI9dC5zaGlmdCgpO2lmKHIpe2lmKCJvYmplY3QiIT09ZChyKSl0aHJvdyBuZXcgVHlwZUVycm9yKHIrIm11c3QgYmUgbm9uLW9iamVjdCIpO2Zvcih2YXIgbiBpbiByKWRuKHIsbikmJihlW25dPXJbbl0pfX1yZXR1cm4gZX0sbW49ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTAscj0wLG49ZS5sZW5ndGg7cjxuO3IrKyl0Kz1lW3JdLmxlbmd0aDtmb3IodmFyIGk9bmV3IFVpbnQ4QXJyYXkodCksYT0wLG89MCxzPWUubGVuZ3RoO2E8czthKyspe3ZhciB1PWVbYV07aS5zZXQodSxvKSxvKz11Lmxlbmd0aH1yZXR1cm4gaX0sdm49ITA7dHJ5e1N0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCxuZXcgVWludDhBcnJheSgxKSl9Y2F0Y2goZSl7dm49ITF9Zm9yKHZhciBnbj1uZXcgVWludDhBcnJheSgyNTYpLHluPTA7eW48MjU2O3luKyspZ25beW5dPXluPj0yNTI/Njp5bj49MjQ4PzU6eW4+PTI0MD80OnluPj0yMjQ/Mzp5bj49MTkyPzI6MTtnblsyNTRdPWduWzI1NF09MTt2YXIgd249ZnVuY3Rpb24oZSl7aWYoImZ1bmN0aW9uIj09dHlwZW9mIFRleHRFbmNvZGVyJiZUZXh0RW5jb2Rlci5wcm90b3R5cGUuZW5jb2RlKXJldHVybihuZXcgVGV4dEVuY29kZXIpLmVuY29kZShlKTt2YXIgdCxyLG4saSxhLG89ZS5sZW5ndGgscz0wO2ZvcihpPTA7aTxvO2krKyk1NTI5Nj09KDY0NTEyJihyPWUuY2hhckNvZGVBdChpKSkpJiZpKzE8byYmNTYzMjA9PSg2NDUxMiYobj1lLmNoYXJDb2RlQXQoaSsxKSkpJiYocj02NTUzNisoci01NTI5Njw8MTApKyhuLTU2MzIwKSxpKyspLHMrPXI8MTI4PzE6cjwyMDQ4PzI6cjw2NTUzNj8zOjQ7Zm9yKHQ9bmV3IFVpbnQ4QXJyYXkocyksYT0wLGk9MDthPHM7aSsrKTU1Mjk2PT0oNjQ1MTImKHI9ZS5jaGFyQ29kZUF0KGkpKSkmJmkrMTxvJiY1NjMyMD09KDY0NTEyJihuPWUuY2hhckNvZGVBdChpKzEpKSkmJihyPTY1NTM2KyhyLTU1Mjk2PDwxMCkrKG4tNTYzMjApLGkrKykscjwxMjg/dFthKytdPXI6cjwyMDQ4Pyh0W2ErK109MTkyfHI+Pj42LHRbYSsrXT0xMjh8NjMmcik6cjw2NTUzNj8odFthKytdPTIyNHxyPj4+MTIsdFthKytdPTEyOHxyPj4+NiY2Myx0W2ErK109MTI4fDYzJnIpOih0W2ErK109MjQwfHI+Pj4xOCx0W2ErK109MTI4fHI+Pj4xMiY2Myx0W2ErK109MTI4fHI+Pj42JjYzLHRbYSsrXT0xMjh8NjMmcik7cmV0dXJuIHR9LGJuPWZ1bmN0aW9uKGUsdCl7dmFyIHIsbixpPXR8fGUubGVuZ3RoO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBUZXh0RGVjb2RlciYmVGV4dERlY29kZXIucHJvdG90eXBlLmRlY29kZSlyZXR1cm4obmV3IFRleHREZWNvZGVyKS5kZWNvZGUoZS5zdWJhcnJheSgwLHQpKTt2YXIgYT1uZXcgQXJyYXkoMippKTtmb3Iobj0wLHI9MDtyPGk7KXt2YXIgbz1lW3IrK107aWYobzwxMjgpYVtuKytdPW87ZWxzZXt2YXIgcz1nbltvXTtpZihzPjQpYVtuKytdPTY1NTMzLHIrPXMtMTtlbHNle2ZvcihvJj0yPT09cz8zMTozPT09cz8xNTo3O3M+MSYmcjxpOylvPW88PDZ8NjMmZVtyKytdLHMtLTtzPjE/YVtuKytdPTY1NTMzOm88NjU1MzY/YVtuKytdPW86KG8tPTY1NTM2LGFbbisrXT01NTI5NnxvPj4xMCYxMDIzLGFbbisrXT01NjMyMHwxMDIzJm8pfX19cmV0dXJuIGZ1bmN0aW9uKGUsdCl7aWYodDw2NTUzNCYmZS5zdWJhcnJheSYmdm4pcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCxlLmxlbmd0aD09PXQ/ZTplLnN1YmFycmF5KDAsdCkpO2Zvcih2YXIgcj0iIixuPTA7bjx0O24rKylyKz1TdHJpbmcuZnJvbUNoYXJDb2RlKGVbbl0pO3JldHVybiByfShhLG4pfSxrbj1mdW5jdGlvbihlLHQpeyh0PXR8fGUubGVuZ3RoKT5lLmxlbmd0aCYmKHQ9ZS5sZW5ndGgpO2Zvcih2YXIgcj10LTE7cj49MCYmMTI4PT0oMTkyJmVbcl0pOylyLS07cmV0dXJuIHI8MHx8MD09PXI/dDpyK2duW2Vbcl1dPnQ/cjp0fSx4bj1mdW5jdGlvbigpe3RoaXMuaW5wdXQ9bnVsbCx0aGlzLm5leHRfaW49MCx0aGlzLmF2YWlsX2luPTAsdGhpcy50b3RhbF9pbj0wLHRoaXMub3V0cHV0PW51bGwsdGhpcy5uZXh0X291dD0wLHRoaXMuYXZhaWxfb3V0PTAsdGhpcy50b3RhbF9vdXQ9MCx0aGlzLm1zZz0iIix0aGlzLnN0YXRlPW51bGwsdGhpcy5kYXRhX3R5cGU9Mix0aGlzLmFkbGVyPTB9LEFuPWZ1bmN0aW9uKGUsdCl7dmFyIHIsbixpLGEsbyxzLHUsZixsLGMsaCxkLHAsbSx2LGcseSx3LGIsayx4LEEsXyxJLFA9ZS5zdGF0ZTtyPWUubmV4dF9pbixfPWUuaW5wdXQsbj1yKyhlLmF2YWlsX2luLTUpLGk9ZS5uZXh0X291dCxJPWUub3V0cHV0LGE9aS0odC1lLmF2YWlsX291dCksbz1pKyhlLmF2YWlsX291dC0yNTcpLHM9UC5kbWF4LHU9UC53c2l6ZSxmPVAud2hhdmUsbD1QLnduZXh0LGM9UC53aW5kb3csaD1QLmhvbGQsZD1QLmJpdHMscD1QLmxlbmNvZGUsbT1QLmRpc3Rjb2RlLHY9KDE8PFAubGVuYml0cyktMSxnPSgxPDxQLmRpc3RiaXRzKS0xO2U6ZG97ZDwxNSYmKGgrPV9bcisrXTw8ZCxkKz04LGgrPV9bcisrXTw8ZCxkKz04KSx5PXBbaCZ2XTt0OmZvcig7Oyl7aWYoaD4+Pj13PXk+Pj4yNCxkLT13LDA9PSh3PXk+Pj4xNiYyNTUpKUlbaSsrXT02NTUzNSZ5O2Vsc2V7aWYoISgxNiZ3KSl7aWYoMD09KDY0JncpKXt5PXBbKDY1NTM1JnkpKyhoJigxPDx3KS0xKV07Y29udGludWUgdH1pZigzMiZ3KXtQLm1vZGU9MTI7YnJlYWsgZX1lLm1zZz0iaW52YWxpZCBsaXRlcmFsL2xlbmd0aCBjb2RlIixQLm1vZGU9MzA7YnJlYWsgZX1iPTY1NTM1JnksKHcmPTE1KSYmKGQ8dyYmKGgrPV9bcisrXTw8ZCxkKz04KSxiKz1oJigxPDx3KS0xLGg+Pj49dyxkLT13KSxkPDE1JiYoaCs9X1tyKytdPDxkLGQrPTgsaCs9X1tyKytdPDxkLGQrPTgpLHk9bVtoJmddO3I6Zm9yKDs7KXtpZihoPj4+PXc9eT4+PjI0LGQtPXcsISgxNiYodz15Pj4+MTYmMjU1KSkpe2lmKDA9PSg2NCZ3KSl7eT1tWyg2NTUzNSZ5KSsoaCYoMTw8dyktMSldO2NvbnRpbnVlIHJ9ZS5tc2c9ImludmFsaWQgZGlzdGFuY2UgY29kZSIsUC5tb2RlPTMwO2JyZWFrIGV9aWYoaz02NTUzNSZ5LGQ8KHcmPTE1KSYmKGgrPV9bcisrXTw8ZCwoZCs9OCk8dyYmKGgrPV9bcisrXTw8ZCxkKz04KSksKGsrPWgmKDE8PHcpLTEpPnMpe2UubXNnPSJpbnZhbGlkIGRpc3RhbmNlIHRvbyBmYXIgYmFjayIsUC5tb2RlPTMwO2JyZWFrIGV9aWYoaD4+Pj13LGQtPXcsaz4odz1pLWEpKXtpZigodz1rLXcpPmYmJlAuc2FuZSl7ZS5tc2c9ImludmFsaWQgZGlzdGFuY2UgdG9vIGZhciBiYWNrIixQLm1vZGU9MzA7YnJlYWsgZX1pZih4PTAsQT1jLDA9PT1sKXtpZih4Kz11LXcsdzxiKXtiLT13O2Rve0lbaSsrXT1jW3grK119d2hpbGUoLS13KTt4PWktayxBPUl9fWVsc2UgaWYobDx3KXtpZih4Kz11K2wtdywody09bCk8Yil7Yi09dztkb3tJW2krK109Y1t4KytdfXdoaWxlKC0tdyk7aWYoeD0wLGw8Yil7Yi09dz1sO2Rve0lbaSsrXT1jW3grK119d2hpbGUoLS13KTt4PWktayxBPUl9fX1lbHNlIGlmKHgrPWwtdyx3PGIpe2ItPXc7ZG97SVtpKytdPWNbeCsrXX13aGlsZSgtLXcpO3g9aS1rLEE9SX1mb3IoO2I+MjspSVtpKytdPUFbeCsrXSxJW2krK109QVt4KytdLElbaSsrXT1BW3grK10sYi09MztiJiYoSVtpKytdPUFbeCsrXSxiPjEmJihJW2krK109QVt4KytdKSl9ZWxzZXt4PWktaztkb3tJW2krK109SVt4KytdLElbaSsrXT1JW3grK10sSVtpKytdPUlbeCsrXSxiLT0zfXdoaWxlKGI+Mik7YiYmKElbaSsrXT1JW3grK10sYj4xJiYoSVtpKytdPUlbeCsrXSkpfWJyZWFrfX1icmVha319d2hpbGUocjxuJiZpPG8pO3ItPWI9ZD4+MyxoJj0oMTw8KGQtPWI8PDMpKS0xLGUubmV4dF9pbj1yLGUubmV4dF9vdXQ9aSxlLmF2YWlsX2luPXI8bj9uLXIrNTo1LShyLW4pLGUuYXZhaWxfb3V0PWk8bz9vLWkrMjU3OjI1Ny0oaS1vKSxQLmhvbGQ9aCxQLmJpdHM9ZH0sX249MTUsSW49bmV3IFVpbnQxNkFycmF5KFszLDQsNSw2LDcsOCw5LDEwLDExLDEzLDE1LDE3LDE5LDIzLDI3LDMxLDM1LDQzLDUxLDU5LDY3LDgzLDk5LDExNSwxMzEsMTYzLDE5NSwyMjcsMjU4LDAsMF0pLFBuPW5ldyBVaW50OEFycmF5KFsxNiwxNiwxNiwxNiwxNiwxNiwxNiwxNiwxNywxNywxNywxNywxOCwxOCwxOCwxOCwxOSwxOSwxOSwxOSwyMCwyMCwyMCwyMCwyMSwyMSwyMSwyMSwxNiw3Miw3OF0pLFNuPW5ldyBVaW50MTZBcnJheShbMSwyLDMsNCw1LDcsOSwxMywxNywyNSwzMyw0OSw2NSw5NywxMjksMTkzLDI1NywzODUsNTEzLDc2OSwxMDI1LDE1MzcsMjA0OSwzMDczLDQwOTcsNjE0NSw4MTkzLDEyMjg5LDE2Mzg1LDI0NTc3LDAsMF0pLFRuPW5ldyBVaW50OEFycmF5KFsxNiwxNiwxNiwxNiwxNywxNywxOCwxOCwxOSwxOSwyMCwyMCwyMSwyMSwyMiwyMiwyMywyMywyNCwyNCwyNSwyNSwyNiwyNiwyNywyNywyOCwyOCwyOSwyOSw2NCw2NF0pLE9uPWZ1bmN0aW9uKGUsdCxyLG4saSxhLG8scyl7dmFyIHUsZixsLGMsaCxkLHAsbSx2LGc9cy5iaXRzLHk9MCx3PTAsYj0wLGs9MCx4PTAsQT0wLF89MCxJPTAsUD0wLFM9MCxUPW51bGwsTz0wLFU9bmV3IFVpbnQxNkFycmF5KDE2KSxEPW5ldyBVaW50MTZBcnJheSgxNiksRT1udWxsLFI9MDtmb3IoeT0wO3k8PV9uO3krKylVW3ldPTA7Zm9yKHc9MDt3PG47dysrKVVbdFtyK3ddXSsrO2Zvcih4PWcsaz1fbjtrPj0xJiYwPT09VVtrXTtrLS0pO2lmKHg+ayYmKHg9ayksMD09PWspcmV0dXJuIGlbYSsrXT0yMDk3MTUyMCxpW2ErK109MjA5NzE1MjAscy5iaXRzPTEsMDtmb3IoYj0xO2I8ayYmMD09PVVbYl07YisrKTtmb3IoeDxiJiYoeD1iKSxJPTEseT0xO3k8PV9uO3krKylpZihJPDw9MSwoSS09VVt5XSk8MClyZXR1cm4tMTtpZihJPjAmJigwPT09ZXx8MSE9PWspKXJldHVybi0xO2ZvcihEWzFdPTAseT0xO3k8X247eSsrKURbeSsxXT1EW3ldK1VbeV07Zm9yKHc9MDt3PG47dysrKTAhPT10W3Ird10mJihvW0RbdFtyK3ddXSsrXT13KTtpZigwPT09ZT8oVD1FPW8sZD0xOSk6MT09PWU/KFQ9SW4sTy09MjU3LEU9UG4sUi09MjU3LGQ9MjU2KTooVD1TbixFPVRuLGQ9LTEpLFM9MCx3PTAseT1iLGg9YSxBPXgsXz0wLGw9LTEsYz0oUD0xPDx4KS0xLDE9PT1lJiZQPjg1Mnx8Mj09PWUmJlA+NTkyKXJldHVybiAxO2Zvcig7Oyl7cD15LV8sb1t3XTxkPyhtPTAsdj1vW3ddKTpvW3ddPmQ/KG09RVtSK29bd11dLHY9VFtPK29bd11dKToobT05Nix2PTApLHU9MTw8eS1fLGI9Zj0xPDxBO2Rve2lbaCsoUz4+XykrKGYtPXUpXT1wPDwyNHxtPDwxNnx2fDB9d2hpbGUoMCE9PWYpO2Zvcih1PTE8PHktMTtTJnU7KXU+Pj0xO2lmKDAhPT11PyhTJj11LTEsUys9dSk6Uz0wLHcrKywwPT0tLVVbeV0pe2lmKHk9PT1rKWJyZWFrO3k9dFtyK29bd11dfWlmKHk+eCYmKFMmYykhPT1sKXtmb3IoMD09PV8mJihfPXgpLGgrPWIsST0xPDwoQT15LV8pO0ErXzxrJiYhKChJLT1VW0ErX10pPD0wKTspQSsrLEk8PD0xO2lmKFArPTE8PEEsMT09PWUmJlA+ODUyfHwyPT09ZSYmUD41OTIpcmV0dXJuIDE7aVtsPVMmY109eDw8MjR8QTw8MTZ8aC1hfDB9fXJldHVybiAwIT09UyYmKGlbaCtTXT15LV88PDI0fDY0PDwxNnwwKSxzLmJpdHM9eCwwfSxVbj1obi5aX0ZJTklTSCxEbj1obi5aX0JMT0NLLEVuPWhuLlpfVFJFRVMsUm49aG4uWl9PSyxNbj1obi5aX1NUUkVBTV9FTkQsQm49aG4uWl9ORUVEX0RJQ1QsQ249aG4uWl9TVFJFQU1fRVJST1IsTG49aG4uWl9EQVRBX0VSUk9SLEZuPWhuLlpfTUVNX0VSUk9SLFZuPWhuLlpfQlVGX0VSUk9SLEduPWhuLlpfREVGTEFURUQsam49MTIsem49MzAsTm49ZnVuY3Rpb24oZSl7cmV0dXJuKGU+Pj4yNCYyNTUpKyhlPj4+OCY2NTI4MCkrKCg2NTI4MCZlKTw8OCkrKCgyNTUmZSk8PDI0KX07ZnVuY3Rpb24gS24oKXt0aGlzLm1vZGU9MCx0aGlzLmxhc3Q9ITEsdGhpcy53cmFwPTAsdGhpcy5oYXZlZGljdD0hMSx0aGlzLmZsYWdzPTAsdGhpcy5kbWF4PTAsdGhpcy5jaGVjaz0wLHRoaXMudG90YWw9MCx0aGlzLmhlYWQ9bnVsbCx0aGlzLndiaXRzPTAsdGhpcy53c2l6ZT0wLHRoaXMud2hhdmU9MCx0aGlzLnduZXh0PTAsdGhpcy53aW5kb3c9bnVsbCx0aGlzLmhvbGQ9MCx0aGlzLmJpdHM9MCx0aGlzLmxlbmd0aD0wLHRoaXMub2Zmc2V0PTAsdGhpcy5leHRyYT0wLHRoaXMubGVuY29kZT1udWxsLHRoaXMuZGlzdGNvZGU9bnVsbCx0aGlzLmxlbmJpdHM9MCx0aGlzLmRpc3RiaXRzPTAsdGhpcy5uY29kZT0wLHRoaXMubmxlbj0wLHRoaXMubmRpc3Q9MCx0aGlzLmhhdmU9MCx0aGlzLm5leHQ9bnVsbCx0aGlzLmxlbnM9bmV3IFVpbnQxNkFycmF5KDMyMCksdGhpcy53b3JrPW5ldyBVaW50MTZBcnJheSgyODgpLHRoaXMubGVuZHluPW51bGwsdGhpcy5kaXN0ZHluPW51bGwsdGhpcy5zYW5lPTAsdGhpcy5iYWNrPTAsdGhpcy53YXM9MH12YXIgWm4sSG4sWW49ZnVuY3Rpb24oZSl7aWYoIWV8fCFlLnN0YXRlKXJldHVybiBDbjt2YXIgdD1lLnN0YXRlO3JldHVybiBlLnRvdGFsX2luPWUudG90YWxfb3V0PXQudG90YWw9MCxlLm1zZz0iIix0LndyYXAmJihlLmFkbGVyPTEmdC53cmFwKSx0Lm1vZGU9MSx0Lmxhc3Q9MCx0LmhhdmVkaWN0PTAsdC5kbWF4PTMyNzY4LHQuaGVhZD1udWxsLHQuaG9sZD0wLHQuYml0cz0wLHQubGVuY29kZT10LmxlbmR5bj1uZXcgSW50MzJBcnJheSg4NTIpLHQuZGlzdGNvZGU9dC5kaXN0ZHluPW5ldyBJbnQzMkFycmF5KDU5MiksdC5zYW5lPTEsdC5iYWNrPS0xLFJufSxxbj1mdW5jdGlvbihlKXtpZighZXx8IWUuc3RhdGUpcmV0dXJuIENuO3ZhciB0PWUuc3RhdGU7cmV0dXJuIHQud3NpemU9MCx0LndoYXZlPTAsdC53bmV4dD0wLFluKGUpfSxXbj1mdW5jdGlvbihlLHQpe3ZhciByO2lmKCFlfHwhZS5zdGF0ZSlyZXR1cm4gQ247dmFyIG49ZS5zdGF0ZTtyZXR1cm4gdDwwPyhyPTAsdD0tdCk6KHI9MSsodD4+NCksdDw0OCYmKHQmPTE1KSksdCYmKHQ8OHx8dD4xNSk/Q246KG51bGwhPT1uLndpbmRvdyYmbi53Yml0cyE9PXQmJihuLndpbmRvdz1udWxsKSxuLndyYXA9cixuLndiaXRzPXQscW4oZSkpfSxYbj1mdW5jdGlvbihlLHQpe2lmKCFlKXJldHVybiBDbjt2YXIgcj1uZXcgS247ZS5zdGF0ZT1yLHIud2luZG93PW51bGw7dmFyIG49V24oZSx0KTtyZXR1cm4gbiE9PVJuJiYoZS5zdGF0ZT1udWxsKSxufSxKbj0hMCxRbj1mdW5jdGlvbihlKXtpZihKbil7Wm49bmV3IEludDMyQXJyYXkoNTEyKSxIbj1uZXcgSW50MzJBcnJheSgzMik7Zm9yKHZhciB0PTA7dDwxNDQ7KWUubGVuc1t0KytdPTg7Zm9yKDt0PDI1NjspZS5sZW5zW3QrK109OTtmb3IoO3Q8MjgwOyllLmxlbnNbdCsrXT03O2Zvcig7dDwyODg7KWUubGVuc1t0KytdPTg7Zm9yKE9uKDEsZS5sZW5zLDAsMjg4LFpuLDAsZS53b3JrLHtiaXRzOjl9KSx0PTA7dDwzMjspZS5sZW5zW3QrK109NTtPbigyLGUubGVucywwLDMyLEhuLDAsZS53b3JrLHtiaXRzOjV9KSxKbj0hMX1lLmxlbmNvZGU9Wm4sZS5sZW5iaXRzPTksZS5kaXN0Y29kZT1IbixlLmRpc3RiaXRzPTV9LCRuPWZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBpLGE9ZS5zdGF0ZTtyZXR1cm4gbnVsbD09PWEud2luZG93JiYoYS53c2l6ZT0xPDxhLndiaXRzLGEud25leHQ9MCxhLndoYXZlPTAsYS53aW5kb3c9bmV3IFVpbnQ4QXJyYXkoYS53c2l6ZSkpLG4+PWEud3NpemU/KGEud2luZG93LnNldCh0LnN1YmFycmF5KHItYS53c2l6ZSxyKSwwKSxhLnduZXh0PTAsYS53aGF2ZT1hLndzaXplKTooKGk9YS53c2l6ZS1hLnduZXh0KT5uJiYoaT1uKSxhLndpbmRvdy5zZXQodC5zdWJhcnJheShyLW4sci1uK2kpLGEud25leHQpLChuLT1pKT8oYS53aW5kb3cuc2V0KHQuc3ViYXJyYXkoci1uLHIpLDApLGEud25leHQ9bixhLndoYXZlPWEud3NpemUpOihhLnduZXh0Kz1pLGEud25leHQ9PT1hLndzaXplJiYoYS53bmV4dD0wKSxhLndoYXZlPGEud3NpemUmJihhLndoYXZlKz1pKSkpLDB9LGVpPXtpbmZsYXRlUmVzZXQ6cW4saW5mbGF0ZVJlc2V0MjpXbixpbmZsYXRlUmVzZXRLZWVwOlluLGluZmxhdGVJbml0OmZ1bmN0aW9uKGUpe3JldHVybiBYbihlLDE1KX0saW5mbGF0ZUluaXQyOlhuLGluZmxhdGU6ZnVuY3Rpb24oZSx0KXt2YXIgcixuLGksYSxvLHMsdSxmLGwsYyxoLGQscCxtLHYsZyx5LHcsYixrLHgsQSxfLEksUD0wLFM9bmV3IFVpbnQ4QXJyYXkoNCksVD1uZXcgVWludDhBcnJheShbMTYsMTcsMTgsMCw4LDcsOSw2LDEwLDUsMTEsNCwxMiwzLDEzLDIsMTQsMSwxNV0pO2lmKCFlfHwhZS5zdGF0ZXx8IWUub3V0cHV0fHwhZS5pbnB1dCYmMCE9PWUuYXZhaWxfaW4pcmV0dXJuIENuOyhyPWUuc3RhdGUpLm1vZGU9PT1qbiYmKHIubW9kZT0xMyksbz1lLm5leHRfb3V0LGk9ZS5vdXRwdXQsdT1lLmF2YWlsX291dCxhPWUubmV4dF9pbixuPWUuaW5wdXQscz1lLmF2YWlsX2luLGY9ci5ob2xkLGw9ci5iaXRzLGM9cyxoPXUsQT1SbjtlOmZvcig7Oylzd2l0Y2goci5tb2RlKXtjYXNlIDE6aWYoMD09PXIud3JhcCl7ci5tb2RlPTEzO2JyZWFrfWZvcig7bDwxNjspe2lmKDA9PT1zKWJyZWFrIGU7cy0tLGYrPW5bYSsrXTw8bCxsKz04fWlmKDImci53cmFwJiYzNTYxNT09PWYpe3IuY2hlY2s9MCxTWzBdPTI1NSZmLFNbMV09Zj4+PjgmMjU1LHIuY2hlY2s9bG4oci5jaGVjayxTLDIsMCksZj0wLGw9MCxyLm1vZGU9MjticmVha31pZihyLmZsYWdzPTAsci5oZWFkJiYoci5oZWFkLmRvbmU9ITEpLCEoMSZyLndyYXApfHwoKCgyNTUmZik8PDgpKyhmPj44KSklMzEpe2UubXNnPSJpbmNvcnJlY3QgaGVhZGVyIGNoZWNrIixyLm1vZGU9em47YnJlYWt9aWYoKDE1JmYpIT09R24pe2UubXNnPSJ1bmtub3duIGNvbXByZXNzaW9uIG1ldGhvZCIsci5tb2RlPXpuO2JyZWFrfWlmKGwtPTQseD04KygxNSYoZj4+Pj00KSksMD09PXIud2JpdHMpci53Yml0cz14O2Vsc2UgaWYoeD5yLndiaXRzKXtlLm1zZz0iaW52YWxpZCB3aW5kb3cgc2l6ZSIsci5tb2RlPXpuO2JyZWFrfXIuZG1heD0xPDxyLndiaXRzLGUuYWRsZXI9ci5jaGVjaz0xLHIubW9kZT01MTImZj8xMDpqbixmPTAsbD0wO2JyZWFrO2Nhc2UgMjpmb3IoO2w8MTY7KXtpZigwPT09cylicmVhayBlO3MtLSxmKz1uW2ErK108PGwsbCs9OH1pZihyLmZsYWdzPWYsKDI1NSZyLmZsYWdzKSE9PUduKXtlLm1zZz0idW5rbm93biBjb21wcmVzc2lvbiBtZXRob2QiLHIubW9kZT16bjticmVha31pZig1NzM0NCZyLmZsYWdzKXtlLm1zZz0idW5rbm93biBoZWFkZXIgZmxhZ3Mgc2V0IixyLm1vZGU9em47YnJlYWt9ci5oZWFkJiYoci5oZWFkLnRleHQ9Zj4+OCYxKSw1MTImci5mbGFncyYmKFNbMF09MjU1JmYsU1sxXT1mPj4+OCYyNTUsci5jaGVjaz1sbihyLmNoZWNrLFMsMiwwKSksZj0wLGw9MCxyLm1vZGU9MztjYXNlIDM6Zm9yKDtsPDMyOyl7aWYoMD09PXMpYnJlYWsgZTtzLS0sZis9blthKytdPDxsLGwrPTh9ci5oZWFkJiYoci5oZWFkLnRpbWU9ZiksNTEyJnIuZmxhZ3MmJihTWzBdPTI1NSZmLFNbMV09Zj4+PjgmMjU1LFNbMl09Zj4+PjE2JjI1NSxTWzNdPWY+Pj4yNCYyNTUsci5jaGVjaz1sbihyLmNoZWNrLFMsNCwwKSksZj0wLGw9MCxyLm1vZGU9NDtjYXNlIDQ6Zm9yKDtsPDE2Oyl7aWYoMD09PXMpYnJlYWsgZTtzLS0sZis9blthKytdPDxsLGwrPTh9ci5oZWFkJiYoci5oZWFkLnhmbGFncz0yNTUmZixyLmhlYWQub3M9Zj4+OCksNTEyJnIuZmxhZ3MmJihTWzBdPTI1NSZmLFNbMV09Zj4+PjgmMjU1LHIuY2hlY2s9bG4oci5jaGVjayxTLDIsMCkpLGY9MCxsPTAsci5tb2RlPTU7Y2FzZSA1OmlmKDEwMjQmci5mbGFncyl7Zm9yKDtsPDE2Oyl7aWYoMD09PXMpYnJlYWsgZTtzLS0sZis9blthKytdPDxsLGwrPTh9ci5sZW5ndGg9ZixyLmhlYWQmJihyLmhlYWQuZXh0cmFfbGVuPWYpLDUxMiZyLmZsYWdzJiYoU1swXT0yNTUmZixTWzFdPWY+Pj44JjI1NSxyLmNoZWNrPWxuKHIuY2hlY2ssUywyLDApKSxmPTAsbD0wfWVsc2Ugci5oZWFkJiYoci5oZWFkLmV4dHJhPW51bGwpO3IubW9kZT02O2Nhc2UgNjppZigxMDI0JnIuZmxhZ3MmJigoZD1yLmxlbmd0aCk+cyYmKGQ9cyksZCYmKHIuaGVhZCYmKHg9ci5oZWFkLmV4dHJhX2xlbi1yLmxlbmd0aCxyLmhlYWQuZXh0cmF8fChyLmhlYWQuZXh0cmE9bmV3IFVpbnQ4QXJyYXkoci5oZWFkLmV4dHJhX2xlbikpLHIuaGVhZC5leHRyYS5zZXQobi5zdWJhcnJheShhLGErZCkseCkpLDUxMiZyLmZsYWdzJiYoci5jaGVjaz1sbihyLmNoZWNrLG4sZCxhKSkscy09ZCxhKz1kLHIubGVuZ3RoLT1kKSxyLmxlbmd0aCkpYnJlYWsgZTtyLmxlbmd0aD0wLHIubW9kZT03O2Nhc2UgNzppZigyMDQ4JnIuZmxhZ3Mpe2lmKDA9PT1zKWJyZWFrIGU7ZD0wO2Rve3g9blthK2QrK10sci5oZWFkJiZ4JiZyLmxlbmd0aDw2NTUzNiYmKHIuaGVhZC5uYW1lKz1TdHJpbmcuZnJvbUNoYXJDb2RlKHgpKX13aGlsZSh4JiZkPHMpO2lmKDUxMiZyLmZsYWdzJiYoci5jaGVjaz1sbihyLmNoZWNrLG4sZCxhKSkscy09ZCxhKz1kLHgpYnJlYWsgZX1lbHNlIHIuaGVhZCYmKHIuaGVhZC5uYW1lPW51bGwpO3IubGVuZ3RoPTAsci5tb2RlPTg7Y2FzZSA4OmlmKDQwOTYmci5mbGFncyl7aWYoMD09PXMpYnJlYWsgZTtkPTA7ZG97eD1uW2ErZCsrXSxyLmhlYWQmJngmJnIubGVuZ3RoPDY1NTM2JiYoci5oZWFkLmNvbW1lbnQrPVN0cmluZy5mcm9tQ2hhckNvZGUoeCkpfXdoaWxlKHgmJmQ8cyk7aWYoNTEyJnIuZmxhZ3MmJihyLmNoZWNrPWxuKHIuY2hlY2ssbixkLGEpKSxzLT1kLGErPWQseClicmVhayBlfWVsc2Ugci5oZWFkJiYoci5oZWFkLmNvbW1lbnQ9bnVsbCk7ci5tb2RlPTk7Y2FzZSA5OmlmKDUxMiZyLmZsYWdzKXtmb3IoO2w8MTY7KXtpZigwPT09cylicmVhayBlO3MtLSxmKz1uW2ErK108PGwsbCs9OH1pZihmIT09KDY1NTM1JnIuY2hlY2spKXtlLm1zZz0iaGVhZGVyIGNyYyBtaXNtYXRjaCIsci5tb2RlPXpuO2JyZWFrfWY9MCxsPTB9ci5oZWFkJiYoci5oZWFkLmhjcmM9ci5mbGFncz4+OSYxLHIuaGVhZC5kb25lPSEwKSxlLmFkbGVyPXIuY2hlY2s9MCxyLm1vZGU9am47YnJlYWs7Y2FzZSAxMDpmb3IoO2w8MzI7KXtpZigwPT09cylicmVhayBlO3MtLSxmKz1uW2ErK108PGwsbCs9OH1lLmFkbGVyPXIuY2hlY2s9Tm4oZiksZj0wLGw9MCxyLm1vZGU9MTE7Y2FzZSAxMTppZigwPT09ci5oYXZlZGljdClyZXR1cm4gZS5uZXh0X291dD1vLGUuYXZhaWxfb3V0PXUsZS5uZXh0X2luPWEsZS5hdmFpbF9pbj1zLHIuaG9sZD1mLHIuYml0cz1sLEJuO2UuYWRsZXI9ci5jaGVjaz0xLHIubW9kZT1qbjtjYXNlIGpuOmlmKHQ9PT1Ebnx8dD09PUVuKWJyZWFrIGU7Y2FzZSAxMzppZihyLmxhc3Qpe2Y+Pj49NyZsLGwtPTcmbCxyLm1vZGU9Mjc7YnJlYWt9Zm9yKDtsPDM7KXtpZigwPT09cylicmVhayBlO3MtLSxmKz1uW2ErK108PGwsbCs9OH1zd2l0Y2goci5sYXN0PTEmZixsLT0xLDMmKGY+Pj49MSkpe2Nhc2UgMDpyLm1vZGU9MTQ7YnJlYWs7Y2FzZSAxOmlmKFFuKHIpLHIubW9kZT0yMCx0PT09RW4pe2Y+Pj49MixsLT0yO2JyZWFrIGV9YnJlYWs7Y2FzZSAyOnIubW9kZT0xNzticmVhaztjYXNlIDM6ZS5tc2c9ImludmFsaWQgYmxvY2sgdHlwZSIsci5tb2RlPXpufWY+Pj49MixsLT0yO2JyZWFrO2Nhc2UgMTQ6Zm9yKGY+Pj49NyZsLGwtPTcmbDtsPDMyOyl7aWYoMD09PXMpYnJlYWsgZTtzLS0sZis9blthKytdPDxsLGwrPTh9aWYoKDY1NTM1JmYpIT0oZj4+PjE2XjY1NTM1KSl7ZS5tc2c9ImludmFsaWQgc3RvcmVkIGJsb2NrIGxlbmd0aHMiLHIubW9kZT16bjticmVha31pZihyLmxlbmd0aD02NTUzNSZmLGY9MCxsPTAsci5tb2RlPTE1LHQ9PT1FbilicmVhayBlO2Nhc2UgMTU6ci5tb2RlPTE2O2Nhc2UgMTY6aWYoZD1yLmxlbmd0aCl7aWYoZD5zJiYoZD1zKSxkPnUmJihkPXUpLDA9PT1kKWJyZWFrIGU7aS5zZXQobi5zdWJhcnJheShhLGErZCksbykscy09ZCxhKz1kLHUtPWQsbys9ZCxyLmxlbmd0aC09ZDticmVha31yLm1vZGU9am47YnJlYWs7Y2FzZSAxNzpmb3IoO2w8MTQ7KXtpZigwPT09cylicmVhayBlO3MtLSxmKz1uW2ErK108PGwsbCs9OH1pZihyLm5sZW49MjU3KygzMSZmKSxmPj4+PTUsbC09NSxyLm5kaXN0PTErKDMxJmYpLGY+Pj49NSxsLT01LHIubmNvZGU9NCsoMTUmZiksZj4+Pj00LGwtPTQsci5ubGVuPjI4Nnx8ci5uZGlzdD4zMCl7ZS5tc2c9InRvbyBtYW55IGxlbmd0aCBvciBkaXN0YW5jZSBzeW1ib2xzIixyLm1vZGU9em47YnJlYWt9ci5oYXZlPTAsci5tb2RlPTE4O2Nhc2UgMTg6Zm9yKDtyLmhhdmU8ci5uY29kZTspe2Zvcig7bDwzOyl7aWYoMD09PXMpYnJlYWsgZTtzLS0sZis9blthKytdPDxsLGwrPTh9ci5sZW5zW1Rbci5oYXZlKytdXT03JmYsZj4+Pj0zLGwtPTN9Zm9yKDtyLmhhdmU8MTk7KXIubGVuc1tUW3IuaGF2ZSsrXV09MDtpZihyLmxlbmNvZGU9ci5sZW5keW4sci5sZW5iaXRzPTcsXz17Yml0czpyLmxlbmJpdHN9LEE9T24oMCxyLmxlbnMsMCwxOSxyLmxlbmNvZGUsMCxyLndvcmssXyksci5sZW5iaXRzPV8uYml0cyxBKXtlLm1zZz0iaW52YWxpZCBjb2RlIGxlbmd0aHMgc2V0IixyLm1vZGU9em47YnJlYWt9ci5oYXZlPTAsci5tb2RlPTE5O2Nhc2UgMTk6Zm9yKDtyLmhhdmU8ci5ubGVuK3IubmRpc3Q7KXtmb3IoO2c9KFA9ci5sZW5jb2RlW2YmKDE8PHIubGVuYml0cyktMV0pPj4+MTYmMjU1LHk9NjU1MzUmUCwhKCh2PVA+Pj4yNCk8PWwpOyl7aWYoMD09PXMpYnJlYWsgZTtzLS0sZis9blthKytdPDxsLGwrPTh9aWYoeTwxNilmPj4+PXYsbC09dixyLmxlbnNbci5oYXZlKytdPXk7ZWxzZXtpZigxNj09PXkpe2ZvcihJPXYrMjtsPEk7KXtpZigwPT09cylicmVhayBlO3MtLSxmKz1uW2ErK108PGwsbCs9OH1pZihmPj4+PXYsbC09diwwPT09ci5oYXZlKXtlLm1zZz0iaW52YWxpZCBiaXQgbGVuZ3RoIHJlcGVhdCIsci5tb2RlPXpuO2JyZWFrfXg9ci5sZW5zW3IuaGF2ZS0xXSxkPTMrKDMmZiksZj4+Pj0yLGwtPTJ9ZWxzZSBpZigxNz09PXkpe2ZvcihJPXYrMztsPEk7KXtpZigwPT09cylicmVhayBlO3MtLSxmKz1uW2ErK108PGwsbCs9OH1sLT12LHg9MCxkPTMrKDcmKGY+Pj49dikpLGY+Pj49MyxsLT0zfWVsc2V7Zm9yKEk9dis3O2w8STspe2lmKDA9PT1zKWJyZWFrIGU7cy0tLGYrPW5bYSsrXTw8bCxsKz04fWwtPXYseD0wLGQ9MTErKDEyNyYoZj4+Pj12KSksZj4+Pj03LGwtPTd9aWYoci5oYXZlK2Q+ci5ubGVuK3IubmRpc3Qpe2UubXNnPSJpbnZhbGlkIGJpdCBsZW5ndGggcmVwZWF0IixyLm1vZGU9em47YnJlYWt9Zm9yKDtkLS07KXIubGVuc1tyLmhhdmUrK109eH19aWYoci5tb2RlPT09em4pYnJlYWs7aWYoMD09PXIubGVuc1syNTZdKXtlLm1zZz0iaW52YWxpZCBjb2RlIC0tIG1pc3NpbmcgZW5kLW9mLWJsb2NrIixyLm1vZGU9em47YnJlYWt9aWYoci5sZW5iaXRzPTksXz17Yml0czpyLmxlbmJpdHN9LEE9T24oMSxyLmxlbnMsMCxyLm5sZW4sci5sZW5jb2RlLDAsci53b3JrLF8pLHIubGVuYml0cz1fLmJpdHMsQSl7ZS5tc2c9ImludmFsaWQgbGl0ZXJhbC9sZW5ndGhzIHNldCIsci5tb2RlPXpuO2JyZWFrfWlmKHIuZGlzdGJpdHM9NixyLmRpc3Rjb2RlPXIuZGlzdGR5bixfPXtiaXRzOnIuZGlzdGJpdHN9LEE9T24oMixyLmxlbnMsci5ubGVuLHIubmRpc3Qsci5kaXN0Y29kZSwwLHIud29yayxfKSxyLmRpc3RiaXRzPV8uYml0cyxBKXtlLm1zZz0iaW52YWxpZCBkaXN0YW5jZXMgc2V0IixyLm1vZGU9em47YnJlYWt9aWYoci5tb2RlPTIwLHQ9PT1FbilicmVhayBlO2Nhc2UgMjA6ci5tb2RlPTIxO2Nhc2UgMjE6aWYocz49NiYmdT49MjU4KXtlLm5leHRfb3V0PW8sZS5hdmFpbF9vdXQ9dSxlLm5leHRfaW49YSxlLmF2YWlsX2luPXMsci5ob2xkPWYsci5iaXRzPWwsQW4oZSxoKSxvPWUubmV4dF9vdXQsaT1lLm91dHB1dCx1PWUuYXZhaWxfb3V0LGE9ZS5uZXh0X2luLG49ZS5pbnB1dCxzPWUuYXZhaWxfaW4sZj1yLmhvbGQsbD1yLmJpdHMsci5tb2RlPT09am4mJihyLmJhY2s9LTEpO2JyZWFrfWZvcihyLmJhY2s9MDtnPShQPXIubGVuY29kZVtmJigxPDxyLmxlbmJpdHMpLTFdKT4+PjE2JjI1NSx5PTY1NTM1JlAsISgodj1QPj4+MjQpPD1sKTspe2lmKDA9PT1zKWJyZWFrIGU7cy0tLGYrPW5bYSsrXTw8bCxsKz04fWlmKGcmJjA9PSgyNDAmZykpe2Zvcih3PXYsYj1nLGs9eTtnPShQPXIubGVuY29kZVtrKygoZiYoMTw8dytiKS0xKT4+dyldKT4+PjE2JjI1NSx5PTY1NTM1JlAsISh3Kyh2PVA+Pj4yNCk8PWwpOyl7aWYoMD09PXMpYnJlYWsgZTtzLS0sZis9blthKytdPDxsLGwrPTh9Zj4+Pj13LGwtPXcsci5iYWNrKz13fWlmKGY+Pj49dixsLT12LHIuYmFjays9dixyLmxlbmd0aD15LDA9PT1nKXtyLm1vZGU9MjY7YnJlYWt9aWYoMzImZyl7ci5iYWNrPS0xLHIubW9kZT1qbjticmVha31pZig2NCZnKXtlLm1zZz0iaW52YWxpZCBsaXRlcmFsL2xlbmd0aCBjb2RlIixyLm1vZGU9em47YnJlYWt9ci5leHRyYT0xNSZnLHIubW9kZT0yMjtjYXNlIDIyOmlmKHIuZXh0cmEpe2ZvcihJPXIuZXh0cmE7bDxJOyl7aWYoMD09PXMpYnJlYWsgZTtzLS0sZis9blthKytdPDxsLGwrPTh9ci5sZW5ndGgrPWYmKDE8PHIuZXh0cmEpLTEsZj4+Pj1yLmV4dHJhLGwtPXIuZXh0cmEsci5iYWNrKz1yLmV4dHJhfXIud2FzPXIubGVuZ3RoLHIubW9kZT0yMztjYXNlIDIzOmZvcig7Zz0oUD1yLmRpc3Rjb2RlW2YmKDE8PHIuZGlzdGJpdHMpLTFdKT4+PjE2JjI1NSx5PTY1NTM1JlAsISgodj1QPj4+MjQpPD1sKTspe2lmKDA9PT1zKWJyZWFrIGU7cy0tLGYrPW5bYSsrXTw8bCxsKz04fWlmKDA9PSgyNDAmZykpe2Zvcih3PXYsYj1nLGs9eTtnPShQPXIuZGlzdGNvZGVbaysoKGYmKDE8PHcrYiktMSk+PncpXSk+Pj4xNiYyNTUseT02NTUzNSZQLCEodysodj1QPj4+MjQpPD1sKTspe2lmKDA9PT1zKWJyZWFrIGU7cy0tLGYrPW5bYSsrXTw8bCxsKz04fWY+Pj49dyxsLT13LHIuYmFjays9d31pZihmPj4+PXYsbC09dixyLmJhY2srPXYsNjQmZyl7ZS5tc2c9ImludmFsaWQgZGlzdGFuY2UgY29kZSIsci5tb2RlPXpuO2JyZWFrfXIub2Zmc2V0PXksci5leHRyYT0xNSZnLHIubW9kZT0yNDtjYXNlIDI0OmlmKHIuZXh0cmEpe2ZvcihJPXIuZXh0cmE7bDxJOyl7aWYoMD09PXMpYnJlYWsgZTtzLS0sZis9blthKytdPDxsLGwrPTh9ci5vZmZzZXQrPWYmKDE8PHIuZXh0cmEpLTEsZj4+Pj1yLmV4dHJhLGwtPXIuZXh0cmEsci5iYWNrKz1yLmV4dHJhfWlmKHIub2Zmc2V0PnIuZG1heCl7ZS5tc2c9ImludmFsaWQgZGlzdGFuY2UgdG9vIGZhciBiYWNrIixyLm1vZGU9em47YnJlYWt9ci5tb2RlPTI1O2Nhc2UgMjU6aWYoMD09PXUpYnJlYWsgZTtpZihkPWgtdSxyLm9mZnNldD5kKXtpZigoZD1yLm9mZnNldC1kKT5yLndoYXZlJiZyLnNhbmUpe2UubXNnPSJpbnZhbGlkIGRpc3RhbmNlIHRvbyBmYXIgYmFjayIsci5tb2RlPXpuO2JyZWFrfWQ+ci53bmV4dD8oZC09ci53bmV4dCxwPXIud3NpemUtZCk6cD1yLnduZXh0LWQsZD5yLmxlbmd0aCYmKGQ9ci5sZW5ndGgpLG09ci53aW5kb3d9ZWxzZSBtPWkscD1vLXIub2Zmc2V0LGQ9ci5sZW5ndGg7ZD51JiYoZD11KSx1LT1kLHIubGVuZ3RoLT1kO2Rve2lbbysrXT1tW3ArK119d2hpbGUoLS1kKTswPT09ci5sZW5ndGgmJihyLm1vZGU9MjEpO2JyZWFrO2Nhc2UgMjY6aWYoMD09PXUpYnJlYWsgZTtpW28rK109ci5sZW5ndGgsdS0tLHIubW9kZT0yMTticmVhaztjYXNlIDI3OmlmKHIud3JhcCl7Zm9yKDtsPDMyOyl7aWYoMD09PXMpYnJlYWsgZTtzLS0sZnw9blthKytdPDxsLGwrPTh9aWYoaC09dSxlLnRvdGFsX291dCs9aCxyLnRvdGFsKz1oLGgmJihlLmFkbGVyPXIuY2hlY2s9ci5mbGFncz9sbihyLmNoZWNrLGksaCxvLWgpOnVuKHIuY2hlY2ssaSxoLG8taCkpLGg9dSwoci5mbGFncz9mOk5uKGYpKSE9PXIuY2hlY2spe2UubXNnPSJpbmNvcnJlY3QgZGF0YSBjaGVjayIsci5tb2RlPXpuO2JyZWFrfWY9MCxsPTB9ci5tb2RlPTI4O2Nhc2UgMjg6aWYoci53cmFwJiZyLmZsYWdzKXtmb3IoO2w8MzI7KXtpZigwPT09cylicmVhayBlO3MtLSxmKz1uW2ErK108PGwsbCs9OH1pZihmIT09KDQyOTQ5NjcyOTUmci50b3RhbCkpe2UubXNnPSJpbmNvcnJlY3QgbGVuZ3RoIGNoZWNrIixyLm1vZGU9em47YnJlYWt9Zj0wLGw9MH1yLm1vZGU9Mjk7Y2FzZSAyOTpBPU1uO2JyZWFrIGU7Y2FzZSB6bjpBPUxuO2JyZWFrIGU7Y2FzZSAzMTpyZXR1cm4gRm47ZGVmYXVsdDpyZXR1cm4gQ259cmV0dXJuIGUubmV4dF9vdXQ9byxlLmF2YWlsX291dD11LGUubmV4dF9pbj1hLGUuYXZhaWxfaW49cyxyLmhvbGQ9ZixyLmJpdHM9bCwoci53c2l6ZXx8aCE9PWUuYXZhaWxfb3V0JiZyLm1vZGU8em4mJihyLm1vZGU8Mjd8fHQhPT1VbikpJiYkbihlLGUub3V0cHV0LGUubmV4dF9vdXQsaC1lLmF2YWlsX291dCksYy09ZS5hdmFpbF9pbixoLT1lLmF2YWlsX291dCxlLnRvdGFsX2luKz1jLGUudG90YWxfb3V0Kz1oLHIudG90YWwrPWgsci53cmFwJiZoJiYoZS5hZGxlcj1yLmNoZWNrPXIuZmxhZ3M/bG4oci5jaGVjayxpLGgsZS5uZXh0X291dC1oKTp1bihyLmNoZWNrLGksaCxlLm5leHRfb3V0LWgpKSxlLmRhdGFfdHlwZT1yLmJpdHMrKHIubGFzdD82NDowKSsoci5tb2RlPT09am4/MTI4OjApKygyMD09PXIubW9kZXx8MTU9PT1yLm1vZGU/MjU2OjApLCgwPT09YyYmMD09PWh8fHQ9PT1VbikmJkE9PT1SbiYmKEE9Vm4pLEF9LGluZmxhdGVFbmQ6ZnVuY3Rpb24oZSl7aWYoIWV8fCFlLnN0YXRlKXJldHVybiBDbjt2YXIgdD1lLnN0YXRlO3JldHVybiB0LndpbmRvdyYmKHQud2luZG93PW51bGwpLGUuc3RhdGU9bnVsbCxSbn0saW5mbGF0ZUdldEhlYWRlcjpmdW5jdGlvbihlLHQpe2lmKCFlfHwhZS5zdGF0ZSlyZXR1cm4gQ247dmFyIHI9ZS5zdGF0ZTtyZXR1cm4gMD09KDImci53cmFwKT9Dbjooci5oZWFkPXQsdC5kb25lPSExLFJuKX0saW5mbGF0ZVNldERpY3Rpb25hcnk6ZnVuY3Rpb24oZSx0KXt2YXIgcixuPXQubGVuZ3RoO3JldHVybiBlJiZlLnN0YXRlPzAhPT0ocj1lLnN0YXRlKS53cmFwJiYxMSE9PXIubW9kZT9DbjoxMT09PXIubW9kZSYmdW4oMSx0LG4sMCkhPT1yLmNoZWNrP0xuOiRuKGUsdCxuLG4pPyhyLm1vZGU9MzEsRm4pOihyLmhhdmVkaWN0PTEsUm4pOkNufSxpbmZsYXRlSW5mbzoicGFrbyBpbmZsYXRlIChmcm9tIE5vZGVjYSBwcm9qZWN0KSJ9LHRpPWZ1bmN0aW9uKCl7dGhpcy50ZXh0PTAsdGhpcy50aW1lPTAsdGhpcy54ZmxhZ3M9MCx0aGlzLm9zPTAsdGhpcy5leHRyYT1udWxsLHRoaXMuZXh0cmFfbGVuPTAsdGhpcy5uYW1lPSIiLHRoaXMuY29tbWVudD0iIix0aGlzLmhjcmM9MCx0aGlzLmRvbmU9ITF9LHJpPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcsbmk9aG4uWl9OT19GTFVTSCxpaT1obi5aX0ZJTklTSCxhaT1obi5aX09LLG9pPWhuLlpfU1RSRUFNX0VORCxzaT1obi5aX05FRURfRElDVCx1aT1obi5aX1NUUkVBTV9FUlJPUixmaT1obi5aX0RBVEFfRVJST1IsbGk9aG4uWl9NRU1fRVJST1I7ZnVuY3Rpb24gY2koZSl7dGhpcy5vcHRpb25zPXBuKHtjaHVua1NpemU6NjU1MzYsd2luZG93Qml0czoxNSx0bzoiIn0sZXx8e30pO3ZhciB0PXRoaXMub3B0aW9uczt0LnJhdyYmdC53aW5kb3dCaXRzPj0wJiZ0LndpbmRvd0JpdHM8MTYmJih0LndpbmRvd0JpdHM9LXQud2luZG93Qml0cywwPT09dC53aW5kb3dCaXRzJiYodC53aW5kb3dCaXRzPS0xNSkpLCEodC53aW5kb3dCaXRzPj0wJiZ0LndpbmRvd0JpdHM8MTYpfHxlJiZlLndpbmRvd0JpdHN8fCh0LndpbmRvd0JpdHMrPTMyKSx0LndpbmRvd0JpdHM+MTUmJnQud2luZG93Qml0czw0OCYmMD09KDE1JnQud2luZG93Qml0cykmJih0LndpbmRvd0JpdHN8PTE1KSx0aGlzLmVycj0wLHRoaXMubXNnPSIiLHRoaXMuZW5kZWQ9ITEsdGhpcy5jaHVua3M9W10sdGhpcy5zdHJtPW5ldyB4bix0aGlzLnN0cm0uYXZhaWxfb3V0PTA7dmFyIHI9ZWkuaW5mbGF0ZUluaXQyKHRoaXMuc3RybSx0LndpbmRvd0JpdHMpO2lmKHIhPT1haSl0aHJvdyBuZXcgRXJyb3IoY25bcl0pO2lmKHRoaXMuaGVhZGVyPW5ldyB0aSxlaS5pbmZsYXRlR2V0SGVhZGVyKHRoaXMuc3RybSx0aGlzLmhlYWRlciksdC5kaWN0aW9uYXJ5JiYoInN0cmluZyI9PXR5cGVvZiB0LmRpY3Rpb25hcnk/dC5kaWN0aW9uYXJ5PXduKHQuZGljdGlvbmFyeSk6IltvYmplY3QgQXJyYXlCdWZmZXJdIj09PXJpLmNhbGwodC5kaWN0aW9uYXJ5KSYmKHQuZGljdGlvbmFyeT1uZXcgVWludDhBcnJheSh0LmRpY3Rpb25hcnkpKSx0LnJhdyYmKHI9ZWkuaW5mbGF0ZVNldERpY3Rpb25hcnkodGhpcy5zdHJtLHQuZGljdGlvbmFyeSkpIT09YWkpKXRocm93IG5ldyBFcnJvcihjbltyXSl9ZnVuY3Rpb24gaGkoZSx0KXt2YXIgcj1uZXcgY2kodCk7aWYoci5wdXNoKGUpLHIuZXJyKXRocm93IHIubXNnfHxjbltyLmVycl07cmV0dXJuIHIucmVzdWx0fWNpLnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKGUsdCl7dmFyIHIsbixpLGE9dGhpcy5zdHJtLG89dGhpcy5vcHRpb25zLmNodW5rU2l6ZSxzPXRoaXMub3B0aW9ucy5kaWN0aW9uYXJ5O2lmKHRoaXMuZW5kZWQpcmV0dXJuITE7Zm9yKG49dD09PX5+dD90OiEwPT09dD9paTpuaSwiW29iamVjdCBBcnJheUJ1ZmZlcl0iPT09cmkuY2FsbChlKT9hLmlucHV0PW5ldyBVaW50OEFycmF5KGUpOmEuaW5wdXQ9ZSxhLm5leHRfaW49MCxhLmF2YWlsX2luPWEuaW5wdXQubGVuZ3RoOzspe2ZvcigwPT09YS5hdmFpbF9vdXQmJihhLm91dHB1dD1uZXcgVWludDhBcnJheShvKSxhLm5leHRfb3V0PTAsYS5hdmFpbF9vdXQ9byksKHI9ZWkuaW5mbGF0ZShhLG4pKT09PXNpJiZzJiYoKHI9ZWkuaW5mbGF0ZVNldERpY3Rpb25hcnkoYSxzKSk9PT1haT9yPWVpLmluZmxhdGUoYSxuKTpyPT09ZmkmJihyPXNpKSk7YS5hdmFpbF9pbj4wJiZyPT09b2kmJmEuc3RhdGUud3JhcD4wJiYwIT09ZVthLm5leHRfaW5dOyllaS5pbmZsYXRlUmVzZXQoYSkscj1laS5pbmZsYXRlKGEsbik7c3dpdGNoKHIpe2Nhc2UgdWk6Y2FzZSBmaTpjYXNlIHNpOmNhc2UgbGk6cmV0dXJuIHRoaXMub25FbmQociksdGhpcy5lbmRlZD0hMCwhMX1pZihpPWEuYXZhaWxfb3V0LGEubmV4dF9vdXQmJigwPT09YS5hdmFpbF9vdXR8fHI9PT1vaSkpaWYoInN0cmluZyI9PT10aGlzLm9wdGlvbnMudG8pe3ZhciB1PWtuKGEub3V0cHV0LGEubmV4dF9vdXQpLGY9YS5uZXh0X291dC11LGw9Ym4oYS5vdXRwdXQsdSk7YS5uZXh0X291dD1mLGEuYXZhaWxfb3V0PW8tZixmJiZhLm91dHB1dC5zZXQoYS5vdXRwdXQuc3ViYXJyYXkodSx1K2YpLDApLHRoaXMub25EYXRhKGwpfWVsc2UgdGhpcy5vbkRhdGEoYS5vdXRwdXQubGVuZ3RoPT09YS5uZXh0X291dD9hLm91dHB1dDphLm91dHB1dC5zdWJhcnJheSgwLGEubmV4dF9vdXQpKTtpZihyIT09YWl8fDAhPT1pKXtpZihyPT09b2kpcmV0dXJuIHI9ZWkuaW5mbGF0ZUVuZCh0aGlzLnN0cm0pLHRoaXMub25FbmQociksdGhpcy5lbmRlZD0hMCwhMDtpZigwPT09YS5hdmFpbF9pbilicmVha319cmV0dXJuITB9LGNpLnByb3RvdHlwZS5vbkRhdGE9ZnVuY3Rpb24oZSl7dGhpcy5jaHVua3MucHVzaChlKX0sY2kucHJvdG90eXBlLm9uRW5kPWZ1bmN0aW9uKGUpe2U9PT1haSYmKCJzdHJpbmciPT09dGhpcy5vcHRpb25zLnRvP3RoaXMucmVzdWx0PXRoaXMuY2h1bmtzLmpvaW4oIiIpOnRoaXMucmVzdWx0PW1uKHRoaXMuY2h1bmtzKSksdGhpcy5jaHVua3M9W10sdGhpcy5lcnI9ZSx0aGlzLm1zZz10aGlzLnN0cm0ubXNnfTt2YXIgZGk9e0luZmxhdGU6Y2ksaW5mbGF0ZTpoaSxpbmZsYXRlUmF3OmZ1bmN0aW9uKGUsdCl7cmV0dXJuKHQ9dHx8e30pLnJhdz0hMCxoaShlLHQpfSx1bmd6aXA6aGksY29uc3RhbnRzOmhufS5pbmZsYXRlO2Z1bmN0aW9uIHBpKGUpe3ZhciB0PWZ1bmN0aW9uKCl7aWYoInVuZGVmaW5lZCI9PXR5cGVvZiBSZWZsZWN0fHwhUmVmbGVjdC5jb25zdHJ1Y3QpcmV0dXJuITE7aWYoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZigiZnVuY3Rpb24iPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKGUpe3JldHVybiExfX0oKTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgcixuPXYoZSk7aWYodCl7dmFyIGk9dih0aGlzKS5jb25zdHJ1Y3RvcjtyPVJlZmxlY3QuY29uc3RydWN0KG4sYXJndW1lbnRzLGkpfWVsc2Ugcj1uLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gbSh0aGlzLHIpfX12YXIgbWk9ZnVuY3Rpb24oZSl7aChyLGUpO3ZhciB0PXBpKHIpO2Z1bmN0aW9uIHIoKXtyZXR1cm4gYih0aGlzLHIpLHQuYXBwbHkodGhpcyxhcmd1bWVudHMpfXJldHVybiBsKHIsW3trZXk6ImRlY29kZUJsb2NrIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZGkobmV3IFVpbnQ4QXJyYXkoZSkpLmJ1ZmZlcn19XSkscn0od3IpLHZpPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLGRlZmF1bHQ6bWl9KTtmdW5jdGlvbiBnaShlKXt2YXIgdD1mdW5jdGlvbigpe2lmKCJ1bmRlZmluZWQiPT10eXBlb2YgUmVmbGVjdHx8IVJlZmxlY3QuY29uc3RydWN0KXJldHVybiExO2lmKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pcmV0dXJuITE7aWYoImZ1bmN0aW9uIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaChlKXtyZXR1cm4hMX19KCk7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIHIsbj12KGUpO2lmKHQpe3ZhciBpPXYodGhpcykuY29uc3RydWN0b3I7cj1SZWZsZWN0LmNvbnN0cnVjdChuLGFyZ3VtZW50cyxpKX1lbHNlIHI9bi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIG0odGhpcyxyKX19dmFyIHlpPWZ1bmN0aW9uKGUpe2gocixlKTt2YXIgdD1naShyKTtmdW5jdGlvbiByKCl7cmV0dXJuIGIodGhpcyxyKSx0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX1yZXR1cm4gbChyLFt7a2V5OiJkZWNvZGVCbG9jayIsdmFsdWU6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PW5ldyBEYXRhVmlldyhlKSxyPVtdLG49MDtuPGUuYnl0ZUxlbmd0aDsrK24pe3ZhciBpPXQuZ2V0SW50OChuKTtpZihpPDApe3ZhciBhPXQuZ2V0VWludDgobisxKTtpPS1pO2Zvcih2YXIgbz0wO288PWk7KytvKXIucHVzaChhKTtuKz0xfWVsc2V7Zm9yKHZhciBzPTA7czw9aTsrK3Mpci5wdXNoKHQuZ2V0VWludDgobitzKzEpKTtuKz1pKzF9fXJldHVybiBuZXcgVWludDhBcnJheShyKS5idWZmZXJ9fV0pLHJ9KHdyKSx3aT1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxkZWZhdWx0OnlpfSksYmk9e2V4cG9ydHM6e319OyFmdW5jdGlvbihlKXsKLyogQ29weXJpZ2h0IDIwMTUtMjAyMSBFc3JpLiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wIEBwcmVzZXJ2ZSAqLwohZnVuY3Rpb24oKXt2YXIgdCxyLG4saSxhLG8scyx1LGY9KHQ9e2RlZmF1bHROb0RhdGFWYWx1ZTotMzQwMjc5OTkzODc5MDE0ODRlMjIsZGVjb2RlOmZ1bmN0aW9uKGUsbyl7dmFyIHM9KG89b3x8e30pLmVuY29kZWRNYXNrRGF0YXx8bnVsbD09PW8uZW5jb2RlZE1hc2tEYXRhLHU9YShlLG8uaW5wdXRPZmZzZXR8fDAscyksZj1udWxsIT09by5ub0RhdGFWYWx1ZT9vLm5vRGF0YVZhbHVlOnQuZGVmYXVsdE5vRGF0YVZhbHVlLGw9cih1LG8ucGl4ZWxUeXBlfHxGbG9hdDMyQXJyYXksby5lbmNvZGVkTWFza0RhdGEsZixvLnJldHVybk1hc2spLGM9e3dpZHRoOnUud2lkdGgsaGVpZ2h0OnUuaGVpZ2h0LHBpeGVsRGF0YTpsLnJlc3VsdFBpeGVscyxtaW5WYWx1ZTpsLm1pblZhbHVlLG1heFZhbHVlOnUucGl4ZWxzLm1heFZhbHVlLG5vRGF0YVZhbHVlOmZ9O3JldHVybiBsLnJlc3VsdE1hc2smJihjLm1hc2tEYXRhPWwucmVzdWx0TWFzayksby5yZXR1cm5FbmNvZGVkTWFzayYmdS5tYXNrJiYoYy5lbmNvZGVkTWFza0RhdGE9dS5tYXNrLmJpdHNldD91Lm1hc2suYml0c2V0Om51bGwpLG8ucmV0dXJuRmlsZUluZm8mJihjLmZpbGVJbmZvPW4odSksby5jb21wdXRlVXNlZEJpdERlcHRocyYmKGMuZmlsZUluZm8uYml0RGVwdGhzPWkodSkpKSxjfX0scj1mdW5jdGlvbihlLHQscixuLGkpe3ZhciBhLHMsdSxmPTAsbD1lLnBpeGVscy5udW1CbG9ja3NYLGM9ZS5waXhlbHMubnVtQmxvY2tzWSxoPU1hdGguZmxvb3IoZS53aWR0aC9sKSxkPU1hdGguZmxvb3IoZS5oZWlnaHQvYykscD0yKmUubWF4WkVycm9yLG09TnVtYmVyLk1BWF9WQUxVRTtyPXJ8fChlLm1hc2s/ZS5tYXNrLmJpdHNldDpudWxsKSxzPW5ldyB0KGUud2lkdGgqZS5oZWlnaHQpLGkmJnImJih1PW5ldyBVaW50OEFycmF5KGUud2lkdGgqZS5oZWlnaHQpKTtmb3IodmFyIHYsZyx5PW5ldyBGbG9hdDMyQXJyYXkoaCpkKSx3PTA7dzw9Yzt3Kyspe3ZhciBiPXchPT1jP2Q6ZS5oZWlnaHQlYztpZigwIT09Yilmb3IodmFyIGs9MDtrPD1sO2srKyl7dmFyIHg9ayE9PWw/aDplLndpZHRoJWw7aWYoMCE9PXgpe3ZhciBBLF8sSSxQLFM9dyplLndpZHRoKmQraypoLFQ9ZS53aWR0aC14LE89ZS5waXhlbHMuYmxvY2tzW2ZdO2lmKE8uZW5jb2Rpbmc8Mj8oMD09PU8uZW5jb2Rpbmc/QT1PLnJhd0RhdGE6KG8oTy5zdHVmZmVkRGF0YSxPLmJpdHNQZXJQaXhlbCxPLm51bVZhbGlkUGl4ZWxzLE8ub2Zmc2V0LHAseSxlLnBpeGVscy5tYXhWYWx1ZSksQT15KSxfPTApOkk9Mj09PU8uZW5jb2Rpbmc/MDpPLm9mZnNldCxyKWZvcihnPTA7ZzxiO2crKyl7Zm9yKDcmUyYmKFA9cltTPj4zXSxQPDw9NyZTKSx2PTA7djx4O3YrKyk3JlN8fChQPXJbUz4+M10pLDEyOCZQPyh1JiYodVtTXT0xKSxtPW0+KGE9Ty5lbmNvZGluZzwyP0FbXysrXTpJKT9hOm0sc1tTKytdPWEpOih1JiYodVtTXT0wKSxzW1MrK109biksUDw8PTE7Uys9VH1lbHNlIGlmKE8uZW5jb2Rpbmc8Milmb3IoZz0wO2c8YjtnKyspe2Zvcih2PTA7djx4O3YrKyltPW0+KGE9QVtfKytdKT9hOm0sc1tTKytdPWE7Uys9VH1lbHNlIGZvcihtPW0+ST9JOm0sZz0wO2c8YjtnKyspe2Zvcih2PTA7djx4O3YrKylzW1MrK109STtTKz1UfWlmKDE9PT1PLmVuY29kaW5nJiZfIT09Ty5udW1WYWxpZFBpeGVscyl0aHJvdyJCbG9jayBhbmQgTWFzayBkbyBub3QgbWF0Y2giO2YrK319fXJldHVybntyZXN1bHRQaXhlbHM6cyxyZXN1bHRNYXNrOnUsbWluVmFsdWU6bX19LG49ZnVuY3Rpb24oZSl7cmV0dXJue2ZpbGVJZGVudGlmaWVyU3RyaW5nOmUuZmlsZUlkZW50aWZpZXJTdHJpbmcsZmlsZVZlcnNpb246ZS5maWxlVmVyc2lvbixpbWFnZVR5cGU6ZS5pbWFnZVR5cGUsaGVpZ2h0OmUuaGVpZ2h0LHdpZHRoOmUud2lkdGgsbWF4WkVycm9yOmUubWF4WkVycm9yLGVvZk9mZnNldDplLmVvZk9mZnNldCxtYXNrOmUubWFzaz97bnVtQmxvY2tzWDplLm1hc2subnVtQmxvY2tzWCxudW1CbG9ja3NZOmUubWFzay5udW1CbG9ja3NZLG51bUJ5dGVzOmUubWFzay5udW1CeXRlcyxtYXhWYWx1ZTplLm1hc2subWF4VmFsdWV9Om51bGwscGl4ZWxzOntudW1CbG9ja3NYOmUucGl4ZWxzLm51bUJsb2Nrc1gsbnVtQmxvY2tzWTplLnBpeGVscy5udW1CbG9ja3NZLG51bUJ5dGVzOmUucGl4ZWxzLm51bUJ5dGVzLG1heFZhbHVlOmUucGl4ZWxzLm1heFZhbHVlLG5vRGF0YVZhbHVlOmUubm9EYXRhVmFsdWV9fX0saT1mdW5jdGlvbihlKXtmb3IodmFyIHQ9ZS5waXhlbHMubnVtQmxvY2tzWCplLnBpeGVscy5udW1CbG9ja3NZLHI9e30sbj0wO248dDtuKyspe3ZhciBpPWUucGl4ZWxzLmJsb2Nrc1tuXTswPT09aS5lbmNvZGluZz9yLmZsb2F0MzI9ITA6MT09PWkuZW5jb2Rpbmc/cltpLmJpdHNQZXJQaXhlbF09ITA6clswXT0hMH1yZXR1cm4gT2JqZWN0LmtleXMocil9LGE9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXt9LGk9bmV3IFVpbnQ4QXJyYXkoZSx0LDEwKTtpZihuLmZpbGVJZGVudGlmaWVyU3RyaW5nPVN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCxpKSwiQ250WkltYWdlIiE9PW4uZmlsZUlkZW50aWZpZXJTdHJpbmcudHJpbSgpKXRocm93IlVuZXhwZWN0ZWQgZmlsZSBpZGVudGlmaWVyIHN0cmluZzogIituLmZpbGVJZGVudGlmaWVyU3RyaW5nO3QrPTEwO3ZhciBhPW5ldyBEYXRhVmlldyhlLHQsMjQpO2lmKG4uZmlsZVZlcnNpb249YS5nZXRJbnQzMigwLCEwKSxuLmltYWdlVHlwZT1hLmdldEludDMyKDQsITApLG4uaGVpZ2h0PWEuZ2V0VWludDMyKDgsITApLG4ud2lkdGg9YS5nZXRVaW50MzIoMTIsITApLG4ubWF4WkVycm9yPWEuZ2V0RmxvYXQ2NCgxNiwhMCksdCs9MjQsIXIpaWYoYT1uZXcgRGF0YVZpZXcoZSx0LDE2KSxuLm1hc2s9e30sbi5tYXNrLm51bUJsb2Nrc1k9YS5nZXRVaW50MzIoMCwhMCksbi5tYXNrLm51bUJsb2Nrc1g9YS5nZXRVaW50MzIoNCwhMCksbi5tYXNrLm51bUJ5dGVzPWEuZ2V0VWludDMyKDgsITApLG4ubWFzay5tYXhWYWx1ZT1hLmdldEZsb2F0MzIoMTIsITApLHQrPTE2LG4ubWFzay5udW1CeXRlcz4wKXt2YXIgbz1uZXcgVWludDhBcnJheShNYXRoLmNlaWwobi53aWR0aCpuLmhlaWdodC84KSkscz0oYT1uZXcgRGF0YVZpZXcoZSx0LG4ubWFzay5udW1CeXRlcykpLmdldEludDE2KDAsITApLHU9MixmPTA7ZG97aWYocz4wKWZvcig7cy0tOylvW2YrK109YS5nZXRVaW50OCh1KyspO2Vsc2V7dmFyIGw9YS5nZXRVaW50OCh1KyspO2ZvcihzPS1zO3MtLTspb1tmKytdPWx9cz1hLmdldEludDE2KHUsITApLHUrPTJ9d2hpbGUodTxuLm1hc2subnVtQnl0ZXMpO2lmKC0zMjc2OCE9PXN8fGY8by5sZW5ndGgpdGhyb3ciVW5leHBlY3RlZCBlbmQgb2YgbWFzayBSTEUgZW5jb2RpbmciO24ubWFzay5iaXRzZXQ9byx0Kz1uLm1hc2subnVtQnl0ZXN9ZWxzZSAwPT0obi5tYXNrLm51bUJ5dGVzfG4ubWFzay5udW1CbG9ja3NZfG4ubWFzay5tYXhWYWx1ZSkmJihuLm1hc2suYml0c2V0PW5ldyBVaW50OEFycmF5KE1hdGguY2VpbChuLndpZHRoKm4uaGVpZ2h0LzgpKSk7YT1uZXcgRGF0YVZpZXcoZSx0LDE2KSxuLnBpeGVscz17fSxuLnBpeGVscy5udW1CbG9ja3NZPWEuZ2V0VWludDMyKDAsITApLG4ucGl4ZWxzLm51bUJsb2Nrc1g9YS5nZXRVaW50MzIoNCwhMCksbi5waXhlbHMubnVtQnl0ZXM9YS5nZXRVaW50MzIoOCwhMCksbi5waXhlbHMubWF4VmFsdWU9YS5nZXRGbG9hdDMyKDEyLCEwKSx0Kz0xNjt2YXIgYz1uLnBpeGVscy5udW1CbG9ja3NYLGg9bi5waXhlbHMubnVtQmxvY2tzWSxkPWMrKG4ud2lkdGglYz4wPzE6MCkscD1oKyhuLmhlaWdodCVoPjA/MTowKTtuLnBpeGVscy5ibG9ja3M9bmV3IEFycmF5KGQqcCk7Zm9yKHZhciBtPTAsdj0wO3Y8cDt2KyspZm9yKHZhciBnPTA7ZzxkO2crKyl7dmFyIHk9MCx3PWUuYnl0ZUxlbmd0aC10O2E9bmV3IERhdGFWaWV3KGUsdCxNYXRoLm1pbigxMCx3KSk7dmFyIGI9e307bi5waXhlbHMuYmxvY2tzW20rK109Yjt2YXIgaz1hLmdldFVpbnQ4KDApO2lmKHkrKyxiLmVuY29kaW5nPTYzJmssYi5lbmNvZGluZz4zKXRocm93IkludmFsaWQgYmxvY2sgZW5jb2RpbmcgKCIrYi5lbmNvZGluZysiKSI7aWYoMiE9PWIuZW5jb2Rpbmcpe2lmKDAhPT1rJiYyIT09ayl7aWYoaz4+PTYsYi5vZmZzZXRUeXBlPWssMj09PWspYi5vZmZzZXQ9YS5nZXRJbnQ4KDEpLHkrKztlbHNlIGlmKDE9PT1rKWIub2Zmc2V0PWEuZ2V0SW50MTYoMSwhMCkseSs9MjtlbHNle2lmKDAhPT1rKXRocm93IkludmFsaWQgYmxvY2sgb2Zmc2V0IHR5cGUiO2Iub2Zmc2V0PWEuZ2V0RmxvYXQzMigxLCEwKSx5Kz00fWlmKDE9PT1iLmVuY29kaW5nKWlmKGs9YS5nZXRVaW50OCh5KSx5KyssYi5iaXRzUGVyUGl4ZWw9NjMmayxrPj49NixiLm51bVZhbGlkUGl4ZWxzVHlwZT1rLDI9PT1rKWIubnVtVmFsaWRQaXhlbHM9YS5nZXRVaW50OCh5KSx5Kys7ZWxzZSBpZigxPT09ayliLm51bVZhbGlkUGl4ZWxzPWEuZ2V0VWludDE2KHksITApLHkrPTI7ZWxzZXtpZigwIT09ayl0aHJvdyJJbnZhbGlkIHZhbGlkIHBpeGVsIGNvdW50IHR5cGUiO2IubnVtVmFsaWRQaXhlbHM9YS5nZXRVaW50MzIoeSwhMCkseSs9NH19dmFyIHg7aWYodCs9eSwzIT09Yi5lbmNvZGluZylpZigwPT09Yi5lbmNvZGluZyl7dmFyIEE9KG4ucGl4ZWxzLm51bUJ5dGVzLTEpLzQ7aWYoQSE9PU1hdGguZmxvb3IoQSkpdGhyb3cidW5jb21wcmVzc2VkIGJsb2NrIGhhcyBpbnZhbGlkIGxlbmd0aCI7eD1uZXcgQXJyYXlCdWZmZXIoNCpBKSxuZXcgVWludDhBcnJheSh4KS5zZXQobmV3IFVpbnQ4QXJyYXkoZSx0LDQqQSkpO3ZhciBfPW5ldyBGbG9hdDMyQXJyYXkoeCk7Yi5yYXdEYXRhPV8sdCs9NCpBfWVsc2UgaWYoMT09PWIuZW5jb2Rpbmcpe3ZhciBJPU1hdGguY2VpbChiLm51bVZhbGlkUGl4ZWxzKmIuYml0c1BlclBpeGVsLzgpLFA9TWF0aC5jZWlsKEkvNCk7eD1uZXcgQXJyYXlCdWZmZXIoNCpQKSxuZXcgVWludDhBcnJheSh4KS5zZXQobmV3IFVpbnQ4QXJyYXkoZSx0LEkpKSxiLnN0dWZmZWREYXRhPW5ldyBVaW50MzJBcnJheSh4KSx0Kz1JfX1lbHNlIHQrK31yZXR1cm4gbi5lb2ZPZmZzZXQ9dCxufSxvPWZ1bmN0aW9uKGUsdCxyLG4saSxhLG8pe3ZhciBzLHUsZixsPSgxPDx0KS0xLGM9MCxoPTAsZD1NYXRoLmNlaWwoKG8tbikvaSkscD00KmUubGVuZ3RoLU1hdGguY2VpbCh0KnIvOCk7Zm9yKGVbZS5sZW5ndGgtMV08PD04KnAscz0wO3M8cjtzKyspe2lmKDA9PT1oJiYoZj1lW2MrK10saD0zMiksaD49dCl1PWY+Pj5oLXQmbCxoLT10O2Vsc2V7dmFyIG09dC1oO3U9KGYmbCk8PG0mbCx1Kz0oZj1lW2MrK10pPj4+KGg9MzItbSl9YVtzXT11PGQ/bit1Kmk6b31yZXR1cm4gYX0sdCksbD1mdW5jdGlvbigpe3ZhciBlPWZ1bmN0aW9uKGUsdCxyLG4saSxhLG8scyl7dmFyIHUsZixsLGMsaCxkPSgxPDxyKS0xLHA9MCxtPTAsdj00KmUubGVuZ3RoLU1hdGguY2VpbChyKm4vOCk7aWYoZVtlLmxlbmd0aC0xXTw8PTgqdixpKWZvcih1PTA7dTxuO3UrKykwPT09bSYmKGw9ZVtwKytdLG09MzIpLG0+PXI/KGY9bD4+Pm0tciZkLG0tPXIpOihmPShsJmQpPDwoYz1yLW0pJmQsZis9KGw9ZVtwKytdKT4+PihtPTMyLWMpKSx0W3VdPWlbZl07ZWxzZSBmb3IoaD1NYXRoLmNlaWwoKHMtYSkvbyksdT0wO3U8bjt1KyspMD09PW0mJihsPWVbcCsrXSxtPTMyKSxtPj1yPyhmPWw+Pj5tLXImZCxtLT1yKTooZj0obCZkKTw8KGM9ci1tKSZkLGYrPShsPWVbcCsrXSk+Pj4obT0zMi1jKSksdFt1XT1mPGg/YStmKm86c30sdD1mdW5jdGlvbihlLHQscixuLGksYSl7dmFyIG8scz0oMTw8dCktMSx1PTAsZj0wLGw9MCxjPTAsaD0wLGQ9W10scD00KmUubGVuZ3RoLU1hdGguY2VpbCh0KnIvOCk7ZVtlLmxlbmd0aC0xXTw8PTgqcDt2YXIgbT1NYXRoLmNlaWwoKGEtbikvaSk7Zm9yKGY9MDtmPHI7ZisrKTA9PT1jJiYobz1lW3UrK10sYz0zMiksYz49dD8oaD1vPj4+Yy10JnMsYy09dCk6KGg9KG8mcyk8PChsPXQtYykmcyxoKz0obz1lW3UrK10pPj4+KGM9MzItbCkpLGRbZl09aDxtP24raCppOmE7cmV0dXJuIGQudW5zaGlmdChuKSxkfSxyPWZ1bmN0aW9uKGUsdCxyLG4saSxhLG8scyl7dmFyIHUsZixsLGMsaD0oMTw8ciktMSxkPTAscD0wLG09MDtpZihpKWZvcih1PTA7dTxuO3UrKykwPT09cCYmKGw9ZVtkKytdLHA9MzIsbT0wKSxwPj1yPyhmPWw+Pj5tJmgscC09cixtKz1yKTooZj1sPj4+bSZoLHA9MzItKGM9ci1wKSxmfD0oKGw9ZVtkKytdKSYoMTw8YyktMSk8PHItYyxtPWMpLHRbdV09aVtmXTtlbHNle3ZhciB2PU1hdGguY2VpbCgocy1hKS9vKTtmb3IodT0wO3U8bjt1KyspMD09PXAmJihsPWVbZCsrXSxwPTMyLG09MCkscD49cj8oZj1sPj4+bSZoLHAtPXIsbSs9cik6KGY9bD4+Pm0maCxwPTMyLShjPXItcCksZnw9KChsPWVbZCsrXSkmKDE8PGMpLTEpPDxyLWMsbT1jKSx0W3VdPWY8dj9hK2YqbzpzfXJldHVybiB0fSxuPWZ1bmN0aW9uKGUsdCxyLG4saSxhKXt2YXIgbyxzPSgxPDx0KS0xLHU9MCxmPTAsbD0wLGM9MCxoPTAsZD0wLHA9W10sbT1NYXRoLmNlaWwoKGEtbikvaSk7Zm9yKGY9MDtmPHI7ZisrKTA9PT1jJiYobz1lW3UrK10sYz0zMixkPTApLGM+PXQ/KGg9bz4+PmQmcyxjLT10LGQrPXQpOihoPW8+Pj5kJnMsYz0zMi0obD10LWMpLGh8PSgobz1lW3UrK10pJigxPDxsKS0xKTw8dC1sLGQ9bCkscFtmXT1oPG0/bitoKmk6YTtyZXR1cm4gcC51bnNoaWZ0KG4pLHB9LGk9ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGksYSxvLHMsdT0oMTw8ciktMSxmPTAsbD0wLGM9NCplLmxlbmd0aC1NYXRoLmNlaWwocipuLzgpO2ZvcihlW2UubGVuZ3RoLTFdPDw9OCpjLGk9MDtpPG47aSsrKTA9PT1sJiYobz1lW2YrK10sbD0zMiksbD49cj8oYT1vPj4+bC1yJnUsbC09cik6KGE9KG8mdSk8PChzPXItbCkmdSxhKz0obz1lW2YrK10pPj4+KGw9MzItcykpLHRbaV09YTtyZXR1cm4gdH0sYT1mdW5jdGlvbihlLHQscixuKXt2YXIgaSxhLG8scyx1PSgxPDxyKS0xLGY9MCxsPTAsYz0wO2ZvcihpPTA7aTxuO2krKykwPT09bCYmKG89ZVtmKytdLGw9MzIsYz0wKSxsPj1yPyhhPW8+Pj5jJnUsbC09cixjKz1yKTooYT1vPj4+YyZ1LGw9MzItKHM9ci1sKSxhfD0oKG89ZVtmKytdKSYoMTw8cyktMSk8PHItcyxjPXMpLHRbaV09YTtyZXR1cm4gdH0sbz17SFVGRk1BTl9MVVRfQklUU19NQVg6MTIsY29tcHV0ZUNoZWNrc3VtRmxldGNoZXIzMjpmdW5jdGlvbihlKXtmb3IodmFyIHQ9NjU1MzUscj02NTUzNSxuPWUubGVuZ3RoLGk9TWF0aC5mbG9vcihuLzIpLGE9MDtpOyl7dmFyIG89aT49MzU5PzM1OTppO2ktPW87ZG97dCs9ZVthKytdPDw4LHIrPXQrPWVbYSsrXX13aGlsZSgtLW8pO3Q9KDY1NTM1JnQpKyh0Pj4+MTYpLHI9KDY1NTM1JnIpKyhyPj4+MTYpfXJldHVybiAxJm4mJihyKz10Kz1lW2FdPDw4KSwoKHI9KDY1NTM1JnIpKyhyPj4+MTYpKTw8MTZ8KHQ9KDY1NTM1JnQpKyh0Pj4+MTYpKSk+Pj4wfSxyZWFkSGVhZGVySW5mbzpmdW5jdGlvbihlLHQpe3ZhciByPXQucHRyLG49bmV3IFVpbnQ4QXJyYXkoZSxyLDYpLGk9e307aWYoaS5maWxlSWRlbnRpZmllclN0cmluZz1TdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsbiksMCE9PWkuZmlsZUlkZW50aWZpZXJTdHJpbmcubGFzdEluZGV4T2YoIkxlcmMyIiwwKSl0aHJvdyJVbmV4cGVjdGVkIGZpbGUgaWRlbnRpZmllciBzdHJpbmcgKGV4cGVjdCBMZXJjMiApOiAiK2kuZmlsZUlkZW50aWZpZXJTdHJpbmc7cis9Njt2YXIgYSxvPW5ldyBEYXRhVmlldyhlLHIsOCkscz1vLmdldEludDMyKDAsITApO2lmKGkuZmlsZVZlcnNpb249cyxyKz00LHM+PTMmJihpLmNoZWNrc3VtPW8uZ2V0VWludDMyKDQsITApLHIrPTQpLG89bmV3IERhdGFWaWV3KGUsciwxMiksaS5oZWlnaHQ9by5nZXRVaW50MzIoMCwhMCksaS53aWR0aD1vLmdldFVpbnQzMig0LCEwKSxyKz04LHM+PTQ/KGkubnVtRGltcz1vLmdldFVpbnQzMig4LCEwKSxyKz00KTppLm51bURpbXM9MSxvPW5ldyBEYXRhVmlldyhlLHIsNDApLGkubnVtVmFsaWRQaXhlbD1vLmdldFVpbnQzMigwLCEwKSxpLm1pY3JvQmxvY2tTaXplPW8uZ2V0SW50MzIoNCwhMCksaS5ibG9iU2l6ZT1vLmdldEludDMyKDgsITApLGkuaW1hZ2VUeXBlPW8uZ2V0SW50MzIoMTIsITApLGkubWF4WkVycm9yPW8uZ2V0RmxvYXQ2NCgxNiwhMCksaS56TWluPW8uZ2V0RmxvYXQ2NCgyNCwhMCksaS56TWF4PW8uZ2V0RmxvYXQ2NCgzMiwhMCkscis9NDAsdC5oZWFkZXJJbmZvPWksdC5wdHI9cixzPj0zJiYoYT1zPj00PzUyOjQ4LHRoaXMuY29tcHV0ZUNoZWNrc3VtRmxldGNoZXIzMihuZXcgVWludDhBcnJheShlLHItYSxpLmJsb2JTaXplLTE0KSkhPT1pLmNoZWNrc3VtKSl0aHJvdyJDaGVja3N1bSBmYWlsZWQuIjtyZXR1cm4hMH0sY2hlY2tNaW5NYXhSYW5nZXM6ZnVuY3Rpb24oZSx0KXt2YXIgcj10LmhlYWRlckluZm8sbj10aGlzLmdldERhdGFUeXBlQXJyYXkoci5pbWFnZVR5cGUpLGk9ci5udW1EaW1zKnRoaXMuZ2V0RGF0YVR5cGVTaXplKHIuaW1hZ2VUeXBlKSxhPXRoaXMucmVhZFN1YkFycmF5KGUsdC5wdHIsbixpKSxvPXRoaXMucmVhZFN1YkFycmF5KGUsdC5wdHIraSxuLGkpO3QucHRyKz0yKmk7dmFyIHMsdT0hMDtmb3Iocz0wO3M8ci5udW1EaW1zO3MrKylpZihhW3NdIT09b1tzXSl7dT0hMTticmVha31yZXR1cm4gci5taW5WYWx1ZXM9YSxyLm1heFZhbHVlcz1vLHV9LHJlYWRTdWJBcnJheTpmdW5jdGlvbihlLHQscixuKXt2YXIgaTtpZihyPT09VWludDhBcnJheSlpPW5ldyBVaW50OEFycmF5KGUsdCxuKTtlbHNle3ZhciBhPW5ldyBBcnJheUJ1ZmZlcihuKTtuZXcgVWludDhBcnJheShhKS5zZXQobmV3IFVpbnQ4QXJyYXkoZSx0LG4pKSxpPW5ldyByKGEpfXJldHVybiBpfSxyZWFkTWFzazpmdW5jdGlvbihlLHQpe3ZhciByLG4saT10LnB0cixhPXQuaGVhZGVySW5mbyxvPWEud2lkdGgqYS5oZWlnaHQscz1hLm51bVZhbGlkUGl4ZWwsdT1uZXcgRGF0YVZpZXcoZSxpLDQpLGY9e307aWYoZi5udW1CeXRlcz11LmdldFVpbnQzMigwLCEwKSxpKz00LCgwPT09c3x8bz09PXMpJiYwIT09Zi5udW1CeXRlcyl0aHJvdyJpbnZhbGlkIG1hc2siO2lmKDA9PT1zKXI9bmV3IFVpbnQ4QXJyYXkoTWF0aC5jZWlsKG8vOCkpLGYuYml0c2V0PXIsbj1uZXcgVWludDhBcnJheShvKSx0LnBpeGVscy5yZXN1bHRNYXNrPW4saSs9Zi5udW1CeXRlcztlbHNlIGlmKGYubnVtQnl0ZXM+MCl7cj1uZXcgVWludDhBcnJheShNYXRoLmNlaWwoby84KSk7dmFyIGw9KHU9bmV3IERhdGFWaWV3KGUsaSxmLm51bUJ5dGVzKSkuZ2V0SW50MTYoMCwhMCksYz0yLGg9MCxkPTA7ZG97aWYobD4wKWZvcig7bC0tOylyW2grK109dS5nZXRVaW50OChjKyspO2Vsc2UgZm9yKGQ9dS5nZXRVaW50OChjKyspLGw9LWw7bC0tOylyW2grK109ZDtsPXUuZ2V0SW50MTYoYywhMCksYys9Mn13aGlsZShjPGYubnVtQnl0ZXMpO2lmKC0zMjc2OCE9PWx8fGg8ci5sZW5ndGgpdGhyb3ciVW5leHBlY3RlZCBlbmQgb2YgbWFzayBSTEUgZW5jb2RpbmciO249bmV3IFVpbnQ4QXJyYXkobyk7dmFyIHA9MCxtPTA7Zm9yKG09MDttPG87bSsrKTcmbT8ocD1yW20+PjNdLHA8PD03Jm0pOnA9clttPj4zXSwxMjgmcCYmKG5bbV09MSk7dC5waXhlbHMucmVzdWx0TWFzaz1uLGYuYml0c2V0PXIsaSs9Zi5udW1CeXRlc31yZXR1cm4gdC5wdHI9aSx0Lm1hc2s9ZiwhMH0scmVhZERhdGFPbmVTd2VlcDpmdW5jdGlvbihlLHQscixuKXt2YXIgaSxhPXQucHRyLHM9dC5oZWFkZXJJbmZvLHU9cy5udW1EaW1zLGY9cy53aWR0aCpzLmhlaWdodCxsPXMuaW1hZ2VUeXBlLGM9cy5udW1WYWxpZFBpeGVsKm8uZ2V0RGF0YVR5cGVTaXplKGwpKnUsaD10LnBpeGVscy5yZXN1bHRNYXNrO2lmKHI9PT1VaW50OEFycmF5KWk9bmV3IFVpbnQ4QXJyYXkoZSxhLGMpO2Vsc2V7dmFyIGQ9bmV3IEFycmF5QnVmZmVyKGMpO25ldyBVaW50OEFycmF5KGQpLnNldChuZXcgVWludDhBcnJheShlLGEsYykpLGk9bmV3IHIoZCl9aWYoaS5sZW5ndGg9PT1mKnUpdC5waXhlbHMucmVzdWx0UGl4ZWxzPW4/by5zd2FwRGltZW5zaW9uT3JkZXIoaSxmLHUsciwhMCk6aTtlbHNle3QucGl4ZWxzLnJlc3VsdFBpeGVscz1uZXcgcihmKnUpO3ZhciBwPTAsbT0wLHY9MCxnPTA7aWYodT4xKXtpZihuKXtmb3IobT0wO208ZjttKyspaWYoaFttXSlmb3IoZz1tLHY9MDt2PHU7disrLGcrPWYpdC5waXhlbHMucmVzdWx0UGl4ZWxzW2ddPWlbcCsrXX1lbHNlIGZvcihtPTA7bTxmO20rKylpZihoW21dKWZvcihnPW0qdSx2PTA7djx1O3YrKyl0LnBpeGVscy5yZXN1bHRQaXhlbHNbZyt2XT1pW3ArK119ZWxzZSBmb3IobT0wO208ZjttKyspaFttXSYmKHQucGl4ZWxzLnJlc3VsdFBpeGVsc1ttXT1pW3ArK10pfXJldHVybiBhKz1jLHQucHRyPWEsITB9LHJlYWRIdWZmbWFuVHJlZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXMuSFVGRk1BTl9MVVRfQklUU19NQVgsbj1uZXcgRGF0YVZpZXcoZSx0LnB0ciwxNik7aWYodC5wdHIrPTE2LG4uZ2V0SW50MzIoMCwhMCk8Mil0aHJvdyJ1bnN1cHBvcnRlZCBIdWZmbWFuIHZlcnNpb24iO3ZhciBpPW4uZ2V0SW50MzIoNCwhMCksYT1uLmdldEludDMyKDgsITApLHU9bi5nZXRJbnQzMigxMiwhMCk7aWYoYT49dSlyZXR1cm4hMTt2YXIgZj1uZXcgVWludDMyQXJyYXkodS1hKTtvLmRlY29kZUJpdHMoZSx0LGYpO3ZhciBsLGMsaCxkLHA9W107Zm9yKGw9YTtsPHU7bCsrKXBbYz1sLShsPGk/MDppKV09e2ZpcnN0OmZbbC1hXSxzZWNvbmQ6bnVsbH07dmFyIG09ZS5ieXRlTGVuZ3RoLXQucHRyLHY9TWF0aC5jZWlsKG0vNCksZz1uZXcgQXJyYXlCdWZmZXIoNCp2KTtuZXcgVWludDhBcnJheShnKS5zZXQobmV3IFVpbnQ4QXJyYXkoZSx0LnB0cixtKSk7dmFyIHksdz1uZXcgVWludDMyQXJyYXkoZyksYj0wLGs9MDtmb3IoeT13WzBdLGw9YTtsPHU7bCsrKShkPXBbYz1sLShsPGk/MDppKV0uZmlyc3QpPjAmJihwW2NdLnNlY29uZD15PDxiPj4+MzItZCwzMi1iPj1kPzMyPT09KGIrPWQpJiYoYj0wLHk9d1srK2tdKTooYis9ZC0zMix5PXdbKytrXSxwW2NdLnNlY29uZHw9eT4+PjMyLWIpKTt2YXIgeD0wLEE9MCxfPW5ldyBzO2ZvcihsPTA7bDxwLmxlbmd0aDtsKyspdm9pZCAwIT09cFtsXSYmKHg9TWF0aC5tYXgoeCxwW2xdLmZpcnN0KSk7QT14Pj1yP3I6eDt2YXIgSSxQLFMsVCxPLFU9W107Zm9yKGw9YTtsPHU7bCsrKWlmKChkPXBbYz1sLShsPGk/MDppKV0uZmlyc3QpPjApaWYoST1bZCxjXSxkPD1BKWZvcihQPXBbY10uc2Vjb25kPDxBLWQsUz0xPDxBLWQsaD0wO2g8UztoKyspVVtQfGhdPUk7ZWxzZSBmb3IoUD1wW2NdLnNlY29uZCxPPV8sVD1kLTE7VD49MDtULS0pUD4+PlQmMT8oTy5yaWdodHx8KE8ucmlnaHQ9bmV3IHMpLE89Ty5yaWdodCk6KE8ubGVmdHx8KE8ubGVmdD1uZXcgcyksTz1PLmxlZnQpLDAhPT1UfHxPLnZhbHx8KE8udmFsPUlbMV0pO3JldHVybntkZWNvZGVMdXQ6VSxudW1CaXRzTFVUUWljazpBLG51bUJpdHNMVVQ6eCx0cmVlOl8sc3R1ZmZlZERhdGE6dyxzcmNQdHI6ayxiaXRQb3M6Yn19LHJlYWRIdWZmbWFuOmZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBpLGEscyx1LGYsbCxjLGgsZCxwPXQuaGVhZGVySW5mby5udW1EaW1zLG09dC5oZWFkZXJJbmZvLmhlaWdodCx2PXQuaGVhZGVySW5mby53aWR0aCxnPXYqbSx5PXRoaXMucmVhZEh1ZmZtYW5UcmVlKGUsdCksdz15LmRlY29kZUx1dCxiPXkudHJlZSxrPXkuc3R1ZmZlZERhdGEseD15LnNyY1B0cixBPXkuYml0UG9zLF89eS5udW1CaXRzTFVUUWljayxJPXkubnVtQml0c0xVVCxQPTA9PT10LmhlYWRlckluZm8uaW1hZ2VUeXBlPzEyODowLFM9dC5waXhlbHMucmVzdWx0TWFzayxUPTA7QT4wJiYoeCsrLEE9MCk7dmFyIE8sVT1rW3hdLEQ9MT09PXQuZW5jb2RlTW9kZSxFPW5ldyByKGcqcCksUj1FO2lmKHA8Mnx8RCl7Zm9yKE89MDtPPHA7TysrKWlmKHA+MSYmKFI9bmV3IHIoRS5idWZmZXIsZypPLGcpLFQ9MCksdC5oZWFkZXJJbmZvLm51bVZhbGlkUGl4ZWw9PT12Km0pZm9yKGg9MCxsPTA7bDxtO2wrKylmb3IoYz0wO2M8djtjKyssaCsrKXtpZihhPTAsZj11PVU8PEE+Pj4zMi1fLDMyLUE8XyYmKGY9dXw9a1t4KzFdPj4+NjQtQS1fKSx3W2ZdKWE9d1tmXVsxXSxBKz13W2ZdWzBdO2Vsc2UgZm9yKGY9dT1VPDxBPj4+MzItSSwzMi1BPEkmJihmPXV8PWtbeCsxXT4+PjY0LUEtSSksaT1iLGQ9MDtkPEk7ZCsrKWlmKCEoaT11Pj4+SS1kLTEmMT9pLnJpZ2h0OmkubGVmdCkubGVmdCYmIWkucmlnaHQpe2E9aS52YWwsQT1BK2QrMTticmVha31BPj0zMiYmKEEtPTMyLFU9a1srK3hdKSxzPWEtUCxEPyhzKz1jPjA/VDpsPjA/UltoLXZdOlQscyY9MjU1LFJbaF09cyxUPXMpOlJbaF09c31lbHNlIGZvcihoPTAsbD0wO2w8bTtsKyspZm9yKGM9MDtjPHY7YysrLGgrKylpZihTW2hdKXtpZihhPTAsZj11PVU8PEE+Pj4zMi1fLDMyLUE8XyYmKGY9dXw9a1t4KzFdPj4+NjQtQS1fKSx3W2ZdKWE9d1tmXVsxXSxBKz13W2ZdWzBdO2Vsc2UgZm9yKGY9dT1VPDxBPj4+MzItSSwzMi1BPEkmJihmPXV8PWtbeCsxXT4+PjY0LUEtSSksaT1iLGQ9MDtkPEk7ZCsrKWlmKCEoaT11Pj4+SS1kLTEmMT9pLnJpZ2h0OmkubGVmdCkubGVmdCYmIWkucmlnaHQpe2E9aS52YWwsQT1BK2QrMTticmVha31BPj0zMiYmKEEtPTMyLFU9a1srK3hdKSxzPWEtUCxEPyhjPjAmJlNbaC0xXT9zKz1UOmw+MCYmU1toLXZdP3MrPVJbaC12XTpzKz1ULHMmPTI1NSxSW2hdPXMsVD1zKTpSW2hdPXN9fWVsc2UgZm9yKGg9MCxsPTA7bDxtO2wrKylmb3IoYz0wO2M8djtjKyspaWYoaD1sKnYrYywhU3x8U1toXSlmb3IoTz0wO088cDtPKyssaCs9Zyl7aWYoYT0wLGY9dT1VPDxBPj4+MzItXywzMi1BPF8mJihmPXV8PWtbeCsxXT4+PjY0LUEtXyksd1tmXSlhPXdbZl1bMV0sQSs9d1tmXVswXTtlbHNlIGZvcihmPXU9VTw8QT4+PjMyLUksMzItQTxJJiYoZj11fD1rW3grMV0+Pj42NC1BLUkpLGk9YixkPTA7ZDxJO2QrKylpZighKGk9dT4+PkktZC0xJjE/aS5yaWdodDppLmxlZnQpLmxlZnQmJiFpLnJpZ2h0KXthPWkudmFsLEE9QStkKzE7YnJlYWt9QT49MzImJihBLT0zMixVPWtbKyt4XSkscz1hLVAsUltoXT1zfXQucHRyPXQucHRyKzQqKHgrMSkrKEE+MD80OjApLHQucGl4ZWxzLnJlc3VsdFBpeGVscz1FLHA+MSYmIW4mJih0LnBpeGVscy5yZXN1bHRQaXhlbHM9by5zd2FwRGltZW5zaW9uT3JkZXIoRSxnLHAscikpfSxkZWNvZGVCaXRzOmZ1bmN0aW9uKG8scyx1LGYsbCl7dmFyIGM9cy5oZWFkZXJJbmZvLGg9Yy5maWxlVmVyc2lvbixkPTAscD1vLmJ5dGVMZW5ndGgtcy5wdHI+PTU/NTpvLmJ5dGVMZW5ndGgtcy5wdHIsbT1uZXcgRGF0YVZpZXcobyxzLnB0cixwKSx2PW0uZ2V0VWludDgoMCk7ZCsrO3ZhciBnPXY+PjYseT0wPT09Zz80OjMtZyx3PSgzMiZ2KT4wLGI9MzEmdixrPTA7aWYoMT09PXkpaz1tLmdldFVpbnQ4KGQpLGQrKztlbHNlIGlmKDI9PT15KWs9bS5nZXRVaW50MTYoZCwhMCksZCs9MjtlbHNle2lmKDQhPT15KXRocm93IkludmFsaWQgdmFsaWQgcGl4ZWwgY291bnQgdHlwZSI7az1tLmdldFVpbnQzMihkLCEwKSxkKz00fXZhciB4LEEsXyxJLFAsUyxULE8sVSxEPTIqYy5tYXhaRXJyb3IsRT1jLm51bURpbXM+MT9jLm1heFZhbHVlc1tsXTpjLnpNYXg7aWYodyl7Zm9yKHMuY291bnRlci5sdXQrKyxPPW0uZ2V0VWludDgoZCksZCsrLEk9TWF0aC5jZWlsKChPLTEpKmIvOCksUD1NYXRoLmNlaWwoSS80KSxBPW5ldyBBcnJheUJ1ZmZlcig0KlApLF89bmV3IFVpbnQ4QXJyYXkoQSkscy5wdHIrPWQsXy5zZXQobmV3IFVpbnQ4QXJyYXkobyxzLnB0cixJKSksVD1uZXcgVWludDMyQXJyYXkoQSkscy5wdHIrPUksVT0wO08tMT4+PlU7KVUrKztJPU1hdGguY2VpbChrKlUvOCksUD1NYXRoLmNlaWwoSS80KSxBPW5ldyBBcnJheUJ1ZmZlcig0KlApLChfPW5ldyBVaW50OEFycmF5KEEpKS5zZXQobmV3IFVpbnQ4QXJyYXkobyxzLnB0cixJKSkseD1uZXcgVWludDMyQXJyYXkoQSkscy5wdHIrPUksUz1oPj0zP24oVCxiLE8tMSxmLEQsRSk6dChULGIsTy0xLGYsRCxFKSxoPj0zP3IoeCx1LFUsayxTKTplKHgsdSxVLGssUyl9ZWxzZSBzLmNvdW50ZXIuYml0c3R1ZmZlcisrLFU9YixzLnB0cis9ZCxVPjAmJihJPU1hdGguY2VpbChrKlUvOCksUD1NYXRoLmNlaWwoSS80KSxBPW5ldyBBcnJheUJ1ZmZlcig0KlApLChfPW5ldyBVaW50OEFycmF5KEEpKS5zZXQobmV3IFVpbnQ4QXJyYXkobyxzLnB0cixJKSkseD1uZXcgVWludDMyQXJyYXkoQSkscy5wdHIrPUksaD49Mz9udWxsPT1mP2EoeCx1LFUsayk6cih4LHUsVSxrLCExLGYsRCxFKTpudWxsPT1mP2koeCx1LFUsayk6ZSh4LHUsVSxrLCExLGYsRCxFKSl9LHJlYWRUaWxlczpmdW5jdGlvbihlLHQscixuKXt2YXIgaT10LmhlYWRlckluZm8sYT1pLndpZHRoLHM9aS5oZWlnaHQsdT1hKnMsZj1pLm1pY3JvQmxvY2tTaXplLGw9aS5pbWFnZVR5cGUsYz1vLmdldERhdGFUeXBlU2l6ZShsKSxoPU1hdGguY2VpbChhL2YpLGQ9TWF0aC5jZWlsKHMvZik7dC5waXhlbHMubnVtQmxvY2tzWT1kLHQucGl4ZWxzLm51bUJsb2Nrc1g9aCx0LnBpeGVscy5wdHI9MDt2YXIgcCxtLHYsZyx5LHcsYixrLHgsQSxfPTAsST0wLFA9MCxTPTAsVD0wLE89MCxVPTAsRD0wLEU9MCxSPTAsTT0wLEI9MCxDPTAsTD0wLEY9MCxWPW5ldyByKGYqZiksRz1zJWZ8fGYsaj1hJWZ8fGYsej1pLm51bURpbXMsTj10LnBpeGVscy5yZXN1bHRNYXNrLEs9dC5waXhlbHMucmVzdWx0UGl4ZWxzLFo9aS5maWxlVmVyc2lvbj49NT8xNDoxNSxIPWkuek1heDtmb3IoUD0wO1A8ZDtQKyspZm9yKFQ9UCE9PWQtMT9mOkcsUz0wO1M8aDtTKyspZm9yKFI9UCphKmYrUypmLE09YS0oTz1TIT09aC0xP2Y6aiksaz0wO2s8ejtrKyspe2lmKHo+MT8oQT1LLFI9UCphKmYrUypmLEs9bmV3IHIodC5waXhlbHMucmVzdWx0UGl4ZWxzLmJ1ZmZlcix1KmsqYyx1KSxIPWkubWF4VmFsdWVzW2tdKTpBPW51bGwsVT1lLmJ5dGVMZW5ndGgtdC5wdHIsbT17fSxGPTAsRD0ocD1uZXcgRGF0YVZpZXcoZSx0LnB0cixNYXRoLm1pbigxMCxVKSkpLmdldFVpbnQ4KDApLEYrKyx4PWkuZmlsZVZlcnNpb24+PTU/NCZEOjAsRT1EPj42JjI1NSwoRD4+MiZaKSE9KFMqZj4+MyZaKSl0aHJvdyJpbnRlZ3JpdHkgaXNzdWUiO2lmKHgmJjA9PT1rKXRocm93ImludGVncml0eSBpc3N1ZSI7aWYoKHk9MyZEKT4zKXRocm93IHQucHRyKz1GLCJJbnZhbGlkIGJsb2NrIGVuY29kaW5nICgiK3krIikiO2lmKDIhPT15KWlmKDA9PT15KXtpZih4KXRocm93ImludGVncml0eSBpc3N1ZSI7aWYodC5jb3VudGVyLnVuY29tcHJlc3NlZCsrLHQucHRyKz1GLEI9KEI9VCpPKmMpPChDPWUuYnl0ZUxlbmd0aC10LnB0cik/QjpDLHY9bmV3IEFycmF5QnVmZmVyKEIlYz09MD9COkIrYy1CJWMpLG5ldyBVaW50OEFycmF5KHYpLnNldChuZXcgVWludDhBcnJheShlLHQucHRyLEIpKSxnPW5ldyByKHYpLEw9MCxOKWZvcihfPTA7XzxUO18rKyl7Zm9yKEk9MDtJPE87SSsrKU5bUl0mJihLW1JdPWdbTCsrXSksUisrO1IrPU19ZWxzZSBmb3IoXz0wO188VDtfKyspe2ZvcihJPTA7STxPO0krKylLW1IrK109Z1tMKytdO1IrPU19dC5wdHIrPUwqY31lbHNlIGlmKHc9by5nZXREYXRhVHlwZVVzZWQoeCYmbDw2PzQ6bCxFKSxiPW8uZ2V0T25lUGl4ZWwobSxGLHcscCksRis9by5nZXREYXRhVHlwZVNpemUodyksMz09PXkpaWYodC5wdHIrPUYsdC5jb3VudGVyLmNvbnN0YW50b2Zmc2V0KyssTilmb3IoXz0wO188VDtfKyspe2ZvcihJPTA7STxPO0krKylOW1JdJiYoS1tSXT14P01hdGgubWluKEgsQVtSXStiKTpiKSxSKys7Uis9TX1lbHNlIGZvcihfPTA7XzxUO18rKyl7Zm9yKEk9MDtJPE87SSsrKUtbUl09eD9NYXRoLm1pbihILEFbUl0rYik6YixSKys7Uis9TX1lbHNlIGlmKHQucHRyKz1GLG8uZGVjb2RlQml0cyhlLHQsVixiLGspLEY9MCx4KWlmKE4pZm9yKF89MDtfPFQ7XysrKXtmb3IoST0wO0k8TztJKyspTltSXSYmKEtbUl09VltGKytdK0FbUl0pLFIrKztSKz1NfWVsc2UgZm9yKF89MDtfPFQ7XysrKXtmb3IoST0wO0k8TztJKyspS1tSXT1WW0YrK10rQVtSXSxSKys7Uis9TX1lbHNlIGlmKE4pZm9yKF89MDtfPFQ7XysrKXtmb3IoST0wO0k8TztJKyspTltSXSYmKEtbUl09VltGKytdKSxSKys7Uis9TX1lbHNlIGZvcihfPTA7XzxUO18rKyl7Zm9yKEk9MDtJPE87SSsrKUtbUisrXT1WW0YrK107Uis9TX1lbHNle2lmKHgpaWYoTilmb3IoXz0wO188VDtfKyspZm9yKEk9MDtJPE87SSsrKU5bUl0mJihLW1JdPUFbUl0pLFIrKztlbHNlIGZvcihfPTA7XzxUO18rKylmb3IoST0wO0k8TztJKyspS1tSXT1BW1JdLFIrKzt0LmNvdW50ZXIuY29uc3RhbnQrKyx0LnB0cis9Rn19ej4xJiYhbiYmKHQucGl4ZWxzLnJlc3VsdFBpeGVscz1vLnN3YXBEaW1lbnNpb25PcmRlcih0LnBpeGVscy5yZXN1bHRQaXhlbHMsdSx6LHIpKX0sZm9ybWF0RmlsZUluZm86ZnVuY3Rpb24oZSl7cmV0dXJue2ZpbGVJZGVudGlmaWVyU3RyaW5nOmUuaGVhZGVySW5mby5maWxlSWRlbnRpZmllclN0cmluZyxmaWxlVmVyc2lvbjplLmhlYWRlckluZm8uZmlsZVZlcnNpb24saW1hZ2VUeXBlOmUuaGVhZGVySW5mby5pbWFnZVR5cGUsaGVpZ2h0OmUuaGVhZGVySW5mby5oZWlnaHQsd2lkdGg6ZS5oZWFkZXJJbmZvLndpZHRoLG51bVZhbGlkUGl4ZWw6ZS5oZWFkZXJJbmZvLm51bVZhbGlkUGl4ZWwsbWljcm9CbG9ja1NpemU6ZS5oZWFkZXJJbmZvLm1pY3JvQmxvY2tTaXplLGJsb2JTaXplOmUuaGVhZGVySW5mby5ibG9iU2l6ZSxtYXhaRXJyb3I6ZS5oZWFkZXJJbmZvLm1heFpFcnJvcixwaXhlbFR5cGU6by5nZXRQaXhlbFR5cGUoZS5oZWFkZXJJbmZvLmltYWdlVHlwZSksZW9mT2Zmc2V0OmUuZW9mT2Zmc2V0LG1hc2s6ZS5tYXNrP3tudW1CeXRlczplLm1hc2subnVtQnl0ZXN9Om51bGwscGl4ZWxzOntudW1CbG9ja3NYOmUucGl4ZWxzLm51bUJsb2Nrc1gsbnVtQmxvY2tzWTplLnBpeGVscy5udW1CbG9ja3NZLG1heFZhbHVlOmUuaGVhZGVySW5mby56TWF4LG1pblZhbHVlOmUuaGVhZGVySW5mby56TWluLG5vRGF0YVZhbHVlOmUubm9EYXRhVmFsdWV9fX0sY29uc3RydWN0Q29uc3RhbnRTdXJmYWNlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5oZWFkZXJJbmZvLnpNYXgsbj1lLmhlYWRlckluZm8uek1pbixpPWUuaGVhZGVySW5mby5tYXhWYWx1ZXMsYT1lLmhlYWRlckluZm8ubnVtRGltcyxvPWUuaGVhZGVySW5mby5oZWlnaHQqZS5oZWFkZXJJbmZvLndpZHRoLHM9MCx1PTAsZj0wLGw9ZS5waXhlbHMucmVzdWx0TWFzayxjPWUucGl4ZWxzLnJlc3VsdFBpeGVscztpZihsKWlmKGE+MSl7aWYodClmb3Iocz0wO3M8YTtzKyspZm9yKGY9cypvLHI9aVtzXSx1PTA7dTxvO3UrKylsW3VdJiYoY1tmK3VdPXIpO2Vsc2UgZm9yKHU9MDt1PG87dSsrKWlmKGxbdV0pZm9yKGY9dSphLHM9MDtzPGE7cysrKWNbZithXT1pW3NdfWVsc2UgZm9yKHU9MDt1PG87dSsrKWxbdV0mJihjW3VdPXIpO2Vsc2UgaWYoYT4xJiZuIT09cilpZih0KWZvcihzPTA7czxhO3MrKylmb3IoZj1zKm8scj1pW3NdLHU9MDt1PG87dSsrKWNbZit1XT1yO2Vsc2UgZm9yKHU9MDt1PG87dSsrKWZvcihmPXUqYSxzPTA7czxhO3MrKyljW2Yrc109aVtzXTtlbHNlIGZvcih1PTA7dTxvKmE7dSsrKWNbdV09cn0sZ2V0RGF0YVR5cGVBcnJheTpmdW5jdGlvbihlKXt2YXIgdDtzd2l0Y2goZSl7Y2FzZSAwOnQ9SW50OEFycmF5O2JyZWFrO2Nhc2UgMTp0PVVpbnQ4QXJyYXk7YnJlYWs7Y2FzZSAyOnQ9SW50MTZBcnJheTticmVhaztjYXNlIDM6dD1VaW50MTZBcnJheTticmVhaztjYXNlIDQ6dD1JbnQzMkFycmF5O2JyZWFrO2Nhc2UgNTp0PVVpbnQzMkFycmF5O2JyZWFrO2Nhc2UgNjpkZWZhdWx0OnQ9RmxvYXQzMkFycmF5O2JyZWFrO2Nhc2UgNzp0PUZsb2F0NjRBcnJheX1yZXR1cm4gdH0sZ2V0UGl4ZWxUeXBlOmZ1bmN0aW9uKGUpe3ZhciB0O3N3aXRjaChlKXtjYXNlIDA6dD0iUzgiO2JyZWFrO2Nhc2UgMTp0PSJVOCI7YnJlYWs7Y2FzZSAyOnQ9IlMxNiI7YnJlYWs7Y2FzZSAzOnQ9IlUxNiI7YnJlYWs7Y2FzZSA0OnQ9IlMzMiI7YnJlYWs7Y2FzZSA1OnQ9IlUzMiI7YnJlYWs7Y2FzZSA2OmRlZmF1bHQ6dD0iRjMyIjticmVhaztjYXNlIDc6dD0iRjY0In1yZXR1cm4gdH0saXNWYWxpZFBpeGVsVmFsdWU6ZnVuY3Rpb24oZSx0KXtpZihudWxsPT10KXJldHVybiExO3ZhciByO3N3aXRjaChlKXtjYXNlIDA6cj10Pj0tMTI4JiZ0PD0xMjc7YnJlYWs7Y2FzZSAxOnI9dD49MCYmdDw9MjU1O2JyZWFrO2Nhc2UgMjpyPXQ+PS0zMjc2OCYmdDw9MzI3Njc7YnJlYWs7Y2FzZSAzOnI9dD49MCYmdDw9NjU1MzY7YnJlYWs7Y2FzZSA0OnI9dD49LTIxNDc0ODM2NDgmJnQ8PTIxNDc0ODM2NDc7YnJlYWs7Y2FzZSA1OnI9dD49MCYmdDw9NDI5NDk2NzI5NjticmVhaztjYXNlIDY6cj10Pj0tMzQwMjc5OTkzODc5MDE0ODRlMjImJnQ8PTM0MDI3OTk5Mzg3OTAxNDg0ZTIyO2JyZWFrO2Nhc2UgNzpyPXQ+PS0xNzk3NjkzMTM0ODYyMzE1N2UyOTImJnQ8PTE3OTc2OTMxMzQ4NjIzMTU3ZTI5MjticmVhaztkZWZhdWx0OnI9ITF9cmV0dXJuIHJ9LGdldERhdGFUeXBlU2l6ZTpmdW5jdGlvbihlKXt2YXIgdD0wO3N3aXRjaChlKXtjYXNlIDA6Y2FzZSAxOnQ9MTticmVhaztjYXNlIDI6Y2FzZSAzOnQ9MjticmVhaztjYXNlIDQ6Y2FzZSA1OmNhc2UgNjp0PTQ7YnJlYWs7Y2FzZSA3OnQ9ODticmVhaztkZWZhdWx0OnQ9ZX1yZXR1cm4gdH0sZ2V0RGF0YVR5cGVVc2VkOmZ1bmN0aW9uKGUsdCl7dmFyIHI9ZTtzd2l0Y2goZSl7Y2FzZSAyOmNhc2UgNDpyPWUtdDticmVhaztjYXNlIDM6Y2FzZSA1OnI9ZS0yKnQ7YnJlYWs7Y2FzZSA2OnI9MD09PXQ/ZToxPT09dD8yOjE7YnJlYWs7Y2FzZSA3OnI9MD09PXQ/ZTplLTIqdCsxO2JyZWFrO2RlZmF1bHQ6cj1lfXJldHVybiByfSxnZXRPbmVQaXhlbDpmdW5jdGlvbihlLHQscixuKXt2YXIgaT0wO3N3aXRjaChyKXtjYXNlIDA6aT1uLmdldEludDgodCk7YnJlYWs7Y2FzZSAxOmk9bi5nZXRVaW50OCh0KTticmVhaztjYXNlIDI6aT1uLmdldEludDE2KHQsITApO2JyZWFrO2Nhc2UgMzppPW4uZ2V0VWludDE2KHQsITApO2JyZWFrO2Nhc2UgNDppPW4uZ2V0SW50MzIodCwhMCk7YnJlYWs7Y2FzZSA1Omk9bi5nZXRVSW50MzIodCwhMCk7YnJlYWs7Y2FzZSA2Omk9bi5nZXRGbG9hdDMyKHQsITApO2JyZWFrO2Nhc2UgNzppPW4uZ2V0RmxvYXQ2NCh0LCEwKTticmVhaztkZWZhdWx0OnRocm93InRoZSBkZWNvZGVyIGRvZXMgbm90IHVuZGVyc3RhbmQgdGhpcyBwaXhlbCB0eXBlIn1yZXR1cm4gaX0sc3dhcERpbWVuc2lvbk9yZGVyOmZ1bmN0aW9uKGUsdCxyLG4saSl7dmFyIGE9MCxvPTAscz0wLHU9MCxmPWU7aWYocj4xKWlmKGY9bmV3IG4odCpyKSxpKWZvcihhPTA7YTx0O2ErKylmb3IodT1hLHM9MDtzPHI7cysrLHUrPXQpZlt1XT1lW28rK107ZWxzZSBmb3IoYT0wO2E8dDthKyspZm9yKHU9YSxzPTA7czxyO3MrKyx1Kz10KWZbbysrXT1lW3VdO3JldHVybiBmfX0scz1mdW5jdGlvbihlLHQscil7dGhpcy52YWw9ZSx0aGlzLmxlZnQ9dCx0aGlzLnJpZ2h0PXJ9LHU9e2RlY29kZTpmdW5jdGlvbihlLHQpe3ZhciByPSh0PXR8fHt9KS5ub0RhdGFWYWx1ZSxuPTAsaT17fTtpLnB0cj10LmlucHV0T2Zmc2V0fHwwLGkucGl4ZWxzPXt9LG8ucmVhZEhlYWRlckluZm8oZSxpKTt2YXIgYT1pLmhlYWRlckluZm8scz1hLmZpbGVWZXJzaW9uLHU9by5nZXREYXRhVHlwZUFycmF5KGEuaW1hZ2VUeXBlKTtpZihzPjUpdGhyb3cidW5zdXBwb3J0ZWQgbGVyYyB2ZXJzaW9uIDIuIitzO28ucmVhZE1hc2soZSxpKSxhLm51bVZhbGlkUGl4ZWw9PT1hLndpZHRoKmEuaGVpZ2h0fHxpLnBpeGVscy5yZXN1bHRNYXNrfHwoaS5waXhlbHMucmVzdWx0TWFzaz10Lm1hc2tEYXRhKTt2YXIgZj1hLndpZHRoKmEuaGVpZ2h0O2kucGl4ZWxzLnJlc3VsdFBpeGVscz1uZXcgdShmKmEubnVtRGltcyksaS5jb3VudGVyPXtvbmVzd2VlcDowLHVuY29tcHJlc3NlZDowLGx1dDowLGJpdHN0dWZmZXI6MCxjb25zdGFudDowLGNvbnN0YW50b2Zmc2V0OjB9O3ZhciBsLGM9IXQucmV0dXJuUGl4ZWxJbnRlcmxlYXZlZERpbXM7aWYoMCE9PWEubnVtVmFsaWRQaXhlbClpZihhLnpNYXg9PT1hLnpNaW4pby5jb25zdHJ1Y3RDb25zdGFudFN1cmZhY2UoaSxjKTtlbHNlIGlmKHM+PTQmJm8uY2hlY2tNaW5NYXhSYW5nZXMoZSxpKSlvLmNvbnN0cnVjdENvbnN0YW50U3VyZmFjZShpLGMpO2Vsc2V7dmFyIGg9bmV3IERhdGFWaWV3KGUsaS5wdHIsMiksZD1oLmdldFVpbnQ4KDApO2lmKGkucHRyKyssZClvLnJlYWREYXRhT25lU3dlZXAoZSxpLHUsYyk7ZWxzZSBpZihzPjEmJmEuaW1hZ2VUeXBlPD0xJiZNYXRoLmFicyhhLm1heFpFcnJvci0uNSk8MWUtNSl7dmFyIHA9aC5nZXRVaW50OCgxKTtpZihpLnB0cisrLGkuZW5jb2RlTW9kZT1wLHA+Mnx8czw0JiZwPjEpdGhyb3ciSW52YWxpZCBIdWZmbWFuIGZsYWcgIitwO3A/by5yZWFkSHVmZm1hbihlLGksdSxjKTpvLnJlYWRUaWxlcyhlLGksdSxjKX1lbHNlIG8ucmVhZFRpbGVzKGUsaSx1LGMpfWkuZW9mT2Zmc2V0PWkucHRyLHQuaW5wdXRPZmZzZXQ/KGw9aS5oZWFkZXJJbmZvLmJsb2JTaXplK3QuaW5wdXRPZmZzZXQtaS5wdHIsTWF0aC5hYnMobCk+PTEmJihpLmVvZk9mZnNldD10LmlucHV0T2Zmc2V0K2kuaGVhZGVySW5mby5ibG9iU2l6ZSkpOihsPWkuaGVhZGVySW5mby5ibG9iU2l6ZS1pLnB0cixNYXRoLmFicyhsKT49MSYmKGkuZW9mT2Zmc2V0PWkuaGVhZGVySW5mby5ibG9iU2l6ZSkpO3ZhciBtPXt3aWR0aDphLndpZHRoLGhlaWdodDphLmhlaWdodCxwaXhlbERhdGE6aS5waXhlbHMucmVzdWx0UGl4ZWxzLG1pblZhbHVlOmEuek1pbixtYXhWYWx1ZTphLnpNYXgsdmFsaWRQaXhlbENvdW50OmEubnVtVmFsaWRQaXhlbCxkaW1Db3VudDphLm51bURpbXMsZGltU3RhdHM6e21pblZhbHVlczphLm1pblZhbHVlcyxtYXhWYWx1ZXM6YS5tYXhWYWx1ZXN9LG1hc2tEYXRhOmkucGl4ZWxzLnJlc3VsdE1hc2t9O2lmKGkucGl4ZWxzLnJlc3VsdE1hc2smJm8uaXNWYWxpZFBpeGVsVmFsdWUoYS5pbWFnZVR5cGUscikpe3ZhciB2PWkucGl4ZWxzLnJlc3VsdE1hc2s7Zm9yKG49MDtuPGY7bisrKXZbbl18fChtLnBpeGVsRGF0YVtuXT1yKTttLm5vRGF0YVZhbHVlPXJ9cmV0dXJuIGkubm9EYXRhVmFsdWU9cix0LnJldHVybkZpbGVJbmZvJiYobS5maWxlSW5mbz1vLmZvcm1hdEZpbGVJbmZvKGkpKSxtfSxnZXRCYW5kQ291bnQ6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTAscj0wLG49e3B0cjowLHBpeGVsczp7fX07cjxlLmJ5dGVMZW5ndGgtNTg7KW8ucmVhZEhlYWRlckluZm8oZSxuKSxyKz1uLmhlYWRlckluZm8uYmxvYlNpemUsdCsrLG4ucHRyPXI7cmV0dXJuIHR9fTtyZXR1cm4gdX0oKSxjPShzPW5ldyBBcnJheUJ1ZmZlcig0KSx1PW5ldyBVaW50OEFycmF5KHMpLG5ldyBVaW50MzJBcnJheShzKVswXT0xLDE9PT11WzBdKSxoPXtkZWNvZGU6ZnVuY3Rpb24oZSx0KXtpZighYyl0aHJvdyJCaWcgZW5kaWFuIHN5c3RlbSBpcyBub3Qgc3VwcG9ydGVkLiI7dmFyIHIsbixpPSh0PXR8fHt9KS5pbnB1dE9mZnNldHx8MCxhPW5ldyBVaW50OEFycmF5KGUsaSwxMCksbz1TdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsYSk7aWYoIkNudFpJbWFnZSI9PT1vLnRyaW0oKSlyPWYsbj0xO2Vsc2V7aWYoIkxlcmMyIiE9PW8uc3Vic3RyaW5nKDAsNSkpdGhyb3ciVW5leHBlY3RlZCBmaWxlIGlkZW50aWZpZXIgc3RyaW5nOiAiK287cj1sLG49Mn1mb3IodmFyIHMsdSxoLGQscCxtLHY9MCxnPWUuYnl0ZUxlbmd0aC0xMCx5PVtdLHc9e3dpZHRoOjAsaGVpZ2h0OjAscGl4ZWxzOltdLHBpeGVsVHlwZTp0LnBpeGVsVHlwZSxtYXNrOm51bGwsc3RhdGlzdGljczpbXX0sYj0wO2k8Zzspe3ZhciBrPXIuZGVjb2RlKGUse2lucHV0T2Zmc2V0OmksZW5jb2RlZE1hc2tEYXRhOnMsbWFza0RhdGE6aCxyZXR1cm5NYXNrOjA9PT12LHJldHVybkVuY29kZWRNYXNrOjA9PT12LHJldHVybkZpbGVJbmZvOiEwLHJldHVyblBpeGVsSW50ZXJsZWF2ZWREaW1zOnQucmV0dXJuUGl4ZWxJbnRlcmxlYXZlZERpbXMscGl4ZWxUeXBlOnQucGl4ZWxUeXBlfHxudWxsLG5vRGF0YVZhbHVlOnQubm9EYXRhVmFsdWV8fG51bGx9KTtpPWsuZmlsZUluZm8uZW9mT2Zmc2V0LGg9ay5tYXNrRGF0YSwwPT09diYmKHM9ay5lbmNvZGVkTWFza0RhdGEsdy53aWR0aD1rLndpZHRoLHcuaGVpZ2h0PWsuaGVpZ2h0LHcuZGltQ291bnQ9ay5kaW1Db3VudHx8MSx3LnBpeGVsVHlwZT1rLnBpeGVsVHlwZXx8ay5maWxlSW5mby5waXhlbFR5cGUsdy5tYXNrPWgpLG4+MSYmKGgmJnkucHVzaChoKSxrLmZpbGVJbmZvLm1hc2smJmsuZmlsZUluZm8ubWFzay5udW1CeXRlcz4wJiZiKyspLHYrKyx3LnBpeGVscy5wdXNoKGsucGl4ZWxEYXRhKSx3LnN0YXRpc3RpY3MucHVzaCh7bWluVmFsdWU6ay5taW5WYWx1ZSxtYXhWYWx1ZTprLm1heFZhbHVlLG5vRGF0YVZhbHVlOmsubm9EYXRhVmFsdWUsZGltU3RhdHM6ay5kaW1TdGF0c30pfWlmKG4+MSYmYj4xKXtmb3IobT13LndpZHRoKncuaGVpZ2h0LHcuYmFuZE1hc2tzPXksKGg9bmV3IFVpbnQ4QXJyYXkobSkpLnNldCh5WzBdKSxkPTE7ZDx5Lmxlbmd0aDtkKyspZm9yKHU9eVtkXSxwPTA7cDxtO3ArKyloW3BdPWhbcF0mdVtwXTt3Lm1hc2tEYXRhPWh9cmV0dXJuIHd9fTtlLmV4cG9ydHM/ZS5leHBvcnRzPWg6dGhpcy5MZXJjPWh9KCl9KGJpKTt2YXIga2k9YmkuZXhwb3J0cztmdW5jdGlvbiB4aShlKXt2YXIgdD1mdW5jdGlvbigpe2lmKCJ1bmRlZmluZWQiPT10eXBlb2YgUmVmbGVjdHx8IVJlZmxlY3QuY29uc3RydWN0KXJldHVybiExO2lmKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pcmV0dXJuITE7aWYoImZ1bmN0aW9uIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaChlKXtyZXR1cm4hMX19KCk7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIHIsbj12KGUpO2lmKHQpe3ZhciBpPXYodGhpcykuY29uc3RydWN0b3I7cj1SZWZsZWN0LmNvbnN0cnVjdChuLGFyZ3VtZW50cyxpKX1lbHNlIHI9bi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIG0odGhpcyxyKX19dmFyIEFpPWZ1bmN0aW9uKGUpe2gocixlKTt2YXIgdD14aShyKTtmdW5jdGlvbiByKGUpe3ZhciBuO3JldHVybiBiKHRoaXMsciksKG49dC5jYWxsKHRoaXMpKS5wbGFuYXJDb25maWd1cmF0aW9uPXZvaWQgMCE9PWUuUGxhbmFyQ29uZmlndXJhdGlvbj9lLlBsYW5hckNvbmZpZ3VyYXRpb246MSxuLnNhbXBsZXNQZXJQaXhlbD12b2lkIDAhPT1lLlNhbXBsZXNQZXJQaXhlbD9lLlNhbXBsZXNQZXJQaXhlbDoxLG4uYWRkQ29tcHJlc3Npb249ZS5MZXJjUGFyYW1ldGVyc1t1ZS5BZGRDb21wcmVzc2lvbl0sbn1yZXR1cm4gbChyLFt7a2V5OiJkZWNvZGVCbG9jayIsdmFsdWU6ZnVuY3Rpb24oZSl7c3dpdGNoKHRoaXMuYWRkQ29tcHJlc3Npb24pe2Nhc2UgZmUuTm9uZTpicmVhaztjYXNlIGZlLkRlZmxhdGU6ZT1kaShuZXcgVWludDhBcnJheShlKSkuYnVmZmVyO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJVbnN1cHBvcnRlZCBMRVJDIGFkZGl0aW9uYWwgY29tcHJlc3Npb24gbWV0aG9kIGlkZW50aWZpZXI6ICIuY29uY2F0KHRoaXMuYWRkQ29tcHJlc3Npb24pKX1yZXR1cm4ga2kuZGVjb2RlKGUse3JldHVyblBpeGVsSW50ZXJsZWF2ZWREaW1zOjE9PT10aGlzLnBsYW5hckNvbmZpZ3VyYXRpb259KS5waXhlbHNbMF0uYnVmZmVyfX1dKSxyfSh3ciksX2k9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsZGVmYXVsdDpBaX0pO2Z1bmN0aW9uIElpKGUpe3ZhciB0PWZ1bmN0aW9uKCl7aWYoInVuZGVmaW5lZCI9PXR5cGVvZiBSZWZsZWN0fHwhUmVmbGVjdC5jb25zdHJ1Y3QpcmV0dXJuITE7aWYoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZigiZnVuY3Rpb24iPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKGUpe3JldHVybiExfX0oKTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgcixuPXYoZSk7aWYodCl7dmFyIGk9dih0aGlzKS5jb25zdHJ1Y3RvcjtyPVJlZmxlY3QuY29uc3RydWN0KG4sYXJndW1lbnRzLGkpfWVsc2Ugcj1uLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gbSh0aGlzLHIpfX12YXIgUGk9ZnVuY3Rpb24oZSl7aChuLGUpO3ZhciB0LHI9SWkobik7ZnVuY3Rpb24gbigpe3ZhciBlO2lmKGIodGhpcyxuKSxlPXIuY2FsbCh0aGlzKSwidW5kZWZpbmVkIj09dHlwZW9mIGNyZWF0ZUltYWdlQml0bWFwKXRocm93IG5ldyBFcnJvcigiQ2Fubm90IGRlY29kZSBXZWJJbWFnZSBhcyBgY3JlYXRlSW1hZ2VCaXRtYXBgIGlzIG5vdCBhdmFpbGFibGUiKTtpZigidW5kZWZpbmVkIj09dHlwZW9mIGRvY3VtZW50JiYidW5kZWZpbmVkIj09dHlwZW9mIE9mZnNjcmVlbkNhbnZhcyl0aHJvdyBuZXcgRXJyb3IoIkNhbm5vdCBkZWNvZGUgV2ViSW1hZ2UgYXMgbmVpdGhlciBgZG9jdW1lbnRgIG5vciBgT2Zmc2NyZWVuQ2FudmFzYCBpcyBub3QgYXZhaWxhYmxlIik7cmV0dXJuIGV9cmV0dXJuIGwobixbe2tleToiZGVjb2RlIix2YWx1ZToodD11KHgubWFyaygoZnVuY3Rpb24gZSh0LHIpe3ZhciBuLGksYSxvO3JldHVybiB4LndyYXAoKGZ1bmN0aW9uKGUpe2Zvcig7Oylzd2l0Y2goZS5wcmV2PWUubmV4dCl7Y2FzZSAwOnJldHVybiBuPW5ldyBCbG9iKFtyXSksZS5uZXh0PTMsY3JlYXRlSW1hZ2VCaXRtYXAobik7Y2FzZSAzOnJldHVybiBpPWUuc2VudCwidW5kZWZpbmVkIiE9dHlwZW9mIGRvY3VtZW50PygoYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKSkud2lkdGg9aS53aWR0aCxhLmhlaWdodD1pLmhlaWdodCk6YT1uZXcgT2Zmc2NyZWVuQ2FudmFzKGkud2lkdGgsaS5oZWlnaHQpLChvPWEuZ2V0Q29udGV4dCgiMmQiKSkuZHJhd0ltYWdlKGksMCwwKSxlLmFicnVwdCgicmV0dXJuIixvLmdldEltYWdlRGF0YSgwLDAsaS53aWR0aCxpLmhlaWdodCkuZGF0YS5idWZmZXIpO2Nhc2UgODpjYXNlImVuZCI6cmV0dXJuIGUuc3RvcCgpfX0pLGUpfSkpKSxmdW5jdGlvbihlLHIpe3JldHVybiB0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfV0pLG59KHdyKSxTaT1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxkZWZhdWx0OlBpfSksVGk9V29ya2VyLE9pPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLGNyZWF0ZTpmdW5jdGlvbigpe3ZhciBlPSdmdW5jdGlvbiBlKGUsdCxyLG4saSxhLG8pe3RyeXt2YXIgcz1lW2FdKG8pLGY9cy52YWx1ZX1jYXRjaChlKXtyZXR1cm4gdm9pZCByKGUpfXMuZG9uZT90KGYpOlByb21pc2UucmVzb2x2ZShmKS50aGVuKG4saSl9ZnVuY3Rpb24gdCh0KXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgcj10aGlzLG49YXJndW1lbnRzO3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24oaSxhKXt2YXIgbz10LmFwcGx5KHIsbik7ZnVuY3Rpb24gcyh0KXtlKG8saSxhLHMsZiwibmV4dCIsdCl9ZnVuY3Rpb24gZih0KXtlKG8saSxhLHMsZiwidGhyb3ciLHQpfXModm9pZCAwKX0pKX19ZnVuY3Rpb24gcihlKXtyZXR1cm4gcj0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0scihlKX12YXIgbj17ZXhwb3J0czp7fX07IWZ1bmN0aW9uKGUpe3ZhciB0PWZ1bmN0aW9uKGUpe3ZhciB0LG49T2JqZWN0LnByb3RvdHlwZSxpPW4uaGFzT3duUHJvcGVydHksYT0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sP1N5bWJvbDp7fSxvPWEuaXRlcmF0b3J8fCJAQGl0ZXJhdG9yIixzPWEuYXN5bmNJdGVyYXRvcnx8IkBAYXN5bmNJdGVyYXRvciIsZj1hLnRvU3RyaW5nVGFnfHwiQEB0b1N0cmluZ1RhZyI7ZnVuY3Rpb24gbChlLHQscil7cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse3ZhbHVlOnIsZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KSxlW3RdfXRyeXtsKHt9LCIiKX1jYXRjaChlKXtsPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZVt0XT1yfX1mdW5jdGlvbiB1KGUsdCxyLG4pe3ZhciBpPXQmJnQucHJvdG90eXBlIGluc3RhbmNlb2YgeT90OnksYT1PYmplY3QuY3JlYXRlKGkucHJvdG90eXBlKSxvPW5ldyBUKG58fFtdKTtyZXR1cm4gYS5faW52b2tlPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1oO3JldHVybiBmdW5jdGlvbihpLGEpe2lmKG49PT1wKXRocm93IG5ldyBFcnJvcigiR2VuZXJhdG9yIGlzIGFscmVhZHkgcnVubmluZyIpO2lmKG49PT1tKXtpZigidGhyb3ciPT09aSl0aHJvdyBhO3JldHVybiBFKCl9Zm9yKHIubWV0aG9kPWksci5hcmc9YTs7KXt2YXIgbz1yLmRlbGVnYXRlO2lmKG8pe3ZhciBzPUkobyxyKTtpZihzKXtpZihzPT09diljb250aW51ZTtyZXR1cm4gc319aWYoIm5leHQiPT09ci5tZXRob2Qpci5zZW50PXIuX3NlbnQ9ci5hcmc7ZWxzZSBpZigidGhyb3ciPT09ci5tZXRob2Qpe2lmKG49PT1oKXRocm93IG49bSxyLmFyZztyLmRpc3BhdGNoRXhjZXB0aW9uKHIuYXJnKX1lbHNlInJldHVybiI9PT1yLm1ldGhvZCYmci5hYnJ1cHQoInJldHVybiIsci5hcmcpO249cDt2YXIgZj1jKGUsdCxyKTtpZigibm9ybWFsIj09PWYudHlwZSl7aWYobj1yLmRvbmU/bTpkLGYuYXJnPT09diljb250aW51ZTtyZXR1cm57dmFsdWU6Zi5hcmcsZG9uZTpyLmRvbmV9fSJ0aHJvdyI9PT1mLnR5cGUmJihuPW0sci5tZXRob2Q9InRocm93IixyLmFyZz1mLmFyZyl9fX0oZSxyLG8pLGF9ZnVuY3Rpb24gYyhlLHQscil7dHJ5e3JldHVybnt0eXBlOiJub3JtYWwiLGFyZzplLmNhbGwodCxyKX19Y2F0Y2goZSl7cmV0dXJue3R5cGU6InRocm93Iixhcmc6ZX19fWUud3JhcD11O3ZhciBoPSJzdXNwZW5kZWRTdGFydCIsZD0ic3VzcGVuZGVkWWllbGQiLHA9ImV4ZWN1dGluZyIsbT0iY29tcGxldGVkIix2PXt9O2Z1bmN0aW9uIHkoKXt9ZnVuY3Rpb24gdygpe31mdW5jdGlvbiBnKCl7fXZhciBiPXt9O2woYixvLChmdW5jdGlvbigpe3JldHVybiB0aGlzfSkpO3ZhciBrPU9iamVjdC5nZXRQcm90b3R5cGVPZix4PWsmJmsoayhEKFtdKSkpO3gmJnghPT1uJiZpLmNhbGwoeCxvKSYmKGI9eCk7dmFyIF89Zy5wcm90b3R5cGU9eS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShiKTtmdW5jdGlvbiBBKGUpe1sibmV4dCIsInRocm93IiwicmV0dXJuIl0uZm9yRWFjaCgoZnVuY3Rpb24odCl7bChlLHQsKGZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9pbnZva2UodCxlKX0pKX0pKX1mdW5jdGlvbiBQKGUsdCl7ZnVuY3Rpb24gbihhLG8scyxmKXt2YXIgbD1jKGVbYV0sZSxvKTtpZigidGhyb3ciIT09bC50eXBlKXt2YXIgdT1sLmFyZyxoPXUudmFsdWU7cmV0dXJuIGgmJiJvYmplY3QiPT09cihoKSYmaS5jYWxsKGgsIl9fYXdhaXQiKT90LnJlc29sdmUoaC5fX2F3YWl0KS50aGVuKChmdW5jdGlvbihlKXtuKCJuZXh0IixlLHMsZil9KSwoZnVuY3Rpb24oZSl7bigidGhyb3ciLGUscyxmKX0pKTp0LnJlc29sdmUoaCkudGhlbigoZnVuY3Rpb24oZSl7dS52YWx1ZT1lLHModSl9KSwoZnVuY3Rpb24oZSl7cmV0dXJuIG4oInRocm93IixlLHMsZil9KSl9ZihsLmFyZyl9dmFyIGE7dGhpcy5faW52b2tlPWZ1bmN0aW9uKGUscil7ZnVuY3Rpb24gaSgpe3JldHVybiBuZXcgdCgoZnVuY3Rpb24odCxpKXtuKGUscix0LGkpfSkpfXJldHVybiBhPWE/YS50aGVuKGksaSk6aSgpfX1mdW5jdGlvbiBJKGUscil7dmFyIG49ZS5pdGVyYXRvcltyLm1ldGhvZF07aWYobj09PXQpe2lmKHIuZGVsZWdhdGU9bnVsbCwidGhyb3ciPT09ci5tZXRob2Qpe2lmKGUuaXRlcmF0b3IucmV0dXJuJiYoci5tZXRob2Q9InJldHVybiIsci5hcmc9dCxJKGUsciksInRocm93Ij09PXIubWV0aG9kKSlyZXR1cm4gdjtyLm1ldGhvZD0idGhyb3ciLHIuYXJnPW5ldyBUeXBlRXJyb3IoIlRoZSBpdGVyYXRvciBkb2VzIG5vdCBwcm92aWRlIGEgXCd0aHJvd1wnIG1ldGhvZCIpfXJldHVybiB2fXZhciBpPWMobixlLml0ZXJhdG9yLHIuYXJnKTtpZigidGhyb3ciPT09aS50eXBlKXJldHVybiByLm1ldGhvZD0idGhyb3ciLHIuYXJnPWkuYXJnLHIuZGVsZWdhdGU9bnVsbCx2O3ZhciBhPWkuYXJnO3JldHVybiBhP2EuZG9uZT8ocltlLnJlc3VsdE5hbWVdPWEudmFsdWUsci5uZXh0PWUubmV4dExvYywicmV0dXJuIiE9PXIubWV0aG9kJiYoci5tZXRob2Q9Im5leHQiLHIuYXJnPXQpLHIuZGVsZWdhdGU9bnVsbCx2KTphOihyLm1ldGhvZD0idGhyb3ciLHIuYXJnPW5ldyBUeXBlRXJyb3IoIml0ZXJhdG9yIHJlc3VsdCBpcyBub3QgYW4gb2JqZWN0Iiksci5kZWxlZ2F0ZT1udWxsLHYpfWZ1bmN0aW9uIFUoZSl7dmFyIHQ9e3RyeUxvYzplWzBdfTsxIGluIGUmJih0LmNhdGNoTG9jPWVbMV0pLDIgaW4gZSYmKHQuZmluYWxseUxvYz1lWzJdLHQuYWZ0ZXJMb2M9ZVszXSksdGhpcy50cnlFbnRyaWVzLnB1c2godCl9ZnVuY3Rpb24gUyhlKXt2YXIgdD1lLmNvbXBsZXRpb258fHt9O3QudHlwZT0ibm9ybWFsIixkZWxldGUgdC5hcmcsZS5jb21wbGV0aW9uPXR9ZnVuY3Rpb24gVChlKXt0aGlzLnRyeUVudHJpZXM9W3t0cnlMb2M6InJvb3QifV0sZS5mb3JFYWNoKFUsdGhpcyksdGhpcy5yZXNldCghMCl9ZnVuY3Rpb24gRChlKXtpZihlKXt2YXIgcj1lW29dO2lmKHIpcmV0dXJuIHIuY2FsbChlKTtpZigiZnVuY3Rpb24iPT10eXBlb2YgZS5uZXh0KXJldHVybiBlO2lmKCFpc05hTihlLmxlbmd0aCkpe3ZhciBuPS0xLGE9ZnVuY3Rpb24gcigpe2Zvcig7KytuPGUubGVuZ3RoOylpZihpLmNhbGwoZSxuKSlyZXR1cm4gci52YWx1ZT1lW25dLHIuZG9uZT0hMSxyO3JldHVybiByLnZhbHVlPXQsci5kb25lPSEwLHJ9O3JldHVybiBhLm5leHQ9YX19cmV0dXJue25leHQ6RX19ZnVuY3Rpb24gRSgpe3JldHVybnt2YWx1ZTp0LGRvbmU6ITB9fXJldHVybiB3LnByb3RvdHlwZT1nLGwoXywiY29uc3RydWN0b3IiLGcpLGwoZywiY29uc3RydWN0b3IiLHcpLHcuZGlzcGxheU5hbWU9bChnLGYsIkdlbmVyYXRvckZ1bmN0aW9uIiksZS5pc0dlbmVyYXRvckZ1bmN0aW9uPWZ1bmN0aW9uKGUpe3ZhciB0PSJmdW5jdGlvbiI9PXR5cGVvZiBlJiZlLmNvbnN0cnVjdG9yO3JldHVybiEhdCYmKHQ9PT13fHwiR2VuZXJhdG9yRnVuY3Rpb24iPT09KHQuZGlzcGxheU5hbWV8fHQubmFtZSkpfSxlLm1hcms9ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YoZSxnKTooZS5fX3Byb3RvX189ZyxsKGUsZiwiR2VuZXJhdG9yRnVuY3Rpb24iKSksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShfKSxlfSxlLmF3cmFwPWZ1bmN0aW9uKGUpe3JldHVybntfX2F3YWl0OmV9fSxBKFAucHJvdG90eXBlKSxsKFAucHJvdG90eXBlLHMsKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSksZS5Bc3luY0l0ZXJhdG9yPVAsZS5hc3luYz1mdW5jdGlvbih0LHIsbixpLGEpe3ZvaWQgMD09PWEmJihhPVByb21pc2UpO3ZhciBvPW5ldyBQKHUodCxyLG4saSksYSk7cmV0dXJuIGUuaXNHZW5lcmF0b3JGdW5jdGlvbihyKT9vOm8ubmV4dCgpLnRoZW4oKGZ1bmN0aW9uKGUpe3JldHVybiBlLmRvbmU/ZS52YWx1ZTpvLm5leHQoKX0pKX0sQShfKSxsKF8sZiwiR2VuZXJhdG9yIiksbChfLG8sKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSksbChfLCJ0b1N0cmluZyIsKGZ1bmN0aW9uKCl7cmV0dXJuIltvYmplY3QgR2VuZXJhdG9yXSJ9KSksZS5rZXlzPWZ1bmN0aW9uKGUpe3ZhciB0PVtdO2Zvcih2YXIgciBpbiBlKXQucHVzaChyKTtyZXR1cm4gdC5yZXZlcnNlKCksZnVuY3Rpb24gcigpe2Zvcig7dC5sZW5ndGg7KXt2YXIgbj10LnBvcCgpO2lmKG4gaW4gZSlyZXR1cm4gci52YWx1ZT1uLHIuZG9uZT0hMSxyfXJldHVybiByLmRvbmU9ITAscn19LGUudmFsdWVzPUQsVC5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOlQscmVzZXQ6ZnVuY3Rpb24oZSl7aWYodGhpcy5wcmV2PTAsdGhpcy5uZXh0PTAsdGhpcy5zZW50PXRoaXMuX3NlbnQ9dCx0aGlzLmRvbmU9ITEsdGhpcy5kZWxlZ2F0ZT1udWxsLHRoaXMubWV0aG9kPSJuZXh0Iix0aGlzLmFyZz10LHRoaXMudHJ5RW50cmllcy5mb3JFYWNoKFMpLCFlKWZvcih2YXIgciBpbiB0aGlzKSJ0Ij09PXIuY2hhckF0KDApJiZpLmNhbGwodGhpcyxyKSYmIWlzTmFOKCtyLnNsaWNlKDEpKSYmKHRoaXNbcl09dCl9LHN0b3A6ZnVuY3Rpb24oKXt0aGlzLmRvbmU9ITA7dmFyIGU9dGhpcy50cnlFbnRyaWVzWzBdLmNvbXBsZXRpb247aWYoInRocm93Ij09PWUudHlwZSl0aHJvdyBlLmFyZztyZXR1cm4gdGhpcy5ydmFsfSxkaXNwYXRjaEV4Y2VwdGlvbjpmdW5jdGlvbihlKXtpZih0aGlzLmRvbmUpdGhyb3cgZTt2YXIgcj10aGlzO2Z1bmN0aW9uIG4obixpKXtyZXR1cm4gcy50eXBlPSJ0aHJvdyIscy5hcmc9ZSxyLm5leHQ9bixpJiYoci5tZXRob2Q9Im5leHQiLHIuYXJnPXQpLCEhaX1mb3IodmFyIGE9dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xO2E+PTA7LS1hKXt2YXIgbz10aGlzLnRyeUVudHJpZXNbYV0scz1vLmNvbXBsZXRpb247aWYoInJvb3QiPT09by50cnlMb2MpcmV0dXJuIG4oImVuZCIpO2lmKG8udHJ5TG9jPD10aGlzLnByZXYpe3ZhciBmPWkuY2FsbChvLCJjYXRjaExvYyIpLGw9aS5jYWxsKG8sImZpbmFsbHlMb2MiKTtpZihmJiZsKXtpZih0aGlzLnByZXY8by5jYXRjaExvYylyZXR1cm4gbihvLmNhdGNoTG9jLCEwKTtpZih0aGlzLnByZXY8by5maW5hbGx5TG9jKXJldHVybiBuKG8uZmluYWxseUxvYyl9ZWxzZSBpZihmKXtpZih0aGlzLnByZXY8by5jYXRjaExvYylyZXR1cm4gbihvLmNhdGNoTG9jLCEwKX1lbHNle2lmKCFsKXRocm93IG5ldyBFcnJvcigidHJ5IHN0YXRlbWVudCB3aXRob3V0IGNhdGNoIG9yIGZpbmFsbHkiKTtpZih0aGlzLnByZXY8by5maW5hbGx5TG9jKXJldHVybiBuKG8uZmluYWxseUxvYyl9fX19LGFicnVwdDpmdW5jdGlvbihlLHQpe2Zvcih2YXIgcj10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7cj49MDstLXIpe3ZhciBuPXRoaXMudHJ5RW50cmllc1tyXTtpZihuLnRyeUxvYzw9dGhpcy5wcmV2JiZpLmNhbGwobiwiZmluYWxseUxvYyIpJiZ0aGlzLnByZXY8bi5maW5hbGx5TG9jKXt2YXIgYT1uO2JyZWFrfX1hJiYoImJyZWFrIj09PWV8fCJjb250aW51ZSI9PT1lKSYmYS50cnlMb2M8PXQmJnQ8PWEuZmluYWxseUxvYyYmKGE9bnVsbCk7dmFyIG89YT9hLmNvbXBsZXRpb246e307cmV0dXJuIG8udHlwZT1lLG8uYXJnPXQsYT8odGhpcy5tZXRob2Q9Im5leHQiLHRoaXMubmV4dD1hLmZpbmFsbHlMb2Msdik6dGhpcy5jb21wbGV0ZShvKX0sY29tcGxldGU6ZnVuY3Rpb24oZSx0KXtpZigidGhyb3ciPT09ZS50eXBlKXRocm93IGUuYXJnO3JldHVybiJicmVhayI9PT1lLnR5cGV8fCJjb250aW51ZSI9PT1lLnR5cGU/dGhpcy5uZXh0PWUuYXJnOiJyZXR1cm4iPT09ZS50eXBlPyh0aGlzLnJ2YWw9dGhpcy5hcmc9ZS5hcmcsdGhpcy5tZXRob2Q9InJldHVybiIsdGhpcy5uZXh0PSJlbmQiKToibm9ybWFsIj09PWUudHlwZSYmdCYmKHRoaXMubmV4dD10KSx2fSxmaW5pc2g6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXRoaXMudHJ5RW50cmllcy5sZW5ndGgtMTt0Pj0wOy0tdCl7dmFyIHI9dGhpcy50cnlFbnRyaWVzW3RdO2lmKHIuZmluYWxseUxvYz09PWUpcmV0dXJuIHRoaXMuY29tcGxldGUoci5jb21wbGV0aW9uLHIuYWZ0ZXJMb2MpLFMociksdn19LGNhdGNoOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7dD49MDstLXQpe3ZhciByPXRoaXMudHJ5RW50cmllc1t0XTtpZihyLnRyeUxvYz09PWUpe3ZhciBuPXIuY29tcGxldGlvbjtpZigidGhyb3ciPT09bi50eXBlKXt2YXIgaT1uLmFyZztTKHIpfXJldHVybiBpfX10aHJvdyBuZXcgRXJyb3IoImlsbGVnYWwgY2F0Y2ggYXR0ZW1wdCIpfSxkZWxlZ2F0ZVlpZWxkOmZ1bmN0aW9uKGUscixuKXtyZXR1cm4gdGhpcy5kZWxlZ2F0ZT17aXRlcmF0b3I6RChlKSxyZXN1bHROYW1lOnIsbmV4dExvYzpufSwibmV4dCI9PT10aGlzLm1ldGhvZCYmKHRoaXMuYXJnPXQpLHZ9fSxlfShlLmV4cG9ydHMpO3RyeXtyZWdlbmVyYXRvclJ1bnRpbWU9dH1jYXRjaChlKXsib2JqZWN0Ij09PSgidW5kZWZpbmVkIj09dHlwZW9mIGdsb2JhbFRoaXM/InVuZGVmaW5lZCI6cihnbG9iYWxUaGlzKSk/Z2xvYmFsVGhpcy5yZWdlbmVyYXRvclJ1bnRpbWU9dDpGdW5jdGlvbigiciIsInJlZ2VuZXJhdG9yUnVudGltZSA9IHIiKSh0KX19KG4pO3ZhciBpPW4uZXhwb3J0cyxhPW5ldyBNYXA7ZnVuY3Rpb24gbyhlLHQpe0FycmF5LmlzQXJyYXkoZSl8fChlPVtlXSksZS5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gYS5zZXQoZSx0KX0pKX1mdW5jdGlvbiBzKGUpe3JldHVybiBmLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBmKCl7cmV0dXJuKGY9dChpLm1hcmsoKGZ1bmN0aW9uIGUodCl7dmFyIHIsbjtyZXR1cm4gaS53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDppZihyPWEuZ2V0KHQuQ29tcHJlc3Npb24pKXtlLm5leHQ9MzticmVha310aHJvdyBuZXcgRXJyb3IoIlVua25vd24gY29tcHJlc3Npb24gbWV0aG9kIGlkZW50aWZpZXI6ICIuY29uY2F0KHQuQ29tcHJlc3Npb24pKTtjYXNlIDM6cmV0dXJuIGUubmV4dD01LHIoKTtjYXNlIDU6cmV0dXJuIG49ZS5zZW50LGUuYWJydXB0KCJyZXR1cm4iLG5ldyBuKHQpKTtjYXNlIDc6Y2FzZSJlbmQiOnJldHVybiBlLnN0b3AoKX19KSxlKX0pKSkpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1vKFt2b2lkIDAsMV0sKGZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIF99KSkudGhlbigoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZGVmYXVsdH0pKX0pKSxvKDUsKGZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIFN9KSkudGhlbigoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZGVmYXVsdH0pKX0pKSxvKDYsKGZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKCJvbGQgc3R5bGUgSlBFRyBjb21wcmVzc2lvbiBpcyBub3Qgc3VwcG9ydGVkLiIpfSkpLG8oNywoZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gTH0pKS50aGVuKChmdW5jdGlvbihlKXtyZXR1cm4gZS5kZWZhdWx0fSkpfSkpLG8oWzgsMzI5NDZdLChmdW5jdGlvbigpe3JldHVybiBQcm9taXNlLnJlc29sdmUoKS50aGVuKChmdW5jdGlvbigpe3JldHVybiBOZX0pKS50aGVuKChmdW5jdGlvbihlKXtyZXR1cm4gZS5kZWZhdWx0fSkpfSkpLG8oMzI3NzMsKGZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIFllfSkpLnRoZW4oKGZ1bmN0aW9uKGUpe3JldHVybiBlLmRlZmF1bHR9KSl9KSksbygzNDg4NywoZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gdXR9KSkudGhlbigoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZGVmYXVsdH0pKX0pKSxvKDUwMDAxLChmdW5jdGlvbigpe3JldHVybiBQcm9taXNlLnJlc29sdmUoKS50aGVuKChmdW5jdGlvbigpe3JldHVybiBkdH0pKS50aGVuKChmdW5jdGlvbihlKXtyZXR1cm4gZS5kZWZhdWx0fSkpfSkpO3ZhciBsPWdsb2JhbFRoaXM7ZnVuY3Rpb24gdShlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfWZ1bmN0aW9uIGMoZSx0KXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG49dFtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCwidmFsdWUiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG4ua2V5LG4pfX1mdW5jdGlvbiBoKGUsdCxyKXtyZXR1cm4gdCYmYyhlLnByb3RvdHlwZSx0KSxyJiZjKGUsciksZX1mdW5jdGlvbiBkKGUsdCl7cmV0dXJuIGQ9T2JqZWN0LnNldFByb3RvdHlwZU9mfHxmdW5jdGlvbihlLHQpe3JldHVybiBlLl9fcHJvdG9fXz10LGV9LGQoZSx0KX1mdW5jdGlvbiBwKGUsdCl7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uIik7ZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOmUsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLHQmJmQoZSx0KX1mdW5jdGlvbiBtKGUsdCl7aWYodCYmKCJvYmplY3QiPT09cih0KXx8ImZ1bmN0aW9uIj09dHlwZW9mIHQpKXJldHVybiB0O2lmKHZvaWQgMCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcigiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWQiKTtyZXR1cm4gZnVuY3Rpb24oZSl7aWYodm9pZCAwPT09ZSl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoInRoaXMgaGFzblwndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuXCd0IGJlZW4gY2FsbGVkIik7cmV0dXJuIGV9KGUpfWZ1bmN0aW9uIHYoZSl7cmV0dXJuIHY9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZjpmdW5jdGlvbihlKXtyZXR1cm4gZS5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZihlKX0sdihlKX1mdW5jdGlvbiB5KGUsdCl7dmFyIHI9ZS5sZW5ndGgtdCxuPTA7ZG97Zm9yKHZhciBpPXQ7aT4wO2ktLSllW24rdF0rPWVbbl0sbisrO3ItPXR9d2hpbGUocj4wKX1mdW5jdGlvbiB3KGUsdCxyKXtmb3IodmFyIG49MCxpPWUubGVuZ3RoLGE9aS9yO2k+dDspe2Zvcih2YXIgbz10O28+MDstLW8pZVtuK3RdKz1lW25dLCsrbjtpLT10fWZvcih2YXIgcz1lLnNsaWNlKCksZj0wO2Y8YTsrK2YpZm9yKHZhciBsPTA7bDxyOysrbCllW3IqZitsXT1zWyhyLWwtMSkqYStmXX1mdW5jdGlvbiBnKGUsdCxyLG4saSxhKXtpZighdHx8MT09PXQpcmV0dXJuIGU7Zm9yKHZhciBvPTA7bzxpLmxlbmd0aDsrK28pe2lmKGlbb10lOCE9MCl0aHJvdyBuZXcgRXJyb3IoIldoZW4gZGVjb2Rpbmcgd2l0aCBwcmVkaWN0b3IsIG9ubHkgbXVsdGlwbGUgb2YgOCBiaXRzIGFyZSBzdXBwb3J0ZWQuIik7aWYoaVtvXSE9PWlbMF0pdGhyb3cgbmV3IEVycm9yKCJXaGVuIGRlY29kaW5nIHdpdGggcHJlZGljdG9yLCBhbGwgc2FtcGxlcyBtdXN0IGhhdmUgdGhlIHNhbWUgc2l6ZS4iKX1mb3IodmFyIHM9aVswXS84LGY9Mj09PWE/MTppLmxlbmd0aCxsPTA7bDxuJiYhKGwqZipyKnM+PWUuYnl0ZUxlbmd0aCk7KytsKXt2YXIgdT12b2lkIDA7aWYoMj09PXQpe3N3aXRjaChpWzBdKXtjYXNlIDg6dT1uZXcgVWludDhBcnJheShlLGwqZipyKnMsZipyKnMpO2JyZWFrO2Nhc2UgMTY6dT1uZXcgVWludDE2QXJyYXkoZSxsKmYqcipzLGYqcipzLzIpO2JyZWFrO2Nhc2UgMzI6dT1uZXcgVWludDMyQXJyYXkoZSxsKmYqcipzLGYqcipzLzQpO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJQcmVkaWN0b3IgMiBub3QgYWxsb3dlZCB3aXRoICIuY29uY2F0KGlbMF0sIiBiaXRzIHBlciBzYW1wbGUuIikpfXkodSxmKX1lbHNlIDM9PT10JiZ3KHU9bmV3IFVpbnQ4QXJyYXkoZSxsKmYqcipzLGYqcipzKSxmLHMpfXJldHVybiBlfWwuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsZnVuY3Rpb24oKXt2YXIgZT10KGkubWFyaygoZnVuY3Rpb24gZSh0KXt2YXIgcixuLGEsbyxmLHU7cmV0dXJuIGkud3JhcCgoZnVuY3Rpb24oZSl7Zm9yKDs7KXN3aXRjaChlLnByZXY9ZS5uZXh0KXtjYXNlIDA6cmV0dXJuIHI9dC5kYXRhLG49ci5pZCxhPXIuZmlsZURpcmVjdG9yeSxvPXIuYnVmZmVyLGUubmV4dD0zLHMoYSk7Y2FzZSAzOnJldHVybiBmPWUuc2VudCxlLm5leHQ9NixmLmRlY29kZShhLG8pO2Nhc2UgNjp1PWUuc2VudCxsLnBvc3RNZXNzYWdlKHtkZWNvZGVkOnUsaWQ6bn0sW3VdKTtjYXNlIDg6Y2FzZSJlbmQiOnJldHVybiBlLnN0b3AoKX19KSxlKX0pKSk7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19KCkpO3ZhciBiPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3UodGhpcyxlKX12YXIgcjtyZXR1cm4gaChlLFt7a2V5OiJkZWNvZGUiLHZhbHVlOihyPXQoaS5tYXJrKChmdW5jdGlvbiBlKHQscil7dmFyIG4sYSxvLHMsZjtyZXR1cm4gaS53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDpyZXR1cm4gZS5uZXh0PTIsdGhpcy5kZWNvZGVCbG9jayhyKTtjYXNlIDI6aWYobj1lLnNlbnQsMT09PShhPXQuUHJlZGljdG9yfHwxKSl7ZS5uZXh0PTk7YnJlYWt9cmV0dXJuIG89IXQuU3RyaXBPZmZzZXRzLHM9bz90LlRpbGVXaWR0aDp0LkltYWdlV2lkdGgsZj1vP3QuVGlsZUxlbmd0aDp0LlJvd3NQZXJTdHJpcHx8dC5JbWFnZUxlbmd0aCxlLmFicnVwdCgicmV0dXJuIixnKG4sYSxzLGYsdC5CaXRzUGVyU2FtcGxlLHQuUGxhbmFyQ29uZmlndXJhdGlvbikpO2Nhc2UgOTpyZXR1cm4gZS5hYnJ1cHQoInJldHVybiIsbik7Y2FzZSAxMDpjYXNlImVuZCI6cmV0dXJuIGUuc3RvcCgpfX0pLGUsdGhpcyl9KSkpLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHIuYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9XSksZX0oKTtmdW5jdGlvbiBrKGUpe3ZhciB0PWZ1bmN0aW9uKCl7aWYoInVuZGVmaW5lZCI9PXR5cGVvZiBSZWZsZWN0fHwhUmVmbGVjdC5jb25zdHJ1Y3QpcmV0dXJuITE7aWYoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZigiZnVuY3Rpb24iPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKGUpe3JldHVybiExfX0oKTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgcixuPXYoZSk7aWYodCl7dmFyIGk9dih0aGlzKS5jb25zdHJ1Y3RvcjtyPVJlZmxlY3QuY29uc3RydWN0KG4sYXJndW1lbnRzLGkpfWVsc2Ugcj1uLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gbSh0aGlzLHIpfX12YXIgeD1mdW5jdGlvbihlKXtwKHIsYik7dmFyIHQ9ayhyKTtmdW5jdGlvbiByKCl7cmV0dXJuIHUodGhpcyxyKSx0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX1yZXR1cm4gaChyLFt7a2V5OiJkZWNvZGVCbG9jayIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGV9fV0pLHJ9KCksXz1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxkZWZhdWx0Onh9KTtmdW5jdGlvbiBBKGUpe3ZhciB0PWZ1bmN0aW9uKCl7aWYoInVuZGVmaW5lZCI9PXR5cGVvZiBSZWZsZWN0fHwhUmVmbGVjdC5jb25zdHJ1Y3QpcmV0dXJuITE7aWYoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZigiZnVuY3Rpb24iPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKGUpe3JldHVybiExfX0oKTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgcixuPXYoZSk7aWYodCl7dmFyIGk9dih0aGlzKS5jb25zdHJ1Y3RvcjtyPVJlZmxlY3QuY29uc3RydWN0KG4sYXJndW1lbnRzLGkpfWVsc2Ugcj1uLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gbSh0aGlzLHIpfX1mdW5jdGlvbiBQKGUsdCl7Zm9yKHZhciByPXQubGVuZ3RoLTE7cj49MDtyLS0pZS5wdXNoKHRbcl0pO3JldHVybiBlfWZ1bmN0aW9uIEkoZSl7Zm9yKHZhciB0PW5ldyBVaW50MTZBcnJheSg0MDkzKSxyPW5ldyBVaW50OEFycmF5KDQwOTMpLG49MDtuPD0yNTc7bisrKXRbbl09NDA5NixyW25dPW47dmFyIGk9MjU4LGE9OSxvPTA7ZnVuY3Rpb24gcygpe2k9MjU4LGE9OX1mdW5jdGlvbiBmKGUpe3ZhciB0PWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10JTgsaT1NYXRoLmZsb29yKHQvOCksYT04LW4sbz10K3ItOCooaSsxKSxzPTgqKGkrMiktKHQrciksZj04KihpKzIpLXQ7aWYocz1NYXRoLm1heCgwLHMpLGk+PWUubGVuZ3RoKXJldHVybiBjb25zb2xlLndhcm4oInJhbiBvZmYgdGhlIGVuZCBvZiB0aGUgYnVmZmVyIGJlZm9yZSBmaW5kaW5nIEVPSV9DT0RFIChlbmQgb24gaW5wdXQgY29kZSkiKSwyNTc7dmFyIGw9ZVtpXSZNYXRoLnBvdygyLDgtbiktMSx1PWw8PD1yLWE7aWYoaSsxPGUubGVuZ3RoKXt2YXIgYz1lW2krMV0+Pj5zO3UrPWM8PD1NYXRoLm1heCgwLHItZil9aWYobz44JiZpKzI8ZS5sZW5ndGgpe3ZhciBoPTgqKGkrMyktKHQrcik7dSs9ZVtpKzJdPj4+aH1yZXR1cm4gdX0oZSxvLGEpO3JldHVybiBvKz1hLHR9ZnVuY3Rpb24gbChlLG4pe3JldHVybiByW2ldPW4sdFtpXT1lLCsraS0xfWZ1bmN0aW9uIHUoZSl7Zm9yKHZhciBuPVtdLGk9ZTs0MDk2IT09aTtpPXRbaV0pbi5wdXNoKHJbaV0pO3JldHVybiBufXZhciBjPVtdO3MoKTtmb3IodmFyIGgsZD1uZXcgVWludDhBcnJheShlKSxwPWYoZCk7MjU3IT09cDspe2lmKDI1Nj09PXApe2ZvcihzKCkscD1mKGQpOzI1Nj09PXA7KXA9ZihkKTtpZigyNTc9PT1wKWJyZWFrO2lmKHA+MjU2KXRocm93IG5ldyBFcnJvcigiY29ycnVwdGVkIGNvZGUgYXQgc2NhbmxpbmUgIi5jb25jYXQocCkpO1AoYyx1KHApKSxoPXB9ZWxzZSBpZihwPGkpe3ZhciBtPXUocCk7UChjLG0pLGwoaCxtW20ubGVuZ3RoLTFdKSxoPXB9ZWxzZXt2YXIgdj11KGgpO2lmKCF2KXRocm93IG5ldyBFcnJvcigiQm9ndXMgZW50cnkuIE5vdCBpbiBkaWN0aW9uYXJ5LCAiLmNvbmNhdChoLCIgLyAiKS5jb25jYXQoaSwiLCBwb3NpdGlvbjogIikuY29uY2F0KG8pKTtQKGMsdiksYy5wdXNoKHZbdi5sZW5ndGgtMV0pLGwoaCx2W3YubGVuZ3RoLTFdKSxoPXB9aSsxPj1NYXRoLnBvdygyLGEpJiYoMTI9PT1hP2g9dm9pZCAwOmErKykscD1mKGQpfXJldHVybiBuZXcgVWludDhBcnJheShjKX12YXIgVT1mdW5jdGlvbihlKXtwKHIsYik7dmFyIHQ9QShyKTtmdW5jdGlvbiByKCl7cmV0dXJuIHUodGhpcyxyKSx0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX1yZXR1cm4gaChyLFt7a2V5OiJkZWNvZGVCbG9jayIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIEkoZSkuYnVmZmVyfX1dKSxyfSgpLFM9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsZGVmYXVsdDpVfSk7ZnVuY3Rpb24gVChlKXt2YXIgdD1mdW5jdGlvbigpe2lmKCJ1bmRlZmluZWQiPT10eXBlb2YgUmVmbGVjdHx8IVJlZmxlY3QuY29uc3RydWN0KXJldHVybiExO2lmKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pcmV0dXJuITE7aWYoImZ1bmN0aW9uIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaChlKXtyZXR1cm4hMX19KCk7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIHIsbj12KGUpO2lmKHQpe3ZhciBpPXYodGhpcykuY29uc3RydWN0b3I7cj1SZWZsZWN0LmNvbnN0cnVjdChuLGFyZ3VtZW50cyxpKX1lbHNlIHI9bi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIG0odGhpcyxyKX19dmFyIEQ9bmV3IEludDMyQXJyYXkoWzAsMSw4LDE2LDksMiwzLDEwLDE3LDI0LDMyLDI1LDE4LDExLDQsNSwxMiwxOSwyNiwzMyw0MCw0OCw0MSwzNCwyNywyMCwxMyw2LDcsMTQsMjEsMjgsMzUsNDIsNDksNTYsNTcsNTAsNDMsMzYsMjksMjIsMTUsMjMsMzAsMzcsNDQsNTEsNTgsNTksNTIsNDUsMzgsMzEsMzksNDYsNTMsNjAsNjEsNTQsNDcsNTUsNjIsNjNdKTtmdW5jdGlvbiBFKGUsdCl7Zm9yKHZhciByPTAsbj1bXSxpPTE2O2k+MCYmIWVbaS0xXTspLS1pO24ucHVzaCh7Y2hpbGRyZW46W10saW5kZXg6MH0pO2Zvcih2YXIgYSxvPW5bMF0scz0wO3M8aTtzKyspe2Zvcih2YXIgZj0wO2Y8ZVtzXTtmKyspe2Zvcigobz1uLnBvcCgpKS5jaGlsZHJlbltvLmluZGV4XT10W3JdO28uaW5kZXg+MDspbz1uLnBvcCgpO2ZvcihvLmluZGV4Kyssbi5wdXNoKG8pO24ubGVuZ3RoPD1zOyluLnB1c2goYT17Y2hpbGRyZW46W10saW5kZXg6MH0pLG8uY2hpbGRyZW5bby5pbmRleF09YS5jaGlsZHJlbixvPWE7cisrfXMrMTxpJiYobi5wdXNoKGE9e2NoaWxkcmVuOltdLGluZGV4OjB9KSxvLmNoaWxkcmVuW28uaW5kZXhdPWEuY2hpbGRyZW4sbz1hKX1yZXR1cm4gblswXS5jaGlsZHJlbn1mdW5jdGlvbiBCKGUsdCxuLGksYSxvLHMsZixsKXt2YXIgdT1uLm1jdXNQZXJMaW5lLGM9bi5wcm9ncmVzc2l2ZSxoPXQsZD10LHA9MCxtPTA7ZnVuY3Rpb24gdigpe2lmKG0+MClyZXR1cm4gbS0tLHA+Pm0mMTtpZigyNTU9PT0ocD1lW2QrK10pKXt2YXIgdD1lW2QrK107aWYodCl0aHJvdyBuZXcgRXJyb3IoInVuZXhwZWN0ZWQgbWFya2VyOiAiLmNvbmNhdCgocDw8OHx0KS50b1N0cmluZygxNikpKX1yZXR1cm4gbT03LHA+Pj43fWZ1bmN0aW9uIHkoZSl7Zm9yKHZhciB0LG49ZTtudWxsIT09KHQ9digpKTspe2lmKCJudW1iZXIiPT10eXBlb2Yobj1uW3RdKSlyZXR1cm4gbjtpZigib2JqZWN0IiE9PXIobikpdGhyb3cgbmV3IEVycm9yKCJpbnZhbGlkIGh1ZmZtYW4gc2VxdWVuY2UiKX1yZXR1cm4gbnVsbH1mdW5jdGlvbiB3KGUpe2Zvcih2YXIgdD1lLHI9MDt0PjA7KXt2YXIgbj12KCk7aWYobnVsbD09PW4pcmV0dXJuO3I9cjw8MXxuLC0tdH1yZXR1cm4gcn1mdW5jdGlvbiBnKGUpe3ZhciB0PXcoZSk7cmV0dXJuIHQ+PTE8PGUtMT90OnQrKC0xPDxlKSsxfXZhciBiPTA7dmFyIGsseD0wO2Z1bmN0aW9uIF8oZSx0LHIsbixpKXt2YXIgYT1yJXUsbz0oci91fDApKmUudituLHM9YSplLmgraTt0KGUsZS5ibG9ja3Nbb11bc10pfWZ1bmN0aW9uIEEoZSx0LHIpe3ZhciBuPXIvZS5ibG9ja3NQZXJMaW5lfDAsaT1yJWUuYmxvY2tzUGVyTGluZTt0KGUsZS5ibG9ja3Nbbl1baV0pfXZhciBQLEksVSxTLFQsRSxCPWkubGVuZ3RoO0U9Yz8wPT09bz8wPT09Zj9mdW5jdGlvbihlLHQpe3ZhciByPXkoZS5odWZmbWFuVGFibGVEQyksbj0wPT09cj8wOmcocik8PGw7ZS5wcmVkKz1uLHRbMF09ZS5wcmVkfTpmdW5jdGlvbihlLHQpe3RbMF18PXYoKTw8bH06MD09PWY/ZnVuY3Rpb24oZSx0KXtpZihiPjApYi0tO2Vsc2UgZm9yKHZhciByPW8sbj1zO3I8PW47KXt2YXIgaT15KGUuaHVmZm1hblRhYmxlQUMpLGE9MTUmaSxmPWk+PjQ7aWYoMD09PWEpe2lmKGY8MTUpe2I9dyhmKSsoMTw8ZiktMTticmVha31yKz0xNn1lbHNlIHRbRFtyKz1mXV09ZyhhKSooMTw8bCkscisrfX06ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9byxuPXMsaT0wO3I8PW47KXt2YXIgYT1EW3JdLGY9dFthXTwwPy0xOjE7c3dpdGNoKHgpe2Nhc2UgMDp2YXIgdT15KGUuaHVmZm1hblRhYmxlQUMpLGM9MTUmdTtpZihpPXU+PjQsMD09PWMpaTwxNT8oYj13KGkpKygxPDxpKSx4PTQpOihpPTE2LHg9MSk7ZWxzZXtpZigxIT09Yyl0aHJvdyBuZXcgRXJyb3IoImludmFsaWQgQUNuIGVuY29kaW5nIik7az1nKGMpLHg9aT8yOjN9Y29udGludWU7Y2FzZSAxOmNhc2UgMjp0W2FdP3RbYV0rPSh2KCk8PGwpKmY6MD09LS1pJiYoeD0yPT09eD8zOjApO2JyZWFrO2Nhc2UgMzp0W2FdP3RbYV0rPSh2KCk8PGwpKmY6KHRbYV09azw8bCx4PTApO2JyZWFrO2Nhc2UgNDp0W2FdJiYodFthXSs9KHYoKTw8bCkqZil9cisrfTQ9PT14JiYwPT0tLWImJih4PTApfTpmdW5jdGlvbihlLHQpe3ZhciByPXkoZS5odWZmbWFuVGFibGVEQyksbj0wPT09cj8wOmcocik7ZS5wcmVkKz1uLHRbMF09ZS5wcmVkO2Zvcih2YXIgaT0xO2k8NjQ7KXt2YXIgYT15KGUuaHVmZm1hblRhYmxlQUMpLG89MTUmYSxzPWE+PjQ7aWYoMD09PW8pe2lmKHM8MTUpYnJlYWs7aSs9MTZ9ZWxzZSB0W0RbaSs9c11dPWcobyksaSsrfX07dmFyIE8sTSxDPTA7TT0xPT09Qj9pWzBdLmJsb2Nrc1BlckxpbmUqaVswXS5ibG9ja3NQZXJDb2x1bW46dSpuLm1jdXNQZXJDb2x1bW47Zm9yKHZhciBMPWF8fE07QzxNOyl7Zm9yKEk9MDtJPEI7SSsrKWlbSV0ucHJlZD0wO2lmKGI9MCwxPT09Qilmb3IoUD1pWzBdLFQ9MDtUPEw7VCsrKUEoUCxFLEMpLEMrKztlbHNlIGZvcihUPTA7VDxMO1QrKyl7Zm9yKEk9MDtJPEI7SSsrKXt2YXIgUj1QPWlbSV0sVj1SLmgsRz1SLnY7Zm9yKFU9MDtVPEc7VSsrKWZvcihTPTA7UzxWO1MrKylfKFAsRSxDLFUsUyl9aWYoKytDPT09TSlicmVha31pZihtPTAsKE89ZVtkXTw8OHxlW2QrMV0pPDY1MjgwKXRocm93IG5ldyBFcnJvcigibWFya2VyIHdhcyBub3QgZm91bmQiKTtpZighKE8+PTY1NDg4JiZPPD02NTQ5NSkpYnJlYWs7ZCs9Mn1yZXR1cm4gZC1ofWZ1bmN0aW9uIE8oZSx0KXt2YXIgcj1bXSxuPXQuYmxvY2tzUGVyTGluZSxpPXQuYmxvY2tzUGVyQ29sdW1uLGE9bjw8MyxvPW5ldyBJbnQzMkFycmF5KDY0KSxzPW5ldyBVaW50OEFycmF5KDY0KTtmdW5jdGlvbiBmKGUscixuKXt2YXIgaSxhLG8scyxmLGwsdSxjLGgsZCxwPXQucXVhbnRpemF0aW9uVGFibGUsbT1uO2ZvcihkPTA7ZDw2NDtkKyspbVtkXT1lW2RdKnBbZF07Zm9yKGQ9MDtkPDg7KytkKXt2YXIgdj04KmQ7MCE9PW1bMSt2XXx8MCE9PW1bMit2XXx8MCE9PW1bMyt2XXx8MCE9PW1bNCt2XXx8MCE9PW1bNSt2XXx8MCE9PW1bNit2XXx8MCE9PW1bNyt2XT8oaT01NzkzKm1bMCt2XSsxMjg+PjgsYT01NzkzKm1bNCt2XSsxMjg+Pjgsbz1tWzIrdl0scz1tWzYrdl0sZj0yODk2KihtWzErdl0tbVs3K3ZdKSsxMjg+PjgsYz0yODk2KihtWzErdl0rbVs3K3ZdKSsxMjg+PjgsbD1tWzMrdl08PDQsaD1pLWErMT4+MSxpPWkrYSsxPj4xLGE9aCxoPTM3ODQqbysxNTY3KnMrMTI4Pj44LG89MTU2NypvLTM3ODQqcysxMjg+Pjgscz1oLGg9Zi0odT1tWzUrdl08PDQpKzE+PjEsZj1mK3UrMT4+MSx1PWgsaD1jK2wrMT4+MSxsPWMtbCsxPj4xLGM9aCxoPWktcysxPj4xLGk9aStzKzE+PjEscz1oLGg9YS1vKzE+PjEsYT1hK28rMT4+MSxvPWgsaD0yMjc2KmYrMzQwNipjKzIwNDg+PjEyLGY9MzQwNipmLTIyNzYqYysyMDQ4Pj4xMixjPWgsaD03OTkqbCs0MDE3KnUrMjA0OD4+MTIsbD00MDE3KmwtNzk5KnUrMjA0OD4+MTIsdT1oLG1bMCt2XT1pK2MsbVs3K3ZdPWktYyxtWzErdl09YSt1LG1bNit2XT1hLXUsbVsyK3ZdPW8rbCxtWzUrdl09by1sLG1bMyt2XT1zK2YsbVs0K3ZdPXMtZik6KGg9NTc5MyptWzArdl0rNTEyPj4xMCxtWzArdl09aCxtWzErdl09aCxtWzIrdl09aCxtWzMrdl09aCxtWzQrdl09aCxtWzUrdl09aCxtWzYrdl09aCxtWzcrdl09aCl9Zm9yKGQ9MDtkPDg7KytkKXt2YXIgeT1kOzAhPT1tWzgreV18fDAhPT1tWzE2K3ldfHwwIT09bVsyNCt5XXx8MCE9PW1bMzIreV18fDAhPT1tWzQwK3ldfHwwIT09bVs0OCt5XXx8MCE9PW1bNTYreV0/KGk9NTc5MyptWzAreV0rMjA0OD4+MTIsYT01NzkzKm1bMzIreV0rMjA0OD4+MTIsbz1tWzE2K3ldLHM9bVs0OCt5XSxmPTI4OTYqKG1bOCt5XS1tWzU2K3ldKSsyMDQ4Pj4xMixjPTI4OTYqKG1bOCt5XSttWzU2K3ldKSsyMDQ4Pj4xMixsPW1bMjQreV0saD1pLWErMT4+MSxpPWkrYSsxPj4xLGE9aCxoPTM3ODQqbysxNTY3KnMrMjA0OD4+MTIsbz0xNTY3Km8tMzc4NCpzKzIwNDg+PjEyLHM9aCxoPWYtKHU9bVs0MCt5XSkrMT4+MSxmPWYrdSsxPj4xLHU9aCxoPWMrbCsxPj4xLGw9Yy1sKzE+PjEsYz1oLGg9aS1zKzE+PjEsaT1pK3MrMT4+MSxzPWgsaD1hLW8rMT4+MSxhPWErbysxPj4xLG89aCxoPTIyNzYqZiszNDA2KmMrMjA0OD4+MTIsZj0zNDA2KmYtMjI3NipjKzIwNDg+PjEyLGM9aCxoPTc5OSpsKzQwMTcqdSsyMDQ4Pj4xMixsPTQwMTcqbC03OTkqdSsyMDQ4Pj4xMix1PWgsbVswK3ldPWkrYyxtWzU2K3ldPWktYyxtWzgreV09YSt1LG1bNDgreV09YS11LG1bMTYreV09bytsLG1bNDAreV09by1sLG1bMjQreV09cytmLG1bMzIreV09cy1mKTooaD01NzkzKm5bZCswXSs4MTkyPj4xNCxtWzAreV09aCxtWzgreV09aCxtWzE2K3ldPWgsbVsyNCt5XT1oLG1bMzIreV09aCxtWzQwK3ldPWgsbVs0OCt5XT1oLG1bNTYreV09aCl9Zm9yKGQ9MDtkPDY0OysrZCl7dmFyIHc9MTI4KyhtW2RdKzg+PjQpO3JbZF09dzwwPzA6dz4yNTU/MjU1Ond9fWZvcih2YXIgbD0wO2w8aTtsKyspe2Zvcih2YXIgdT1sPDwzLGM9MDtjPDg7YysrKXIucHVzaChuZXcgVWludDhBcnJheShhKSk7Zm9yKHZhciBoPTA7aDxuO2grKyl7Zih0LmJsb2Nrc1tsXVtoXSxzLG8pO2Zvcih2YXIgZD0wLHA9aDw8MyxtPTA7bTw4O20rKylmb3IodmFyIHY9clt1K21dLHk9MDt5PDg7eSsrKXZbcCt5XT1zW2QrK119fXJldHVybiByfXZhciBNPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3UodGhpcyxlKSx0aGlzLmpmaWY9bnVsbCx0aGlzLmFkb2JlPW51bGwsdGhpcy5xdWFudGl6YXRpb25UYWJsZXM9W10sdGhpcy5odWZmbWFuVGFibGVzQUM9W10sdGhpcy5odWZmbWFuVGFibGVzREM9W10sdGhpcy5yZXNldEZyYW1lcygpfXJldHVybiBoKGUsW3trZXk6InJlc2V0RnJhbWVzIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuZnJhbWVzPVtdfX0se2tleToicGFyc2UiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PTA7ZnVuY3Rpb24gcigpe3ZhciByPWVbdF08PDh8ZVt0KzFdO3JldHVybiB0Kz0yLHJ9ZnVuY3Rpb24gbihlKXt2YXIgdCxyLG49MCxpPTA7Zm9yKHIgaW4gZS5jb21wb25lbnRzKWUuY29tcG9uZW50cy5oYXNPd25Qcm9wZXJ0eShyKSYmKG48KHQ9ZS5jb21wb25lbnRzW3JdKS5oJiYobj10LmgpLGk8dC52JiYoaT10LnYpKTt2YXIgYT1NYXRoLmNlaWwoZS5zYW1wbGVzUGVyTGluZS84L24pLG89TWF0aC5jZWlsKGUuc2NhbkxpbmVzLzgvaSk7Zm9yKHIgaW4gZS5jb21wb25lbnRzKWlmKGUuY29tcG9uZW50cy5oYXNPd25Qcm9wZXJ0eShyKSl7dD1lLmNvbXBvbmVudHNbcl07Zm9yKHZhciBzPU1hdGguY2VpbChNYXRoLmNlaWwoZS5zYW1wbGVzUGVyTGluZS84KSp0LmgvbiksZj1NYXRoLmNlaWwoTWF0aC5jZWlsKGUuc2NhbkxpbmVzLzgpKnQudi9pKSxsPWEqdC5oLHU9byp0LnYsYz1bXSxoPTA7aDx1O2grKyl7Zm9yKHZhciBkPVtdLHA9MDtwPGw7cCsrKWQucHVzaChuZXcgSW50MzJBcnJheSg2NCkpO2MucHVzaChkKX10LmJsb2Nrc1BlckxpbmU9cyx0LmJsb2Nrc1BlckNvbHVtbj1mLHQuYmxvY2tzPWN9ZS5tYXhIPW4sZS5tYXhWPWksZS5tY3VzUGVyTGluZT1hLGUubWN1c1BlckNvbHVtbj1vfXZhciBpLGEsbz1yKCk7aWYoNjU0OTYhPT1vKXRocm93IG5ldyBFcnJvcigiU09JIG5vdCBmb3VuZCIpO2ZvcihvPXIoKTs2NTQ5NyE9PW87KXtzd2l0Y2gobyl7Y2FzZSA2NTI4MDpicmVhaztjYXNlIDY1NTA0OmNhc2UgNjU1MDU6Y2FzZSA2NTUwNjpjYXNlIDY1NTA3OmNhc2UgNjU1MDg6Y2FzZSA2NTUwOTpjYXNlIDY1NTEwOmNhc2UgNjU1MTE6Y2FzZSA2NTUxMjpjYXNlIDY1NTEzOmNhc2UgNjU1MTQ6Y2FzZSA2NTUxNTpjYXNlIDY1NTE2OmNhc2UgNjU1MTc6Y2FzZSA2NTUxODpjYXNlIDY1NTE5OmNhc2UgNjU1MzQ6dmFyIHM9KGk9dm9pZCAwLGE9dm9pZCAwLGk9cigpLGE9ZS5zdWJhcnJheSh0LHQraS0yKSx0Kz1hLmxlbmd0aCxhKTs2NTUwND09PW8mJjc0PT09c1swXSYmNzA9PT1zWzFdJiY3Mz09PXNbMl0mJjcwPT09c1szXSYmMD09PXNbNF0mJih0aGlzLmpmaWY9e3ZlcnNpb246e21ham9yOnNbNV0sbWlub3I6c1s2XX0sZGVuc2l0eVVuaXRzOnNbN10seERlbnNpdHk6c1s4XTw8OHxzWzldLHlEZW5zaXR5OnNbMTBdPDw4fHNbMTFdLHRodW1iV2lkdGg6c1sxMl0sdGh1bWJIZWlnaHQ6c1sxM10sdGh1bWJEYXRhOnMuc3ViYXJyYXkoMTQsMTQrMypzWzEyXSpzWzEzXSl9KSw2NTUxOD09PW8mJjY1PT09c1swXSYmMTAwPT09c1sxXSYmMTExPT09c1syXSYmOTg9PT1zWzNdJiYxMDE9PT1zWzRdJiYwPT09c1s1XSYmKHRoaXMuYWRvYmU9e3ZlcnNpb246c1s2XSxmbGFnczA6c1s3XTw8OHxzWzhdLGZsYWdzMTpzWzldPDw4fHNbMTBdLHRyYW5zZm9ybUNvZGU6c1sxMV19KTticmVhaztjYXNlIDY1NDk5OmZvcih2YXIgZj1yKCkrdC0yO3Q8Zjspe3ZhciBsPWVbdCsrXSx1PW5ldyBJbnQzMkFycmF5KDY0KTtpZihsPj40PT0wKWZvcih2YXIgYz0wO2M8NjQ7YysrKXt1W0RbY11dPWVbdCsrXX1lbHNle2lmKGw+PjQhPTEpdGhyb3cgbmV3IEVycm9yKCJEUVQ6IGludmFsaWQgdGFibGUgc3BlYyIpO2Zvcih2YXIgaD0wO2g8NjQ7aCsrKXt1W0RbaF1dPXIoKX19dGhpcy5xdWFudGl6YXRpb25UYWJsZXNbMTUmbF09dX1icmVhaztjYXNlIDY1NDcyOmNhc2UgNjU0NzM6Y2FzZSA2NTQ3NDpyKCk7Zm9yKHZhciBkPXtleHRlbmRlZDo2NTQ3Mz09PW8scHJvZ3Jlc3NpdmU6NjU0NzQ9PT1vLHByZWNpc2lvbjplW3QrK10sc2NhbkxpbmVzOnIoKSxzYW1wbGVzUGVyTGluZTpyKCksY29tcG9uZW50czp7fSxjb21wb25lbnRzT3JkZXI6W119LHA9ZVt0KytdLG09dm9pZCAwLHY9MDt2PHA7disrKXttPWVbdF07dmFyIHk9ZVt0KzFdPj40LHc9MTUmZVt0KzFdLGc9ZVt0KzJdO2QuY29tcG9uZW50c09yZGVyLnB1c2gobSksZC5jb21wb25lbnRzW21dPXtoOnksdjp3LHF1YW50aXphdGlvbklkeDpnfSx0Kz0zfW4oZCksdGhpcy5mcmFtZXMucHVzaChkKTticmVhaztjYXNlIDY1NDc2OmZvcih2YXIgYj1yKCksaz0yO2s8Yjspe2Zvcih2YXIgeD1lW3QrK10sXz1uZXcgVWludDhBcnJheSgxNiksQT0wLFA9MDtQPDE2O1ArKyx0KyspX1tQXT1lW3RdLEErPV9bUF07Zm9yKHZhciBJPW5ldyBVaW50OEFycmF5KEEpLFU9MDtVPEE7VSsrLHQrKylJW1VdPWVbdF07ays9MTcrQSx4Pj40PT0wP3RoaXMuaHVmZm1hblRhYmxlc0RDWzE1JnhdPUUoXyxJKTp0aGlzLmh1ZmZtYW5UYWJsZXNBQ1sxNSZ4XT1FKF8sSSl9YnJlYWs7Y2FzZSA2NTUwMTpyKCksdGhpcy5yZXNldEludGVydmFsPXIoKTticmVhaztjYXNlIDY1NDk4OnIoKTtmb3IodmFyIFM9ZVt0KytdLFQ9W10sTz10aGlzLmZyYW1lc1swXSxNPTA7TTxTO00rKyl7dmFyIEM9Ty5jb21wb25lbnRzW2VbdCsrXV0sTD1lW3QrK107Qy5odWZmbWFuVGFibGVEQz10aGlzLmh1ZmZtYW5UYWJsZXNEQ1tMPj40XSxDLmh1ZmZtYW5UYWJsZUFDPXRoaXMuaHVmZm1hblRhYmxlc0FDWzE1JkxdLFQucHVzaChDKX12YXIgUj1lW3QrK10sVj1lW3QrK10sRz1lW3QrK10sRj1CKGUsdCxPLFQsdGhpcy5yZXNldEludGVydmFsLFIsVixHPj40LDE1JkcpO3QrPUY7YnJlYWs7Y2FzZSA2NTUzNToyNTUhPT1lW3RdJiZ0LS07YnJlYWs7ZGVmYXVsdDppZigyNTU9PT1lW3QtM10mJmVbdC0yXT49MTkyJiZlW3QtMl08PTI1NCl7dC09MzticmVha310aHJvdyBuZXcgRXJyb3IoInVua25vd24gSlBFRyBtYXJrZXIgIi5jb25jYXQoby50b1N0cmluZygxNikpKX1vPXIoKX19fSx7a2V5OiJnZXRSZXN1bHQiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5mcmFtZXM7aWYoMD09PXRoaXMuZnJhbWVzLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoIm5vIGZyYW1lcyB3ZXJlIGRlY29kZWQiKTt0aGlzLmZyYW1lcy5sZW5ndGg+MSYmY29uc29sZS53YXJuKCJtb3JlIHRoYW4gb25lIGZyYW1lIGlzIG5vdCBzdXBwb3J0ZWQiKTtmb3IodmFyIHQ9MDt0PHRoaXMuZnJhbWVzLmxlbmd0aDt0KyspZm9yKHZhciByPXRoaXMuZnJhbWVzW3RdLmNvbXBvbmVudHMsbj0wLGk9T2JqZWN0LmtleXMocik7bjxpLmxlbmd0aDtuKyspe3ZhciBhPWlbbl07clthXS5xdWFudGl6YXRpb25UYWJsZT10aGlzLnF1YW50aXphdGlvblRhYmxlc1tyW2FdLnF1YW50aXphdGlvbklkeF0sZGVsZXRlIHJbYV0ucXVhbnRpemF0aW9uSWR4fWZvcih2YXIgbz1lWzBdLHM9by5jb21wb25lbnRzLGY9by5jb21wb25lbnRzT3JkZXIsbD1bXSx1PW8uc2FtcGxlc1BlckxpbmUsYz1vLnNjYW5MaW5lcyxoPTA7aDxmLmxlbmd0aDtoKyspe3ZhciBkPXNbZltoXV07bC5wdXNoKHtsaW5lczpPKDAsZCksc2NhbGVYOmQuaC9vLm1heEgsc2NhbGVZOmQudi9vLm1heFZ9KX1mb3IodmFyIHA9bmV3IFVpbnQ4QXJyYXkodSpjKmwubGVuZ3RoKSxtPTAsdj0wO3Y8YzsrK3YpZm9yKHZhciB5PTA7eTx1OysreSlmb3IodmFyIHc9MDt3PGwubGVuZ3RoOysrdyl7dmFyIGc9bFt3XTtwW21dPWcubGluZXNbMHx2Kmcuc2NhbGVZXVswfHkqZy5zY2FsZVhdLCsrbX1yZXR1cm4gcH19XSksZX0oKSxDPWZ1bmN0aW9uKGUpe3AocixiKTt2YXIgdD1UKHIpO2Z1bmN0aW9uIHIoZSl7dmFyIG47cmV0dXJuIHUodGhpcyxyKSwobj10LmNhbGwodGhpcykpLnJlYWRlcj1uZXcgTSxlLkpQRUdUYWJsZXMmJm4ucmVhZGVyLnBhcnNlKGUuSlBFR1RhYmxlcyksbn1yZXR1cm4gaChyLFt7a2V5OiJkZWNvZGVCbG9jayIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucmVhZGVyLnJlc2V0RnJhbWVzKCksdGhpcy5yZWFkZXIucGFyc2UobmV3IFVpbnQ4QXJyYXkoZSkpLHRoaXMucmVhZGVyLmdldFJlc3VsdCgpLmJ1ZmZlcn19XSkscn0oKSxMPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLGRlZmF1bHQ6Q30pO2Z1bmN0aW9uIFIoZSl7Zm9yKHZhciB0PWUubGVuZ3RoOy0tdD49MDspZVt0XT0wfVIobmV3IEFycmF5KDU3NikpLFIobmV3IEFycmF5KDYwKSksUihuZXcgQXJyYXkoNTEyKSksUihuZXcgQXJyYXkoMjU2KSksUihuZXcgQXJyYXkoMjkpKSxSKG5ldyBBcnJheSgzMCkpO3ZhciBWPWZ1bmN0aW9uKGUsdCxyLG4pe2Zvcih2YXIgaT02NTUzNSZlfDAsYT1lPj4+MTYmNjU1MzV8MCxvPTA7MCE9PXI7KXtyLT1vPXI+MmUzPzJlMzpyO2Rve2E9YSsoaT1pK3RbbisrXXwwKXwwfXdoaWxlKC0tbyk7aSU9NjU1MjEsYSU9NjU1MjF9cmV0dXJuIGl8YTw8MTZ8MH0sRz1uZXcgVWludDMyQXJyYXkoZnVuY3Rpb24oKXtmb3IodmFyIGUsdD1bXSxyPTA7cjwyNTY7cisrKXtlPXI7Zm9yKHZhciBuPTA7bjw4O24rKyllPTEmZT8zOTg4MjkyMzg0XmU+Pj4xOmU+Pj4xO3Rbcl09ZX1yZXR1cm4gdH0oKSksRj1mdW5jdGlvbihlLHQscixuKXt2YXIgaT1HLGE9bityO2VePS0xO2Zvcih2YXIgbz1uO288YTtvKyspZT1lPj4+OF5pWzI1NSYoZV50W29dKV07cmV0dXJuLTFeZX0sej17MjoibmVlZCBkaWN0aW9uYXJ5IiwxOiJzdHJlYW0gZW5kIiwwOiIiLCItMSI6ImZpbGUgZXJyb3IiLCItMiI6InN0cmVhbSBlcnJvciIsIi0zIjoiZGF0YSBlcnJvciIsIi00IjoiaW5zdWZmaWNpZW50IG1lbW9yeSIsIi01IjoiYnVmZmVyIGVycm9yIiwiLTYiOiJpbmNvbXBhdGlibGUgdmVyc2lvbiJ9LGo9e1pfTk9fRkxVU0g6MCxaX1BBUlRJQUxfRkxVU0g6MSxaX1NZTkNfRkxVU0g6MixaX0ZVTExfRkxVU0g6MyxaX0ZJTklTSDo0LFpfQkxPQ0s6NSxaX1RSRUVTOjYsWl9PSzowLFpfU1RSRUFNX0VORDoxLFpfTkVFRF9ESUNUOjIsWl9FUlJOTzotMSxaX1NUUkVBTV9FUlJPUjotMixaX0RBVEFfRVJST1I6LTMsWl9NRU1fRVJST1I6LTQsWl9CVUZfRVJST1I6LTUsWl9OT19DT01QUkVTU0lPTjowLFpfQkVTVF9TUEVFRDoxLFpfQkVTVF9DT01QUkVTU0lPTjo5LFpfREVGQVVMVF9DT01QUkVTU0lPTjotMSxaX0ZJTFRFUkVEOjEsWl9IVUZGTUFOX09OTFk6MixaX1JMRTozLFpfRklYRUQ6NCxaX0RFRkFVTFRfU1RSQVRFR1k6MCxaX0JJTkFSWTowLFpfVEVYVDoxLFpfVU5LTk9XTjoyLFpfREVGTEFURUQ6OH0sTj1mdW5jdGlvbihlLHQpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSx0KX0sWj1mdW5jdGlvbihlKXtmb3IodmFyIHQ9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpO3QubGVuZ3RoOyl7dmFyIG49dC5zaGlmdCgpO2lmKG4pe2lmKCJvYmplY3QiIT09cihuKSl0aHJvdyBuZXcgVHlwZUVycm9yKG4rIm11c3QgYmUgbm9uLW9iamVjdCIpO2Zvcih2YXIgaSBpbiBuKU4obixpKSYmKGVbaV09bltpXSl9fXJldHVybiBlfSxLPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wLHI9MCxuPWUubGVuZ3RoO3I8bjtyKyspdCs9ZVtyXS5sZW5ndGg7Zm9yKHZhciBpPW5ldyBVaW50OEFycmF5KHQpLGE9MCxvPTAscz1lLmxlbmd0aDthPHM7YSsrKXt2YXIgZj1lW2FdO2kuc2V0KGYsbyksbys9Zi5sZW5ndGh9cmV0dXJuIGl9LEg9ITA7dHJ5e1N0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCxuZXcgVWludDhBcnJheSgxKSl9Y2F0Y2goZSl7SD0hMX1mb3IodmFyIFk9bmV3IFVpbnQ4QXJyYXkoMjU2KSxYPTA7WDwyNTY7WCsrKVlbWF09WD49MjUyPzY6WD49MjQ4PzU6WD49MjQwPzQ6WD49MjI0PzM6WD49MTkyPzI6MTtZWzI1NF09WVsyNTRdPTE7dmFyIFc9ZnVuY3Rpb24oZSl7aWYoImZ1bmN0aW9uIj09dHlwZW9mIFRleHRFbmNvZGVyJiZUZXh0RW5jb2Rlci5wcm90b3R5cGUuZW5jb2RlKXJldHVybihuZXcgVGV4dEVuY29kZXIpLmVuY29kZShlKTt2YXIgdCxyLG4saSxhLG89ZS5sZW5ndGgscz0wO2ZvcihpPTA7aTxvO2krKyk1NTI5Nj09KDY0NTEyJihyPWUuY2hhckNvZGVBdChpKSkpJiZpKzE8byYmNTYzMjA9PSg2NDUxMiYobj1lLmNoYXJDb2RlQXQoaSsxKSkpJiYocj02NTUzNisoci01NTI5Njw8MTApKyhuLTU2MzIwKSxpKyspLHMrPXI8MTI4PzE6cjwyMDQ4PzI6cjw2NTUzNj8zOjQ7Zm9yKHQ9bmV3IFVpbnQ4QXJyYXkocyksYT0wLGk9MDthPHM7aSsrKTU1Mjk2PT0oNjQ1MTImKHI9ZS5jaGFyQ29kZUF0KGkpKSkmJmkrMTxvJiY1NjMyMD09KDY0NTEyJihuPWUuY2hhckNvZGVBdChpKzEpKSkmJihyPTY1NTM2KyhyLTU1Mjk2PDwxMCkrKG4tNTYzMjApLGkrKykscjwxMjg/dFthKytdPXI6cjwyMDQ4Pyh0W2ErK109MTkyfHI+Pj42LHRbYSsrXT0xMjh8NjMmcik6cjw2NTUzNj8odFthKytdPTIyNHxyPj4+MTIsdFthKytdPTEyOHxyPj4+NiY2Myx0W2ErK109MTI4fDYzJnIpOih0W2ErK109MjQwfHI+Pj4xOCx0W2ErK109MTI4fHI+Pj4xMiY2Myx0W2ErK109MTI4fHI+Pj42JjYzLHRbYSsrXT0xMjh8NjMmcik7cmV0dXJuIHR9LHE9ZnVuY3Rpb24oZSx0KXt2YXIgcixuLGk9dHx8ZS5sZW5ndGg7aWYoImZ1bmN0aW9uIj09dHlwZW9mIFRleHREZWNvZGVyJiZUZXh0RGVjb2Rlci5wcm90b3R5cGUuZGVjb2RlKXJldHVybihuZXcgVGV4dERlY29kZXIpLmRlY29kZShlLnN1YmFycmF5KDAsdCkpO3ZhciBhPW5ldyBBcnJheSgyKmkpO2ZvcihuPTAscj0wO3I8aTspe3ZhciBvPWVbcisrXTtpZihvPDEyOClhW24rK109bztlbHNle3ZhciBzPVlbb107aWYocz40KWFbbisrXT02NTUzMyxyKz1zLTE7ZWxzZXtmb3IobyY9Mj09PXM/MzE6Mz09PXM/MTU6NztzPjEmJnI8aTspbz1vPDw2fDYzJmVbcisrXSxzLS07cz4xP2FbbisrXT02NTUzMzpvPDY1NTM2P2FbbisrXT1vOihvLT02NTUzNixhW24rK109NTUyOTZ8bz4+MTAmMTAyMyxhW24rK109NTYzMjB8MTAyMyZvKX19fXJldHVybiBmdW5jdGlvbihlLHQpe2lmKHQ8NjU1MzQmJmUuc3ViYXJyYXkmJkgpcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCxlLmxlbmd0aD09PXQ/ZTplLnN1YmFycmF5KDAsdCkpO2Zvcih2YXIgcj0iIixuPTA7bjx0O24rKylyKz1TdHJpbmcuZnJvbUNoYXJDb2RlKGVbbl0pO3JldHVybiByfShhLG4pfSxKPWZ1bmN0aW9uKGUsdCl7KHQ9dHx8ZS5sZW5ndGgpPmUubGVuZ3RoJiYodD1lLmxlbmd0aCk7Zm9yKHZhciByPXQtMTtyPj0wJiYxMjg9PSgxOTImZVtyXSk7KXItLTtyZXR1cm4gcjwwfHwwPT09cj90OnIrWVtlW3JdXT50P3I6dH07dmFyIFE9ZnVuY3Rpb24oKXt0aGlzLmlucHV0PW51bGwsdGhpcy5uZXh0X2luPTAsdGhpcy5hdmFpbF9pbj0wLHRoaXMudG90YWxfaW49MCx0aGlzLm91dHB1dD1udWxsLHRoaXMubmV4dF9vdXQ9MCx0aGlzLmF2YWlsX291dD0wLHRoaXMudG90YWxfb3V0PTAsdGhpcy5tc2c9IiIsdGhpcy5zdGF0ZT1udWxsLHRoaXMuZGF0YV90eXBlPTIsdGhpcy5hZGxlcj0wfSwkPWZ1bmN0aW9uKGUsdCl7dmFyIHIsbixpLGEsbyxzLGYsbCx1LGMsaCxkLHAsbSx2LHksdyxnLGIsayx4LF8sQSxQLEk9ZS5zdGF0ZTtyPWUubmV4dF9pbixBPWUuaW5wdXQsbj1yKyhlLmF2YWlsX2luLTUpLGk9ZS5uZXh0X291dCxQPWUub3V0cHV0LGE9aS0odC1lLmF2YWlsX291dCksbz1pKyhlLmF2YWlsX291dC0yNTcpLHM9SS5kbWF4LGY9SS53c2l6ZSxsPUkud2hhdmUsdT1JLnduZXh0LGM9SS53aW5kb3csaD1JLmhvbGQsZD1JLmJpdHMscD1JLmxlbmNvZGUsbT1JLmRpc3Rjb2RlLHY9KDE8PEkubGVuYml0cyktMSx5PSgxPDxJLmRpc3RiaXRzKS0xO2U6ZG97ZDwxNSYmKGgrPUFbcisrXTw8ZCxkKz04LGgrPUFbcisrXTw8ZCxkKz04KSx3PXBbaCZ2XTt0OmZvcig7Oyl7aWYoaD4+Pj1nPXc+Pj4yNCxkLT1nLDA9PT0oZz13Pj4+MTYmMjU1KSlQW2krK109NjU1MzUmdztlbHNle2lmKCEoMTYmZykpe2lmKDA9PSg2NCZnKSl7dz1wWyg2NTUzNSZ3KSsoaCYoMTw8ZyktMSldO2NvbnRpbnVlIHR9aWYoMzImZyl7SS5tb2RlPTEyO2JyZWFrIGV9ZS5tc2c9ImludmFsaWQgbGl0ZXJhbC9sZW5ndGggY29kZSIsSS5tb2RlPTMwO2JyZWFrIGV9Yj02NTUzNSZ3LChnJj0xNSkmJihkPGcmJihoKz1BW3IrK108PGQsZCs9OCksYis9aCYoMTw8ZyktMSxoPj4+PWcsZC09ZyksZDwxNSYmKGgrPUFbcisrXTw8ZCxkKz04LGgrPUFbcisrXTw8ZCxkKz04KSx3PW1baCZ5XTtyOmZvcig7Oyl7aWYoaD4+Pj1nPXc+Pj4yNCxkLT1nLCEoMTYmKGc9dz4+PjE2JjI1NSkpKXtpZigwPT0oNjQmZykpe3c9bVsoNjU1MzUmdykrKGgmKDE8PGcpLTEpXTtjb250aW51ZSByfWUubXNnPSJpbnZhbGlkIGRpc3RhbmNlIGNvZGUiLEkubW9kZT0zMDticmVhayBlfWlmKGs9NjU1MzUmdyxkPChnJj0xNSkmJihoKz1BW3IrK108PGQsKGQrPTgpPGcmJihoKz1BW3IrK108PGQsZCs9OCkpLChrKz1oJigxPDxnKS0xKT5zKXtlLm1zZz0iaW52YWxpZCBkaXN0YW5jZSB0b28gZmFyIGJhY2siLEkubW9kZT0zMDticmVhayBlfWlmKGg+Pj49ZyxkLT1nLGs+KGc9aS1hKSl7aWYoKGc9ay1nKT5sJiZJLnNhbmUpe2UubXNnPSJpbnZhbGlkIGRpc3RhbmNlIHRvbyBmYXIgYmFjayIsSS5tb2RlPTMwO2JyZWFrIGV9aWYoeD0wLF89YywwPT09dSl7aWYoeCs9Zi1nLGc8Yil7Yi09Zztkb3tQW2krK109Y1t4KytdfXdoaWxlKC0tZyk7eD1pLWssXz1QfX1lbHNlIGlmKHU8Zyl7aWYoeCs9Zit1LWcsKGctPXUpPGIpe2ItPWc7ZG97UFtpKytdPWNbeCsrXX13aGlsZSgtLWcpO2lmKHg9MCx1PGIpe2ItPWc9dTtkb3tQW2krK109Y1t4KytdfXdoaWxlKC0tZyk7eD1pLWssXz1QfX19ZWxzZSBpZih4Kz11LWcsZzxiKXtiLT1nO2Rve1BbaSsrXT1jW3grK119d2hpbGUoLS1nKTt4PWktayxfPVB9Zm9yKDtiPjI7KVBbaSsrXT1fW3grK10sUFtpKytdPV9beCsrXSxQW2krK109X1t4KytdLGItPTM7YiYmKFBbaSsrXT1fW3grK10sYj4xJiYoUFtpKytdPV9beCsrXSkpfWVsc2V7eD1pLWs7ZG97UFtpKytdPVBbeCsrXSxQW2krK109UFt4KytdLFBbaSsrXT1QW3grK10sYi09M313aGlsZShiPjIpO2ImJihQW2krK109UFt4KytdLGI+MSYmKFBbaSsrXT1QW3grK10pKX1icmVha319YnJlYWt9fXdoaWxlKHI8biYmaTxvKTtyLT1iPWQ+PjMsaCY9KDE8PChkLT1iPDwzKSktMSxlLm5leHRfaW49cixlLm5leHRfb3V0PWksZS5hdmFpbF9pbj1yPG4/bi1yKzU6NS0oci1uKSxlLmF2YWlsX291dD1pPG8/by1pKzI1NzoyNTctKGktbyksSS5ob2xkPWgsSS5iaXRzPWR9LGVlPW5ldyBVaW50MTZBcnJheShbMyw0LDUsNiw3LDgsOSwxMCwxMSwxMywxNSwxNywxOSwyMywyNywzMSwzNSw0Myw1MSw1OSw2Nyw4Myw5OSwxMTUsMTMxLDE2MywxOTUsMjI3LDI1OCwwLDBdKSx0ZT1uZXcgVWludDhBcnJheShbMTYsMTYsMTYsMTYsMTYsMTYsMTYsMTYsMTcsMTcsMTcsMTcsMTgsMTgsMTgsMTgsMTksMTksMTksMTksMjAsMjAsMjAsMjAsMjEsMjEsMjEsMjEsMTYsNzIsNzhdKSxyZT1uZXcgVWludDE2QXJyYXkoWzEsMiwzLDQsNSw3LDksMTMsMTcsMjUsMzMsNDksNjUsOTcsMTI5LDE5MywyNTcsMzg1LDUxMyw3NjksMTAyNSwxNTM3LDIwNDksMzA3Myw0MDk3LDYxNDUsODE5MywxMjI4OSwxNjM4NSwyNDU3NywwLDBdKSxuZT1uZXcgVWludDhBcnJheShbMTYsMTYsMTYsMTYsMTcsMTcsMTgsMTgsMTksMTksMjAsMjAsMjEsMjEsMjIsMjIsMjMsMjMsMjQsMjQsMjUsMjUsMjYsMjYsMjcsMjcsMjgsMjgsMjksMjksNjQsNjRdKSxpZT1mdW5jdGlvbihlLHQscixuLGksYSxvLHMpe3ZhciBmLGwsdSxjLGgsZCxwLG0sdix5PXMuYml0cyx3PTAsZz0wLGI9MCxrPTAseD0wLF89MCxBPTAsUD0wLEk9MCxVPTAsUz1udWxsLFQ9MCxEPW5ldyBVaW50MTZBcnJheSgxNiksRT1uZXcgVWludDE2QXJyYXkoMTYpLEI9bnVsbCxPPTA7Zm9yKHc9MDt3PD0xNTt3KyspRFt3XT0wO2ZvcihnPTA7ZzxuO2crKylEW3RbcitnXV0rKztmb3IoeD15LGs9MTU7az49MSYmMD09PURba107ay0tKTtpZih4PmsmJih4PWspLDA9PT1rKXJldHVybiBpW2ErK109MjA5NzE1MjAsaVthKytdPTIwOTcxNTIwLHMuYml0cz0xLDA7Zm9yKGI9MTtiPGsmJjA9PT1EW2JdO2IrKyk7Zm9yKHg8YiYmKHg9YiksUD0xLHc9MTt3PD0xNTt3KyspaWYoUDw8PTEsKFAtPURbd10pPDApcmV0dXJuLTE7aWYoUD4wJiYoMD09PWV8fDEhPT1rKSlyZXR1cm4tMTtmb3IoRVsxXT0wLHc9MTt3PDE1O3crKylFW3crMV09RVt3XStEW3ddO2ZvcihnPTA7ZzxuO2crKykwIT09dFtyK2ddJiYob1tFW3RbcitnXV0rK109Zyk7aWYoMD09PWU/KFM9Qj1vLGQ9MTkpOjE9PT1lPyhTPWVlLFQtPTI1NyxCPXRlLE8tPTI1NyxkPTI1Nik6KFM9cmUsQj1uZSxkPS0xKSxVPTAsZz0wLHc9YixoPWEsXz14LEE9MCx1PS0xLGM9KEk9MTw8eCktMSwxPT09ZSYmST44NTJ8fDI9PT1lJiZJPjU5MilyZXR1cm4gMTtmb3IoOzspe3A9dy1BLG9bZ108ZD8obT0wLHY9b1tnXSk6b1tnXT5kPyhtPUJbTytvW2ddXSx2PVNbVCtvW2ddXSk6KG09OTYsdj0wKSxmPTE8PHctQSxiPWw9MTw8Xztkb3tpW2grKFU+PkEpKyhsLT1mKV09cDw8MjR8bTw8MTZ8dnwwfXdoaWxlKDAhPT1sKTtmb3IoZj0xPDx3LTE7VSZmOylmPj49MTtpZigwIT09Zj8oVSY9Zi0xLFUrPWYpOlU9MCxnKyssMD09LS1EW3ddKXtpZih3PT09aylicmVhazt3PXRbcitvW2ddXX1pZih3PngmJihVJmMpIT09dSl7Zm9yKDA9PT1BJiYoQT14KSxoKz1iLFA9MTw8KF89dy1BKTtfK0E8ayYmISgoUC09RFtfK0FdKTw9MCk7KV8rKyxQPDw9MTtpZihJKz0xPDxfLDE9PT1lJiZJPjg1Mnx8Mj09PWUmJkk+NTkyKXJldHVybiAxO2lbdT1VJmNdPXg8PDI0fF88PDE2fGgtYXwwfX1yZXR1cm4gMCE9PVUmJihpW2grVV09dy1BPDwyNHw2NDw8MTZ8MCkscy5iaXRzPXgsMH0sYWU9ai5aX0ZJTklTSCxvZT1qLlpfQkxPQ0ssc2U9ai5aX1RSRUVTLGZlPWouWl9PSyxsZT1qLlpfU1RSRUFNX0VORCx1ZT1qLlpfTkVFRF9ESUNULGNlPWouWl9TVFJFQU1fRVJST1IsaGU9ai5aX0RBVEFfRVJST1IsZGU9ai5aX01FTV9FUlJPUixwZT1qLlpfQlVGX0VSUk9SLG1lPWouWl9ERUZMQVRFRCx2ZT1mdW5jdGlvbihlKXtyZXR1cm4oZT4+PjI0JjI1NSkrKGU+Pj44JjY1MjgwKSsoKDY1MjgwJmUpPDw4KSsoKDI1NSZlKTw8MjQpfTtmdW5jdGlvbiB5ZSgpe3RoaXMubW9kZT0wLHRoaXMubGFzdD0hMSx0aGlzLndyYXA9MCx0aGlzLmhhdmVkaWN0PSExLHRoaXMuZmxhZ3M9MCx0aGlzLmRtYXg9MCx0aGlzLmNoZWNrPTAsdGhpcy50b3RhbD0wLHRoaXMuaGVhZD1udWxsLHRoaXMud2JpdHM9MCx0aGlzLndzaXplPTAsdGhpcy53aGF2ZT0wLHRoaXMud25leHQ9MCx0aGlzLndpbmRvdz1udWxsLHRoaXMuaG9sZD0wLHRoaXMuYml0cz0wLHRoaXMubGVuZ3RoPTAsdGhpcy5vZmZzZXQ9MCx0aGlzLmV4dHJhPTAsdGhpcy5sZW5jb2RlPW51bGwsdGhpcy5kaXN0Y29kZT1udWxsLHRoaXMubGVuYml0cz0wLHRoaXMuZGlzdGJpdHM9MCx0aGlzLm5jb2RlPTAsdGhpcy5ubGVuPTAsdGhpcy5uZGlzdD0wLHRoaXMuaGF2ZT0wLHRoaXMubmV4dD1udWxsLHRoaXMubGVucz1uZXcgVWludDE2QXJyYXkoMzIwKSx0aGlzLndvcms9bmV3IFVpbnQxNkFycmF5KDI4OCksdGhpcy5sZW5keW49bnVsbCx0aGlzLmRpc3RkeW49bnVsbCx0aGlzLnNhbmU9MCx0aGlzLmJhY2s9MCx0aGlzLndhcz0wfXZhciB3ZSxnZSxiZT1mdW5jdGlvbihlKXtpZighZXx8IWUuc3RhdGUpcmV0dXJuIGNlO3ZhciB0PWUuc3RhdGU7cmV0dXJuIGUudG90YWxfaW49ZS50b3RhbF9vdXQ9dC50b3RhbD0wLGUubXNnPSIiLHQud3JhcCYmKGUuYWRsZXI9MSZ0LndyYXApLHQubW9kZT0xLHQubGFzdD0wLHQuaGF2ZWRpY3Q9MCx0LmRtYXg9MzI3NjgsdC5oZWFkPW51bGwsdC5ob2xkPTAsdC5iaXRzPTAsdC5sZW5jb2RlPXQubGVuZHluPW5ldyBJbnQzMkFycmF5KDg1MiksdC5kaXN0Y29kZT10LmRpc3RkeW49bmV3IEludDMyQXJyYXkoNTkyKSx0LnNhbmU9MSx0LmJhY2s9LTEsZmV9LGtlPWZ1bmN0aW9uKGUpe2lmKCFlfHwhZS5zdGF0ZSlyZXR1cm4gY2U7dmFyIHQ9ZS5zdGF0ZTtyZXR1cm4gdC53c2l6ZT0wLHQud2hhdmU9MCx0LnduZXh0PTAsYmUoZSl9LHhlPWZ1bmN0aW9uKGUsdCl7dmFyIHI7aWYoIWV8fCFlLnN0YXRlKXJldHVybiBjZTt2YXIgbj1lLnN0YXRlO3JldHVybiB0PDA/KHI9MCx0PS10KToocj0xKyh0Pj40KSx0PDQ4JiYodCY9MTUpKSx0JiYodDw4fHx0PjE1KT9jZToobnVsbCE9PW4ud2luZG93JiZuLndiaXRzIT09dCYmKG4ud2luZG93PW51bGwpLG4ud3JhcD1yLG4ud2JpdHM9dCxrZShlKSl9LF9lPWZ1bmN0aW9uKGUsdCl7aWYoIWUpcmV0dXJuIGNlO3ZhciByPW5ldyB5ZTtlLnN0YXRlPXIsci53aW5kb3c9bnVsbDt2YXIgbj14ZShlLHQpO3JldHVybiBuIT09ZmUmJihlLnN0YXRlPW51bGwpLG59LEFlPSEwLFBlPWZ1bmN0aW9uKGUpe2lmKEFlKXt3ZT1uZXcgSW50MzJBcnJheSg1MTIpLGdlPW5ldyBJbnQzMkFycmF5KDMyKTtmb3IodmFyIHQ9MDt0PDE0NDspZS5sZW5zW3QrK109ODtmb3IoO3Q8MjU2OyllLmxlbnNbdCsrXT05O2Zvcig7dDwyODA7KWUubGVuc1t0KytdPTc7Zm9yKDt0PDI4ODspZS5sZW5zW3QrK109ODtmb3IoaWUoMSxlLmxlbnMsMCwyODgsd2UsMCxlLndvcmsse2JpdHM6OX0pLHQ9MDt0PDMyOyllLmxlbnNbdCsrXT01O2llKDIsZS5sZW5zLDAsMzIsZ2UsMCxlLndvcmsse2JpdHM6NX0pLEFlPSExfWUubGVuY29kZT13ZSxlLmxlbmJpdHM9OSxlLmRpc3Rjb2RlPWdlLGUuZGlzdGJpdHM9NX0sSWU9ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGksYT1lLnN0YXRlO3JldHVybiBudWxsPT09YS53aW5kb3cmJihhLndzaXplPTE8PGEud2JpdHMsYS53bmV4dD0wLGEud2hhdmU9MCxhLndpbmRvdz1uZXcgVWludDhBcnJheShhLndzaXplKSksbj49YS53c2l6ZT8oYS53aW5kb3cuc2V0KHQuc3ViYXJyYXkoci1hLndzaXplLHIpLDApLGEud25leHQ9MCxhLndoYXZlPWEud3NpemUpOigoaT1hLndzaXplLWEud25leHQpPm4mJihpPW4pLGEud2luZG93LnNldCh0LnN1YmFycmF5KHItbixyLW4raSksYS53bmV4dCksKG4tPWkpPyhhLndpbmRvdy5zZXQodC5zdWJhcnJheShyLW4sciksMCksYS53bmV4dD1uLGEud2hhdmU9YS53c2l6ZSk6KGEud25leHQrPWksYS53bmV4dD09PWEud3NpemUmJihhLnduZXh0PTApLGEud2hhdmU8YS53c2l6ZSYmKGEud2hhdmUrPWkpKSksMH0sVWU9e2luZmxhdGVSZXNldDprZSxpbmZsYXRlUmVzZXQyOnhlLGluZmxhdGVSZXNldEtlZXA6YmUsaW5mbGF0ZUluaXQ6ZnVuY3Rpb24oZSl7cmV0dXJuIF9lKGUsMTUpfSxpbmZsYXRlSW5pdDI6X2UsaW5mbGF0ZTpmdW5jdGlvbihlLHQpe3ZhciByLG4saSxhLG8scyxmLGwsdSxjLGgsZCxwLG0sdix5LHcsZyxiLGsseCxfLEEsUCxJPTAsVT1uZXcgVWludDhBcnJheSg0KSxTPW5ldyBVaW50OEFycmF5KFsxNiwxNywxOCwwLDgsNyw5LDYsMTAsNSwxMSw0LDEyLDMsMTMsMiwxNCwxLDE1XSk7aWYoIWV8fCFlLnN0YXRlfHwhZS5vdXRwdXR8fCFlLmlucHV0JiYwIT09ZS5hdmFpbF9pbilyZXR1cm4gY2U7MTI9PT0ocj1lLnN0YXRlKS5tb2RlJiYoci5tb2RlPTEzKSxvPWUubmV4dF9vdXQsaT1lLm91dHB1dCxmPWUuYXZhaWxfb3V0LGE9ZS5uZXh0X2luLG49ZS5pbnB1dCxzPWUuYXZhaWxfaW4sbD1yLmhvbGQsdT1yLmJpdHMsYz1zLGg9ZixfPWZlO2U6Zm9yKDs7KXN3aXRjaChyLm1vZGUpe2Nhc2UgMTppZigwPT09ci53cmFwKXtyLm1vZGU9MTM7YnJlYWt9Zm9yKDt1PDE2Oyl7aWYoMD09PXMpYnJlYWsgZTtzLS0sbCs9blthKytdPDx1LHUrPTh9aWYoMiZyLndyYXAmJjM1NjE1PT09bCl7ci5jaGVjaz0wLFVbMF09MjU1JmwsVVsxXT1sPj4+OCYyNTUsci5jaGVjaz1GKHIuY2hlY2ssVSwyLDApLGw9MCx1PTAsci5tb2RlPTI7YnJlYWt9aWYoci5mbGFncz0wLHIuaGVhZCYmKHIuaGVhZC5kb25lPSExKSwhKDEmci53cmFwKXx8KCgoMjU1JmwpPDw4KSsobD4+OCkpJTMxKXtlLm1zZz0iaW5jb3JyZWN0IGhlYWRlciBjaGVjayIsci5tb2RlPTMwO2JyZWFrfWlmKCgxNSZsKSE9PW1lKXtlLm1zZz0idW5rbm93biBjb21wcmVzc2lvbiBtZXRob2QiLHIubW9kZT0zMDticmVha31pZih1LT00LHg9OCsoMTUmKGw+Pj49NCkpLDA9PT1yLndiaXRzKXIud2JpdHM9eDtlbHNlIGlmKHg+ci53Yml0cyl7ZS5tc2c9ImludmFsaWQgd2luZG93IHNpemUiLHIubW9kZT0zMDticmVha31yLmRtYXg9MTw8ci53Yml0cyxlLmFkbGVyPXIuY2hlY2s9MSxyLm1vZGU9NTEyJmw/MTA6MTIsbD0wLHU9MDticmVhaztjYXNlIDI6Zm9yKDt1PDE2Oyl7aWYoMD09PXMpYnJlYWsgZTtzLS0sbCs9blthKytdPDx1LHUrPTh9aWYoci5mbGFncz1sLCgyNTUmci5mbGFncykhPT1tZSl7ZS5tc2c9InVua25vd24gY29tcHJlc3Npb24gbWV0aG9kIixyLm1vZGU9MzA7YnJlYWt9aWYoNTczNDQmci5mbGFncyl7ZS5tc2c9InVua25vd24gaGVhZGVyIGZsYWdzIHNldCIsci5tb2RlPTMwO2JyZWFrfXIuaGVhZCYmKHIuaGVhZC50ZXh0PWw+PjgmMSksNTEyJnIuZmxhZ3MmJihVWzBdPTI1NSZsLFVbMV09bD4+PjgmMjU1LHIuY2hlY2s9RihyLmNoZWNrLFUsMiwwKSksbD0wLHU9MCxyLm1vZGU9MztjYXNlIDM6Zm9yKDt1PDMyOyl7aWYoMD09PXMpYnJlYWsgZTtzLS0sbCs9blthKytdPDx1LHUrPTh9ci5oZWFkJiYoci5oZWFkLnRpbWU9bCksNTEyJnIuZmxhZ3MmJihVWzBdPTI1NSZsLFVbMV09bD4+PjgmMjU1LFVbMl09bD4+PjE2JjI1NSxVWzNdPWw+Pj4yNCYyNTUsci5jaGVjaz1GKHIuY2hlY2ssVSw0LDApKSxsPTAsdT0wLHIubW9kZT00O2Nhc2UgNDpmb3IoO3U8MTY7KXtpZigwPT09cylicmVhayBlO3MtLSxsKz1uW2ErK108PHUsdSs9OH1yLmhlYWQmJihyLmhlYWQueGZsYWdzPTI1NSZsLHIuaGVhZC5vcz1sPj44KSw1MTImci5mbGFncyYmKFVbMF09MjU1JmwsVVsxXT1sPj4+OCYyNTUsci5jaGVjaz1GKHIuY2hlY2ssVSwyLDApKSxsPTAsdT0wLHIubW9kZT01O2Nhc2UgNTppZigxMDI0JnIuZmxhZ3Mpe2Zvcig7dTwxNjspe2lmKDA9PT1zKWJyZWFrIGU7cy0tLGwrPW5bYSsrXTw8dSx1Kz04fXIubGVuZ3RoPWwsci5oZWFkJiYoci5oZWFkLmV4dHJhX2xlbj1sKSw1MTImci5mbGFncyYmKFVbMF09MjU1JmwsVVsxXT1sPj4+OCYyNTUsci5jaGVjaz1GKHIuY2hlY2ssVSwyLDApKSxsPTAsdT0wfWVsc2Ugci5oZWFkJiYoci5oZWFkLmV4dHJhPW51bGwpO3IubW9kZT02O2Nhc2UgNjppZigxMDI0JnIuZmxhZ3MmJigoZD1yLmxlbmd0aCk+cyYmKGQ9cyksZCYmKHIuaGVhZCYmKHg9ci5oZWFkLmV4dHJhX2xlbi1yLmxlbmd0aCxyLmhlYWQuZXh0cmF8fChyLmhlYWQuZXh0cmE9bmV3IFVpbnQ4QXJyYXkoci5oZWFkLmV4dHJhX2xlbikpLHIuaGVhZC5leHRyYS5zZXQobi5zdWJhcnJheShhLGErZCkseCkpLDUxMiZyLmZsYWdzJiYoci5jaGVjaz1GKHIuY2hlY2ssbixkLGEpKSxzLT1kLGErPWQsci5sZW5ndGgtPWQpLHIubGVuZ3RoKSlicmVhayBlO3IubGVuZ3RoPTAsci5tb2RlPTc7Y2FzZSA3OmlmKDIwNDgmci5mbGFncyl7aWYoMD09PXMpYnJlYWsgZTtkPTA7ZG97eD1uW2ErZCsrXSxyLmhlYWQmJngmJnIubGVuZ3RoPDY1NTM2JiYoci5oZWFkLm5hbWUrPVN0cmluZy5mcm9tQ2hhckNvZGUoeCkpfXdoaWxlKHgmJmQ8cyk7aWYoNTEyJnIuZmxhZ3MmJihyLmNoZWNrPUYoci5jaGVjayxuLGQsYSkpLHMtPWQsYSs9ZCx4KWJyZWFrIGV9ZWxzZSByLmhlYWQmJihyLmhlYWQubmFtZT1udWxsKTtyLmxlbmd0aD0wLHIubW9kZT04O2Nhc2UgODppZig0MDk2JnIuZmxhZ3Mpe2lmKDA9PT1zKWJyZWFrIGU7ZD0wO2Rve3g9blthK2QrK10sci5oZWFkJiZ4JiZyLmxlbmd0aDw2NTUzNiYmKHIuaGVhZC5jb21tZW50Kz1TdHJpbmcuZnJvbUNoYXJDb2RlKHgpKX13aGlsZSh4JiZkPHMpO2lmKDUxMiZyLmZsYWdzJiYoci5jaGVjaz1GKHIuY2hlY2ssbixkLGEpKSxzLT1kLGErPWQseClicmVhayBlfWVsc2Ugci5oZWFkJiYoci5oZWFkLmNvbW1lbnQ9bnVsbCk7ci5tb2RlPTk7Y2FzZSA5OmlmKDUxMiZyLmZsYWdzKXtmb3IoO3U8MTY7KXtpZigwPT09cylicmVhayBlO3MtLSxsKz1uW2ErK108PHUsdSs9OH1pZihsIT09KDY1NTM1JnIuY2hlY2spKXtlLm1zZz0iaGVhZGVyIGNyYyBtaXNtYXRjaCIsci5tb2RlPTMwO2JyZWFrfWw9MCx1PTB9ci5oZWFkJiYoci5oZWFkLmhjcmM9ci5mbGFncz4+OSYxLHIuaGVhZC5kb25lPSEwKSxlLmFkbGVyPXIuY2hlY2s9MCxyLm1vZGU9MTI7YnJlYWs7Y2FzZSAxMDpmb3IoO3U8MzI7KXtpZigwPT09cylicmVhayBlO3MtLSxsKz1uW2ErK108PHUsdSs9OH1lLmFkbGVyPXIuY2hlY2s9dmUobCksbD0wLHU9MCxyLm1vZGU9MTE7Y2FzZSAxMTppZigwPT09ci5oYXZlZGljdClyZXR1cm4gZS5uZXh0X291dD1vLGUuYXZhaWxfb3V0PWYsZS5uZXh0X2luPWEsZS5hdmFpbF9pbj1zLHIuaG9sZD1sLHIuYml0cz11LHVlO2UuYWRsZXI9ci5jaGVjaz0xLHIubW9kZT0xMjtjYXNlIDEyOmlmKHQ9PT1vZXx8dD09PXNlKWJyZWFrIGU7Y2FzZSAxMzppZihyLmxhc3Qpe2w+Pj49NyZ1LHUtPTcmdSxyLm1vZGU9Mjc7YnJlYWt9Zm9yKDt1PDM7KXtpZigwPT09cylicmVhayBlO3MtLSxsKz1uW2ErK108PHUsdSs9OH1zd2l0Y2goci5sYXN0PTEmbCx1LT0xLDMmKGw+Pj49MSkpe2Nhc2UgMDpyLm1vZGU9MTQ7YnJlYWs7Y2FzZSAxOmlmKFBlKHIpLHIubW9kZT0yMCx0PT09c2Upe2w+Pj49Mix1LT0yO2JyZWFrIGV9YnJlYWs7Y2FzZSAyOnIubW9kZT0xNzticmVhaztjYXNlIDM6ZS5tc2c9ImludmFsaWQgYmxvY2sgdHlwZSIsci5tb2RlPTMwfWw+Pj49Mix1LT0yO2JyZWFrO2Nhc2UgMTQ6Zm9yKGw+Pj49NyZ1LHUtPTcmdTt1PDMyOyl7aWYoMD09PXMpYnJlYWsgZTtzLS0sbCs9blthKytdPDx1LHUrPTh9aWYoKDY1NTM1JmwpIT0obD4+PjE2XjY1NTM1KSl7ZS5tc2c9ImludmFsaWQgc3RvcmVkIGJsb2NrIGxlbmd0aHMiLHIubW9kZT0zMDticmVha31pZihyLmxlbmd0aD02NTUzNSZsLGw9MCx1PTAsci5tb2RlPTE1LHQ9PT1zZSlicmVhayBlO2Nhc2UgMTU6ci5tb2RlPTE2O2Nhc2UgMTY6aWYoZD1yLmxlbmd0aCl7aWYoZD5zJiYoZD1zKSxkPmYmJihkPWYpLDA9PT1kKWJyZWFrIGU7aS5zZXQobi5zdWJhcnJheShhLGErZCksbykscy09ZCxhKz1kLGYtPWQsbys9ZCxyLmxlbmd0aC09ZDticmVha31yLm1vZGU9MTI7YnJlYWs7Y2FzZSAxNzpmb3IoO3U8MTQ7KXtpZigwPT09cylicmVhayBlO3MtLSxsKz1uW2ErK108PHUsdSs9OH1pZihyLm5sZW49MjU3KygzMSZsKSxsPj4+PTUsdS09NSxyLm5kaXN0PTErKDMxJmwpLGw+Pj49NSx1LT01LHIubmNvZGU9NCsoMTUmbCksbD4+Pj00LHUtPTQsci5ubGVuPjI4Nnx8ci5uZGlzdD4zMCl7ZS5tc2c9InRvbyBtYW55IGxlbmd0aCBvciBkaXN0YW5jZSBzeW1ib2xzIixyLm1vZGU9MzA7YnJlYWt9ci5oYXZlPTAsci5tb2RlPTE4O2Nhc2UgMTg6Zm9yKDtyLmhhdmU8ci5uY29kZTspe2Zvcig7dTwzOyl7aWYoMD09PXMpYnJlYWsgZTtzLS0sbCs9blthKytdPDx1LHUrPTh9ci5sZW5zW1Nbci5oYXZlKytdXT03JmwsbD4+Pj0zLHUtPTN9Zm9yKDtyLmhhdmU8MTk7KXIubGVuc1tTW3IuaGF2ZSsrXV09MDtpZihyLmxlbmNvZGU9ci5sZW5keW4sci5sZW5iaXRzPTcsQT17Yml0czpyLmxlbmJpdHN9LF89aWUoMCxyLmxlbnMsMCwxOSxyLmxlbmNvZGUsMCxyLndvcmssQSksci5sZW5iaXRzPUEuYml0cyxfKXtlLm1zZz0iaW52YWxpZCBjb2RlIGxlbmd0aHMgc2V0IixyLm1vZGU9MzA7YnJlYWt9ci5oYXZlPTAsci5tb2RlPTE5O2Nhc2UgMTk6Zm9yKDtyLmhhdmU8ci5ubGVuK3IubmRpc3Q7KXtmb3IoO3k9KEk9ci5sZW5jb2RlW2wmKDE8PHIubGVuYml0cyktMV0pPj4+MTYmMjU1LHc9NjU1MzUmSSwhKCh2PUk+Pj4yNCk8PXUpOyl7aWYoMD09PXMpYnJlYWsgZTtzLS0sbCs9blthKytdPDx1LHUrPTh9aWYodzwxNilsPj4+PXYsdS09dixyLmxlbnNbci5oYXZlKytdPXc7ZWxzZXtpZigxNj09PXcpe2ZvcihQPXYrMjt1PFA7KXtpZigwPT09cylicmVhayBlO3MtLSxsKz1uW2ErK108PHUsdSs9OH1pZihsPj4+PXYsdS09diwwPT09ci5oYXZlKXtlLm1zZz0iaW52YWxpZCBiaXQgbGVuZ3RoIHJlcGVhdCIsci5tb2RlPTMwO2JyZWFrfXg9ci5sZW5zW3IuaGF2ZS0xXSxkPTMrKDMmbCksbD4+Pj0yLHUtPTJ9ZWxzZSBpZigxNz09PXcpe2ZvcihQPXYrMzt1PFA7KXtpZigwPT09cylicmVhayBlO3MtLSxsKz1uW2ErK108PHUsdSs9OH11LT12LHg9MCxkPTMrKDcmKGw+Pj49dikpLGw+Pj49Myx1LT0zfWVsc2V7Zm9yKFA9dis3O3U8UDspe2lmKDA9PT1zKWJyZWFrIGU7cy0tLGwrPW5bYSsrXTw8dSx1Kz04fXUtPXYseD0wLGQ9MTErKDEyNyYobD4+Pj12KSksbD4+Pj03LHUtPTd9aWYoci5oYXZlK2Q+ci5ubGVuK3IubmRpc3Qpe2UubXNnPSJpbnZhbGlkIGJpdCBsZW5ndGggcmVwZWF0IixyLm1vZGU9MzA7YnJlYWt9Zm9yKDtkLS07KXIubGVuc1tyLmhhdmUrK109eH19aWYoMzA9PT1yLm1vZGUpYnJlYWs7aWYoMD09PXIubGVuc1syNTZdKXtlLm1zZz0iaW52YWxpZCBjb2RlIC0tIG1pc3NpbmcgZW5kLW9mLWJsb2NrIixyLm1vZGU9MzA7YnJlYWt9aWYoci5sZW5iaXRzPTksQT17Yml0czpyLmxlbmJpdHN9LF89aWUoMSxyLmxlbnMsMCxyLm5sZW4sci5sZW5jb2RlLDAsci53b3JrLEEpLHIubGVuYml0cz1BLmJpdHMsXyl7ZS5tc2c9ImludmFsaWQgbGl0ZXJhbC9sZW5ndGhzIHNldCIsci5tb2RlPTMwO2JyZWFrfWlmKHIuZGlzdGJpdHM9NixyLmRpc3Rjb2RlPXIuZGlzdGR5bixBPXtiaXRzOnIuZGlzdGJpdHN9LF89aWUoMixyLmxlbnMsci5ubGVuLHIubmRpc3Qsci5kaXN0Y29kZSwwLHIud29yayxBKSxyLmRpc3RiaXRzPUEuYml0cyxfKXtlLm1zZz0iaW52YWxpZCBkaXN0YW5jZXMgc2V0IixyLm1vZGU9MzA7YnJlYWt9aWYoci5tb2RlPTIwLHQ9PT1zZSlicmVhayBlO2Nhc2UgMjA6ci5tb2RlPTIxO2Nhc2UgMjE6aWYocz49NiYmZj49MjU4KXtlLm5leHRfb3V0PW8sZS5hdmFpbF9vdXQ9ZixlLm5leHRfaW49YSxlLmF2YWlsX2luPXMsci5ob2xkPWwsci5iaXRzPXUsJChlLGgpLG89ZS5uZXh0X291dCxpPWUub3V0cHV0LGY9ZS5hdmFpbF9vdXQsYT1lLm5leHRfaW4sbj1lLmlucHV0LHM9ZS5hdmFpbF9pbixsPXIuaG9sZCx1PXIuYml0cywxMj09PXIubW9kZSYmKHIuYmFjaz0tMSk7YnJlYWt9Zm9yKHIuYmFjaz0wO3k9KEk9ci5sZW5jb2RlW2wmKDE8PHIubGVuYml0cyktMV0pPj4+MTYmMjU1LHc9NjU1MzUmSSwhKCh2PUk+Pj4yNCk8PXUpOyl7aWYoMD09PXMpYnJlYWsgZTtzLS0sbCs9blthKytdPDx1LHUrPTh9aWYoeSYmMD09KDI0MCZ5KSl7Zm9yKGc9dixiPXksaz13O3k9KEk9ci5sZW5jb2RlW2srKChsJigxPDxnK2IpLTEpPj5nKV0pPj4+MTYmMjU1LHc9NjU1MzUmSSwhKGcrKHY9ST4+PjI0KTw9dSk7KXtpZigwPT09cylicmVhayBlO3MtLSxsKz1uW2ErK108PHUsdSs9OH1sPj4+PWcsdS09ZyxyLmJhY2srPWd9aWYobD4+Pj12LHUtPXYsci5iYWNrKz12LHIubGVuZ3RoPXcsMD09PXkpe3IubW9kZT0yNjticmVha31pZigzMiZ5KXtyLmJhY2s9LTEsci5tb2RlPTEyO2JyZWFrfWlmKDY0Jnkpe2UubXNnPSJpbnZhbGlkIGxpdGVyYWwvbGVuZ3RoIGNvZGUiLHIubW9kZT0zMDticmVha31yLmV4dHJhPTE1Jnksci5tb2RlPTIyO2Nhc2UgMjI6aWYoci5leHRyYSl7Zm9yKFA9ci5leHRyYTt1PFA7KXtpZigwPT09cylicmVhayBlO3MtLSxsKz1uW2ErK108PHUsdSs9OH1yLmxlbmd0aCs9bCYoMTw8ci5leHRyYSktMSxsPj4+PXIuZXh0cmEsdS09ci5leHRyYSxyLmJhY2srPXIuZXh0cmF9ci53YXM9ci5sZW5ndGgsci5tb2RlPTIzO2Nhc2UgMjM6Zm9yKDt5PShJPXIuZGlzdGNvZGVbbCYoMTw8ci5kaXN0Yml0cyktMV0pPj4+MTYmMjU1LHc9NjU1MzUmSSwhKCh2PUk+Pj4yNCk8PXUpOyl7aWYoMD09PXMpYnJlYWsgZTtzLS0sbCs9blthKytdPDx1LHUrPTh9aWYoMD09KDI0MCZ5KSl7Zm9yKGc9dixiPXksaz13O3k9KEk9ci5kaXN0Y29kZVtrKygobCYoMTw8ZytiKS0xKT4+ZyldKT4+PjE2JjI1NSx3PTY1NTM1JkksIShnKyh2PUk+Pj4yNCk8PXUpOyl7aWYoMD09PXMpYnJlYWsgZTtzLS0sbCs9blthKytdPDx1LHUrPTh9bD4+Pj1nLHUtPWcsci5iYWNrKz1nfWlmKGw+Pj49dix1LT12LHIuYmFjays9diw2NCZ5KXtlLm1zZz0iaW52YWxpZCBkaXN0YW5jZSBjb2RlIixyLm1vZGU9MzA7YnJlYWt9ci5vZmZzZXQ9dyxyLmV4dHJhPTE1Jnksci5tb2RlPTI0O2Nhc2UgMjQ6aWYoci5leHRyYSl7Zm9yKFA9ci5leHRyYTt1PFA7KXtpZigwPT09cylicmVhayBlO3MtLSxsKz1uW2ErK108PHUsdSs9OH1yLm9mZnNldCs9bCYoMTw8ci5leHRyYSktMSxsPj4+PXIuZXh0cmEsdS09ci5leHRyYSxyLmJhY2srPXIuZXh0cmF9aWYoci5vZmZzZXQ+ci5kbWF4KXtlLm1zZz0iaW52YWxpZCBkaXN0YW5jZSB0b28gZmFyIGJhY2siLHIubW9kZT0zMDticmVha31yLm1vZGU9MjU7Y2FzZSAyNTppZigwPT09ZilicmVhayBlO2lmKGQ9aC1mLHIub2Zmc2V0PmQpe2lmKChkPXIub2Zmc2V0LWQpPnIud2hhdmUmJnIuc2FuZSl7ZS5tc2c9ImludmFsaWQgZGlzdGFuY2UgdG9vIGZhciBiYWNrIixyLm1vZGU9MzA7YnJlYWt9ZD5yLnduZXh0PyhkLT1yLnduZXh0LHA9ci53c2l6ZS1kKTpwPXIud25leHQtZCxkPnIubGVuZ3RoJiYoZD1yLmxlbmd0aCksbT1yLndpbmRvd31lbHNlIG09aSxwPW8tci5vZmZzZXQsZD1yLmxlbmd0aDtkPmYmJihkPWYpLGYtPWQsci5sZW5ndGgtPWQ7ZG97aVtvKytdPW1bcCsrXX13aGlsZSgtLWQpOzA9PT1yLmxlbmd0aCYmKHIubW9kZT0yMSk7YnJlYWs7Y2FzZSAyNjppZigwPT09ZilicmVhayBlO2lbbysrXT1yLmxlbmd0aCxmLS0sci5tb2RlPTIxO2JyZWFrO2Nhc2UgMjc6aWYoci53cmFwKXtmb3IoO3U8MzI7KXtpZigwPT09cylicmVhayBlO3MtLSxsfD1uW2ErK108PHUsdSs9OH1pZihoLT1mLGUudG90YWxfb3V0Kz1oLHIudG90YWwrPWgsaCYmKGUuYWRsZXI9ci5jaGVjaz1yLmZsYWdzP0Yoci5jaGVjayxpLGgsby1oKTpWKHIuY2hlY2ssaSxoLG8taCkpLGg9Ziwoci5mbGFncz9sOnZlKGwpKSE9PXIuY2hlY2spe2UubXNnPSJpbmNvcnJlY3QgZGF0YSBjaGVjayIsci5tb2RlPTMwO2JyZWFrfWw9MCx1PTB9ci5tb2RlPTI4O2Nhc2UgMjg6aWYoci53cmFwJiZyLmZsYWdzKXtmb3IoO3U8MzI7KXtpZigwPT09cylicmVhayBlO3MtLSxsKz1uW2ErK108PHUsdSs9OH1pZihsIT09KDQyOTQ5NjcyOTUmci50b3RhbCkpe2UubXNnPSJpbmNvcnJlY3QgbGVuZ3RoIGNoZWNrIixyLm1vZGU9MzA7YnJlYWt9bD0wLHU9MH1yLm1vZGU9Mjk7Y2FzZSAyOTpfPWxlO2JyZWFrIGU7Y2FzZSAzMDpfPWhlO2JyZWFrIGU7Y2FzZSAzMTpyZXR1cm4gZGU7ZGVmYXVsdDpyZXR1cm4gY2V9cmV0dXJuIGUubmV4dF9vdXQ9byxlLmF2YWlsX291dD1mLGUubmV4dF9pbj1hLGUuYXZhaWxfaW49cyxyLmhvbGQ9bCxyLmJpdHM9dSwoci53c2l6ZXx8aCE9PWUuYXZhaWxfb3V0JiZyLm1vZGU8MzAmJihyLm1vZGU8Mjd8fHQhPT1hZSkpJiZJZShlLGUub3V0cHV0LGUubmV4dF9vdXQsaC1lLmF2YWlsX291dCksYy09ZS5hdmFpbF9pbixoLT1lLmF2YWlsX291dCxlLnRvdGFsX2luKz1jLGUudG90YWxfb3V0Kz1oLHIudG90YWwrPWgsci53cmFwJiZoJiYoZS5hZGxlcj1yLmNoZWNrPXIuZmxhZ3M/RihyLmNoZWNrLGksaCxlLm5leHRfb3V0LWgpOlYoci5jaGVjayxpLGgsZS5uZXh0X291dC1oKSksZS5kYXRhX3R5cGU9ci5iaXRzKyhyLmxhc3Q/NjQ6MCkrKDEyPT09ci5tb2RlPzEyODowKSsoMjA9PT1yLm1vZGV8fDE1PT09ci5tb2RlPzI1NjowKSwoMD09PWMmJjA9PT1ofHx0PT09YWUpJiZfPT09ZmUmJihfPXBlKSxffSxpbmZsYXRlRW5kOmZ1bmN0aW9uKGUpe2lmKCFlfHwhZS5zdGF0ZSlyZXR1cm4gY2U7dmFyIHQ9ZS5zdGF0ZTtyZXR1cm4gdC53aW5kb3cmJih0LndpbmRvdz1udWxsKSxlLnN0YXRlPW51bGwsZmV9LGluZmxhdGVHZXRIZWFkZXI6ZnVuY3Rpb24oZSx0KXtpZighZXx8IWUuc3RhdGUpcmV0dXJuIGNlO3ZhciByPWUuc3RhdGU7cmV0dXJuIDA9PSgyJnIud3JhcCk/Y2U6KHIuaGVhZD10LHQuZG9uZT0hMSxmZSl9LGluZmxhdGVTZXREaWN0aW9uYXJ5OmZ1bmN0aW9uKGUsdCl7dmFyIHIsbj10Lmxlbmd0aDtyZXR1cm4gZSYmZS5zdGF0ZT8wIT09KHI9ZS5zdGF0ZSkud3JhcCYmMTEhPT1yLm1vZGU/Y2U6MTE9PT1yLm1vZGUmJlYoMSx0LG4sMCkhPT1yLmNoZWNrP2hlOkllKGUsdCxuLG4pPyhyLm1vZGU9MzEsZGUpOihyLmhhdmVkaWN0PTEsZmUpOmNlfSxpbmZsYXRlSW5mbzoicGFrbyBpbmZsYXRlIChmcm9tIE5vZGVjYSBwcm9qZWN0KSJ9O3ZhciBTZT1mdW5jdGlvbigpe3RoaXMudGV4dD0wLHRoaXMudGltZT0wLHRoaXMueGZsYWdzPTAsdGhpcy5vcz0wLHRoaXMuZXh0cmE9bnVsbCx0aGlzLmV4dHJhX2xlbj0wLHRoaXMubmFtZT0iIix0aGlzLmNvbW1lbnQ9IiIsdGhpcy5oY3JjPTAsdGhpcy5kb25lPSExfSxUZT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLERlPWouWl9OT19GTFVTSCxFZT1qLlpfRklOSVNILEJlPWouWl9PSyxPZT1qLlpfU1RSRUFNX0VORCxNZT1qLlpfTkVFRF9ESUNULENlPWouWl9TVFJFQU1fRVJST1IsTGU9ai5aX0RBVEFfRVJST1IsUmU9ai5aX01FTV9FUlJPUjtmdW5jdGlvbiBWZShlKXt0aGlzLm9wdGlvbnM9Wih7Y2h1bmtTaXplOjY1NTM2LHdpbmRvd0JpdHM6MTUsdG86IiJ9LGV8fHt9KTt2YXIgdD10aGlzLm9wdGlvbnM7dC5yYXcmJnQud2luZG93Qml0cz49MCYmdC53aW5kb3dCaXRzPDE2JiYodC53aW5kb3dCaXRzPS10LndpbmRvd0JpdHMsMD09PXQud2luZG93Qml0cyYmKHQud2luZG93Qml0cz0tMTUpKSwhKHQud2luZG93Qml0cz49MCYmdC53aW5kb3dCaXRzPDE2KXx8ZSYmZS53aW5kb3dCaXRzfHwodC53aW5kb3dCaXRzKz0zMiksdC53aW5kb3dCaXRzPjE1JiZ0LndpbmRvd0JpdHM8NDgmJjA9PSgxNSZ0LndpbmRvd0JpdHMpJiYodC53aW5kb3dCaXRzfD0xNSksdGhpcy5lcnI9MCx0aGlzLm1zZz0iIix0aGlzLmVuZGVkPSExLHRoaXMuY2h1bmtzPVtdLHRoaXMuc3RybT1uZXcgUSx0aGlzLnN0cm0uYXZhaWxfb3V0PTA7dmFyIHI9VWUuaW5mbGF0ZUluaXQyKHRoaXMuc3RybSx0LndpbmRvd0JpdHMpO2lmKHIhPT1CZSl0aHJvdyBuZXcgRXJyb3IoeltyXSk7aWYodGhpcy5oZWFkZXI9bmV3IFNlLFVlLmluZmxhdGVHZXRIZWFkZXIodGhpcy5zdHJtLHRoaXMuaGVhZGVyKSx0LmRpY3Rpb25hcnkmJigic3RyaW5nIj09dHlwZW9mIHQuZGljdGlvbmFyeT90LmRpY3Rpb25hcnk9Vyh0LmRpY3Rpb25hcnkpOiJbb2JqZWN0IEFycmF5QnVmZmVyXSI9PT1UZS5jYWxsKHQuZGljdGlvbmFyeSkmJih0LmRpY3Rpb25hcnk9bmV3IFVpbnQ4QXJyYXkodC5kaWN0aW9uYXJ5KSksdC5yYXcmJihyPVVlLmluZmxhdGVTZXREaWN0aW9uYXJ5KHRoaXMuc3RybSx0LmRpY3Rpb25hcnkpKSE9PUJlKSl0aHJvdyBuZXcgRXJyb3IoeltyXSl9ZnVuY3Rpb24gR2UoZSx0KXt2YXIgcj1uZXcgVmUodCk7aWYoci5wdXNoKGUpLHIuZXJyKXRocm93IHIubXNnfHx6W3IuZXJyXTtyZXR1cm4gci5yZXN1bHR9VmUucHJvdG90eXBlLnB1c2g9ZnVuY3Rpb24oZSx0KXt2YXIgcixuLGksYT10aGlzLnN0cm0sbz10aGlzLm9wdGlvbnMuY2h1bmtTaXplLHM9dGhpcy5vcHRpb25zLmRpY3Rpb25hcnk7aWYodGhpcy5lbmRlZClyZXR1cm4hMTtmb3Iobj10PT09fn50P3Q6ITA9PT10P0VlOkRlLCJbb2JqZWN0IEFycmF5QnVmZmVyXSI9PT1UZS5jYWxsKGUpP2EuaW5wdXQ9bmV3IFVpbnQ4QXJyYXkoZSk6YS5pbnB1dD1lLGEubmV4dF9pbj0wLGEuYXZhaWxfaW49YS5pbnB1dC5sZW5ndGg7Oyl7Zm9yKDA9PT1hLmF2YWlsX291dCYmKGEub3V0cHV0PW5ldyBVaW50OEFycmF5KG8pLGEubmV4dF9vdXQ9MCxhLmF2YWlsX291dD1vKSwocj1VZS5pbmZsYXRlKGEsbikpPT09TWUmJnMmJigocj1VZS5pbmZsYXRlU2V0RGljdGlvbmFyeShhLHMpKT09PUJlP3I9VWUuaW5mbGF0ZShhLG4pOnI9PT1MZSYmKHI9TWUpKTthLmF2YWlsX2luPjAmJnI9PT1PZSYmYS5zdGF0ZS53cmFwPjAmJjAhPT1lW2EubmV4dF9pbl07KVVlLmluZmxhdGVSZXNldChhKSxyPVVlLmluZmxhdGUoYSxuKTtzd2l0Y2gocil7Y2FzZSBDZTpjYXNlIExlOmNhc2UgTWU6Y2FzZSBSZTpyZXR1cm4gdGhpcy5vbkVuZChyKSx0aGlzLmVuZGVkPSEwLCExfWlmKGk9YS5hdmFpbF9vdXQsYS5uZXh0X291dCYmKDA9PT1hLmF2YWlsX291dHx8cj09PU9lKSlpZigic3RyaW5nIj09PXRoaXMub3B0aW9ucy50byl7dmFyIGY9SihhLm91dHB1dCxhLm5leHRfb3V0KSxsPWEubmV4dF9vdXQtZix1PXEoYS5vdXRwdXQsZik7YS5uZXh0X291dD1sLGEuYXZhaWxfb3V0PW8tbCxsJiZhLm91dHB1dC5zZXQoYS5vdXRwdXQuc3ViYXJyYXkoZixmK2wpLDApLHRoaXMub25EYXRhKHUpfWVsc2UgdGhpcy5vbkRhdGEoYS5vdXRwdXQubGVuZ3RoPT09YS5uZXh0X291dD9hLm91dHB1dDphLm91dHB1dC5zdWJhcnJheSgwLGEubmV4dF9vdXQpKTtpZihyIT09QmV8fDAhPT1pKXtpZihyPT09T2UpcmV0dXJuIHI9VWUuaW5mbGF0ZUVuZCh0aGlzLnN0cm0pLHRoaXMub25FbmQociksdGhpcy5lbmRlZD0hMCwhMDtpZigwPT09YS5hdmFpbF9pbilicmVha319cmV0dXJuITB9LFZlLnByb3RvdHlwZS5vbkRhdGE9ZnVuY3Rpb24oZSl7dGhpcy5jaHVua3MucHVzaChlKX0sVmUucHJvdG90eXBlLm9uRW5kPWZ1bmN0aW9uKGUpe2U9PT1CZSYmKCJzdHJpbmciPT09dGhpcy5vcHRpb25zLnRvP3RoaXMucmVzdWx0PXRoaXMuY2h1bmtzLmpvaW4oIiIpOnRoaXMucmVzdWx0PUsodGhpcy5jaHVua3MpKSx0aGlzLmNodW5rcz1bXSx0aGlzLmVycj1lLHRoaXMubXNnPXRoaXMuc3RybS5tc2d9O3ZhciBGZT17SW5mbGF0ZTpWZSxpbmZsYXRlOkdlLGluZmxhdGVSYXc6ZnVuY3Rpb24oZSx0KXtyZXR1cm4odD10fHx7fSkucmF3PSEwLEdlKGUsdCl9LHVuZ3ppcDpHZSxjb25zdGFudHM6an0uaW5mbGF0ZTtmdW5jdGlvbiB6ZShlKXt2YXIgdD1mdW5jdGlvbigpe2lmKCJ1bmRlZmluZWQiPT10eXBlb2YgUmVmbGVjdHx8IVJlZmxlY3QuY29uc3RydWN0KXJldHVybiExO2lmKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pcmV0dXJuITE7aWYoImZ1bmN0aW9uIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaChlKXtyZXR1cm4hMX19KCk7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIHIsbj12KGUpO2lmKHQpe3ZhciBpPXYodGhpcykuY29uc3RydWN0b3I7cj1SZWZsZWN0LmNvbnN0cnVjdChuLGFyZ3VtZW50cyxpKX1lbHNlIHI9bi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIG0odGhpcyxyKX19dmFyIGplPWZ1bmN0aW9uKGUpe3AocixiKTt2YXIgdD16ZShyKTtmdW5jdGlvbiByKCl7cmV0dXJuIHUodGhpcyxyKSx0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX1yZXR1cm4gaChyLFt7a2V5OiJkZWNvZGVCbG9jayIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIEZlKG5ldyBVaW50OEFycmF5KGUpKS5idWZmZXJ9fV0pLHJ9KCksTmU9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsZGVmYXVsdDpqZX0pO2Z1bmN0aW9uIFplKGUpe3ZhciB0PWZ1bmN0aW9uKCl7aWYoInVuZGVmaW5lZCI9PXR5cGVvZiBSZWZsZWN0fHwhUmVmbGVjdC5jb25zdHJ1Y3QpcmV0dXJuITE7aWYoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZigiZnVuY3Rpb24iPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKGUpe3JldHVybiExfX0oKTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgcixuPXYoZSk7aWYodCl7dmFyIGk9dih0aGlzKS5jb25zdHJ1Y3RvcjtyPVJlZmxlY3QuY29uc3RydWN0KG4sYXJndW1lbnRzLGkpfWVsc2Ugcj1uLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gbSh0aGlzLHIpfX12YXIgS2UsSGU9ZnVuY3Rpb24oZSl7cChyLGIpO3ZhciB0PVplKHIpO2Z1bmN0aW9uIHIoKXtyZXR1cm4gdSh0aGlzLHIpLHQuYXBwbHkodGhpcyxhcmd1bWVudHMpfXJldHVybiBoKHIsW3trZXk6ImRlY29kZUJsb2NrIix2YWx1ZTpmdW5jdGlvbihlKXtmb3IodmFyIHQ9bmV3IERhdGFWaWV3KGUpLHI9W10sbj0wO248ZS5ieXRlTGVuZ3RoOysrbil7dmFyIGk9dC5nZXRJbnQ4KG4pO2lmKGk8MCl7dmFyIGE9dC5nZXRVaW50OChuKzEpO2k9LWk7Zm9yKHZhciBvPTA7bzw9aTsrK28pci5wdXNoKGEpO24rPTF9ZWxzZXtmb3IodmFyIHM9MDtzPD1pOysrcylyLnB1c2godC5nZXRVaW50OChuK3MrMSkpO24rPWkrMX19cmV0dXJuIG5ldyBVaW50OEFycmF5KHIpLmJ1ZmZlcn19XSkscn0oKSxZZT1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxkZWZhdWx0OkhlfSksWGU9e2V4cG9ydHM6e319O0tlPVhlLFxuLyogQ29weXJpZ2h0IDIwMTUtMjAyMSBFc3JpLiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wIEBwcmVzZXJ2ZSAqL1xuZnVuY3Rpb24oKXt2YXIgZSx0LHIsbixpLGEsbyxzLGYsbCx1LGMsaCxkLHAsbSx2PShlPXtkZWZhdWx0Tm9EYXRhVmFsdWU6LTM0MDI3OTk5Mzg3OTAxNDg0ZTIyLGRlY29kZTpmdW5jdGlvbihhLG8pe3ZhciBzPShvPW98fHt9KS5lbmNvZGVkTWFza0RhdGF8fG51bGw9PT1vLmVuY29kZWRNYXNrRGF0YSxmPWkoYSxvLmlucHV0T2Zmc2V0fHwwLHMpLGw9bnVsbCE9PW8ubm9EYXRhVmFsdWU/by5ub0RhdGFWYWx1ZTplLmRlZmF1bHROb0RhdGFWYWx1ZSx1PXQoZixvLnBpeGVsVHlwZXx8RmxvYXQzMkFycmF5LG8uZW5jb2RlZE1hc2tEYXRhLGwsby5yZXR1cm5NYXNrKSxjPXt3aWR0aDpmLndpZHRoLGhlaWdodDpmLmhlaWdodCxwaXhlbERhdGE6dS5yZXN1bHRQaXhlbHMsbWluVmFsdWU6dS5taW5WYWx1ZSxtYXhWYWx1ZTpmLnBpeGVscy5tYXhWYWx1ZSxub0RhdGFWYWx1ZTpsfTtyZXR1cm4gdS5yZXN1bHRNYXNrJiYoYy5tYXNrRGF0YT11LnJlc3VsdE1hc2spLG8ucmV0dXJuRW5jb2RlZE1hc2smJmYubWFzayYmKGMuZW5jb2RlZE1hc2tEYXRhPWYubWFzay5iaXRzZXQ/Zi5tYXNrLmJpdHNldDpudWxsKSxvLnJldHVybkZpbGVJbmZvJiYoYy5maWxlSW5mbz1yKGYpLG8uY29tcHV0ZVVzZWRCaXREZXB0aHMmJihjLmZpbGVJbmZvLmJpdERlcHRocz1uKGYpKSksY319LHQ9ZnVuY3Rpb24oZSx0LHIsbixpKXt2YXIgbyxzLGYsbD0wLHU9ZS5waXhlbHMubnVtQmxvY2tzWCxjPWUucGl4ZWxzLm51bUJsb2Nrc1ksaD1NYXRoLmZsb29yKGUud2lkdGgvdSksZD1NYXRoLmZsb29yKGUuaGVpZ2h0L2MpLHA9MiplLm1heFpFcnJvcixtPU51bWJlci5NQVhfVkFMVUU7cj1yfHwoZS5tYXNrP2UubWFzay5iaXRzZXQ6bnVsbCkscz1uZXcgdChlLndpZHRoKmUuaGVpZ2h0KSxpJiZyJiYoZj1uZXcgVWludDhBcnJheShlLndpZHRoKmUuaGVpZ2h0KSk7Zm9yKHZhciB2LHksdz1uZXcgRmxvYXQzMkFycmF5KGgqZCksZz0wO2c8PWM7ZysrKXt2YXIgYj1nIT09Yz9kOmUuaGVpZ2h0JWM7aWYoMCE9PWIpZm9yKHZhciBrPTA7azw9dTtrKyspe3ZhciB4PWshPT11P2g6ZS53aWR0aCV1O2lmKDAhPT14KXt2YXIgXyxBLFAsSSxVPWcqZS53aWR0aCpkK2sqaCxTPWUud2lkdGgteCxUPWUucGl4ZWxzLmJsb2Nrc1tsXTtpZihULmVuY29kaW5nPDI/KDA9PT1ULmVuY29kaW5nP189VC5yYXdEYXRhOihhKFQuc3R1ZmZlZERhdGEsVC5iaXRzUGVyUGl4ZWwsVC5udW1WYWxpZFBpeGVscyxULm9mZnNldCxwLHcsZS5waXhlbHMubWF4VmFsdWUpLF89dyksQT0wKTpQPTI9PT1ULmVuY29kaW5nPzA6VC5vZmZzZXQscilmb3IoeT0wO3k8Yjt5Kyspe2Zvcig3JlUmJihJPXJbVT4+M10sSTw8PTcmVSksdj0wO3Y8eDt2KyspNyZVfHwoST1yW1U+PjNdKSwxMjgmST8oZiYmKGZbVV09MSksbT1tPihvPVQuZW5jb2Rpbmc8Mj9fW0ErK106UCk/bzptLHNbVSsrXT1vKTooZiYmKGZbVV09MCksc1tVKytdPW4pLEk8PD0xO1UrPVN9ZWxzZSBpZihULmVuY29kaW5nPDIpZm9yKHk9MDt5PGI7eSsrKXtmb3Iodj0wO3Y8eDt2KyspbT1tPihvPV9bQSsrXSk/bzptLHNbVSsrXT1vO1UrPVN9ZWxzZSBmb3IobT1tPlA/UDptLHk9MDt5PGI7eSsrKXtmb3Iodj0wO3Y8eDt2Kyspc1tVKytdPVA7VSs9U31pZigxPT09VC5lbmNvZGluZyYmQSE9PVQubnVtVmFsaWRQaXhlbHMpdGhyb3ciQmxvY2sgYW5kIE1hc2sgZG8gbm90IG1hdGNoIjtsKyt9fX1yZXR1cm57cmVzdWx0UGl4ZWxzOnMscmVzdWx0TWFzazpmLG1pblZhbHVlOm19fSxyPWZ1bmN0aW9uKGUpe3JldHVybntmaWxlSWRlbnRpZmllclN0cmluZzplLmZpbGVJZGVudGlmaWVyU3RyaW5nLGZpbGVWZXJzaW9uOmUuZmlsZVZlcnNpb24saW1hZ2VUeXBlOmUuaW1hZ2VUeXBlLGhlaWdodDplLmhlaWdodCx3aWR0aDplLndpZHRoLG1heFpFcnJvcjplLm1heFpFcnJvcixlb2ZPZmZzZXQ6ZS5lb2ZPZmZzZXQsbWFzazplLm1hc2s/e251bUJsb2Nrc1g6ZS5tYXNrLm51bUJsb2Nrc1gsbnVtQmxvY2tzWTplLm1hc2subnVtQmxvY2tzWSxudW1CeXRlczplLm1hc2subnVtQnl0ZXMsbWF4VmFsdWU6ZS5tYXNrLm1heFZhbHVlfTpudWxsLHBpeGVsczp7bnVtQmxvY2tzWDplLnBpeGVscy5udW1CbG9ja3NYLG51bUJsb2Nrc1k6ZS5waXhlbHMubnVtQmxvY2tzWSxudW1CeXRlczplLnBpeGVscy5udW1CeXRlcyxtYXhWYWx1ZTplLnBpeGVscy5tYXhWYWx1ZSxub0RhdGFWYWx1ZTplLm5vRGF0YVZhbHVlfX19LG49ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PWUucGl4ZWxzLm51bUJsb2Nrc1gqZS5waXhlbHMubnVtQmxvY2tzWSxyPXt9LG49MDtuPHQ7bisrKXt2YXIgaT1lLnBpeGVscy5ibG9ja3Nbbl07MD09PWkuZW5jb2Rpbmc/ci5mbG9hdDMyPSEwOjE9PT1pLmVuY29kaW5nP3JbaS5iaXRzUGVyUGl4ZWxdPSEwOnJbMF09ITB9cmV0dXJuIE9iamVjdC5rZXlzKHIpfSxpPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj17fSxpPW5ldyBVaW50OEFycmF5KGUsdCwxMCk7aWYobi5maWxlSWRlbnRpZmllclN0cmluZz1TdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsaSksIkNudFpJbWFnZSIhPT1uLmZpbGVJZGVudGlmaWVyU3RyaW5nLnRyaW0oKSl0aHJvdyJVbmV4cGVjdGVkIGZpbGUgaWRlbnRpZmllciBzdHJpbmc6ICIrbi5maWxlSWRlbnRpZmllclN0cmluZzt0Kz0xMDt2YXIgYT1uZXcgRGF0YVZpZXcoZSx0LDI0KTtpZihuLmZpbGVWZXJzaW9uPWEuZ2V0SW50MzIoMCwhMCksbi5pbWFnZVR5cGU9YS5nZXRJbnQzMig0LCEwKSxuLmhlaWdodD1hLmdldFVpbnQzMig4LCEwKSxuLndpZHRoPWEuZ2V0VWludDMyKDEyLCEwKSxuLm1heFpFcnJvcj1hLmdldEZsb2F0NjQoMTYsITApLHQrPTI0LCFyKWlmKGE9bmV3IERhdGFWaWV3KGUsdCwxNiksbi5tYXNrPXt9LG4ubWFzay5udW1CbG9ja3NZPWEuZ2V0VWludDMyKDAsITApLG4ubWFzay5udW1CbG9ja3NYPWEuZ2V0VWludDMyKDQsITApLG4ubWFzay5udW1CeXRlcz1hLmdldFVpbnQzMig4LCEwKSxuLm1hc2subWF4VmFsdWU9YS5nZXRGbG9hdDMyKDEyLCEwKSx0Kz0xNixuLm1hc2subnVtQnl0ZXM+MCl7dmFyIG89bmV3IFVpbnQ4QXJyYXkoTWF0aC5jZWlsKG4ud2lkdGgqbi5oZWlnaHQvOCkpLHM9KGE9bmV3IERhdGFWaWV3KGUsdCxuLm1hc2subnVtQnl0ZXMpKS5nZXRJbnQxNigwLCEwKSxmPTIsbD0wO2Rve2lmKHM+MClmb3IoO3MtLTspb1tsKytdPWEuZ2V0VWludDgoZisrKTtlbHNle3ZhciB1PWEuZ2V0VWludDgoZisrKTtmb3Iocz0tcztzLS07KW9bbCsrXT11fXM9YS5nZXRJbnQxNihmLCEwKSxmKz0yfXdoaWxlKGY8bi5tYXNrLm51bUJ5dGVzKTtpZigtMzI3NjghPT1zfHxsPG8ubGVuZ3RoKXRocm93IlVuZXhwZWN0ZWQgZW5kIG9mIG1hc2sgUkxFIGVuY29kaW5nIjtuLm1hc2suYml0c2V0PW8sdCs9bi5tYXNrLm51bUJ5dGVzfWVsc2UgMD09KG4ubWFzay5udW1CeXRlc3xuLm1hc2subnVtQmxvY2tzWXxuLm1hc2subWF4VmFsdWUpJiYobi5tYXNrLmJpdHNldD1uZXcgVWludDhBcnJheShNYXRoLmNlaWwobi53aWR0aCpuLmhlaWdodC84KSkpO2E9bmV3IERhdGFWaWV3KGUsdCwxNiksbi5waXhlbHM9e30sbi5waXhlbHMubnVtQmxvY2tzWT1hLmdldFVpbnQzMigwLCEwKSxuLnBpeGVscy5udW1CbG9ja3NYPWEuZ2V0VWludDMyKDQsITApLG4ucGl4ZWxzLm51bUJ5dGVzPWEuZ2V0VWludDMyKDgsITApLG4ucGl4ZWxzLm1heFZhbHVlPWEuZ2V0RmxvYXQzMigxMiwhMCksdCs9MTY7dmFyIGM9bi5waXhlbHMubnVtQmxvY2tzWCxoPW4ucGl4ZWxzLm51bUJsb2Nrc1ksZD1jKyhuLndpZHRoJWM+MD8xOjApLHA9aCsobi5oZWlnaHQlaD4wPzE6MCk7bi5waXhlbHMuYmxvY2tzPW5ldyBBcnJheShkKnApO2Zvcih2YXIgbT0wLHY9MDt2PHA7disrKWZvcih2YXIgeT0wO3k8ZDt5Kyspe3ZhciB3PTAsZz1lLmJ5dGVMZW5ndGgtdDthPW5ldyBEYXRhVmlldyhlLHQsTWF0aC5taW4oMTAsZykpO3ZhciBiPXt9O24ucGl4ZWxzLmJsb2Nrc1ttKytdPWI7dmFyIGs9YS5nZXRVaW50OCgwKTtpZih3KyssYi5lbmNvZGluZz02MyZrLGIuZW5jb2Rpbmc+Myl0aHJvdyJJbnZhbGlkIGJsb2NrIGVuY29kaW5nICgiK2IuZW5jb2RpbmcrIikiO2lmKDIhPT1iLmVuY29kaW5nKXtpZigwIT09ayYmMiE9PWspe2lmKGs+Pj02LGIub2Zmc2V0VHlwZT1rLDI9PT1rKWIub2Zmc2V0PWEuZ2V0SW50OCgxKSx3Kys7ZWxzZSBpZigxPT09ayliLm9mZnNldD1hLmdldEludDE2KDEsITApLHcrPTI7ZWxzZXtpZigwIT09ayl0aHJvdyJJbnZhbGlkIGJsb2NrIG9mZnNldCB0eXBlIjtiLm9mZnNldD1hLmdldEZsb2F0MzIoMSwhMCksdys9NH1pZigxPT09Yi5lbmNvZGluZylpZihrPWEuZ2V0VWludDgodyksdysrLGIuYml0c1BlclBpeGVsPTYzJmssaz4+PTYsYi5udW1WYWxpZFBpeGVsc1R5cGU9aywyPT09ayliLm51bVZhbGlkUGl4ZWxzPWEuZ2V0VWludDgodyksdysrO2Vsc2UgaWYoMT09PWspYi5udW1WYWxpZFBpeGVscz1hLmdldFVpbnQxNih3LCEwKSx3Kz0yO2Vsc2V7aWYoMCE9PWspdGhyb3ciSW52YWxpZCB2YWxpZCBwaXhlbCBjb3VudCB0eXBlIjtiLm51bVZhbGlkUGl4ZWxzPWEuZ2V0VWludDMyKHcsITApLHcrPTR9fXZhciB4O2lmKHQrPXcsMyE9PWIuZW5jb2RpbmcpaWYoMD09PWIuZW5jb2Rpbmcpe3ZhciBfPShuLnBpeGVscy5udW1CeXRlcy0xKS80O2lmKF8hPT1NYXRoLmZsb29yKF8pKXRocm93InVuY29tcHJlc3NlZCBibG9jayBoYXMgaW52YWxpZCBsZW5ndGgiO3g9bmV3IEFycmF5QnVmZmVyKDQqXyksbmV3IFVpbnQ4QXJyYXkoeCkuc2V0KG5ldyBVaW50OEFycmF5KGUsdCw0Kl8pKTt2YXIgQT1uZXcgRmxvYXQzMkFycmF5KHgpO2IucmF3RGF0YT1BLHQrPTQqX31lbHNlIGlmKDE9PT1iLmVuY29kaW5nKXt2YXIgUD1NYXRoLmNlaWwoYi5udW1WYWxpZFBpeGVscypiLmJpdHNQZXJQaXhlbC84KSxJPU1hdGguY2VpbChQLzQpO3g9bmV3IEFycmF5QnVmZmVyKDQqSSksbmV3IFVpbnQ4QXJyYXkoeCkuc2V0KG5ldyBVaW50OEFycmF5KGUsdCxQKSksYi5zdHVmZmVkRGF0YT1uZXcgVWludDMyQXJyYXkoeCksdCs9UH19ZWxzZSB0Kyt9cmV0dXJuIG4uZW9mT2Zmc2V0PXQsbn0sYT1mdW5jdGlvbihlLHQscixuLGksYSxvKXt2YXIgcyxmLGwsdT0oMTw8dCktMSxjPTAsaD0wLGQ9TWF0aC5jZWlsKChvLW4pL2kpLHA9NCplLmxlbmd0aC1NYXRoLmNlaWwodCpyLzgpO2ZvcihlW2UubGVuZ3RoLTFdPDw9OCpwLHM9MDtzPHI7cysrKXtpZigwPT09aCYmKGw9ZVtjKytdLGg9MzIpLGg+PXQpZj1sPj4+aC10JnUsaC09dDtlbHNle3ZhciBtPXQtaDtmPShsJnUpPDxtJnUsZis9KGw9ZVtjKytdKT4+PihoPTMyLW0pfWFbc109ZjxkP24rZippOm99cmV0dXJuIGF9LGUpLHk9KG89ZnVuY3Rpb24oZSx0LHIsbixpLGEsbyxzKXt2YXIgZixsLHUsYyxoLGQ9KDE8PHIpLTEscD0wLG09MCx2PTQqZS5sZW5ndGgtTWF0aC5jZWlsKHIqbi84KTtpZihlW2UubGVuZ3RoLTFdPDw9OCp2LGkpZm9yKGY9MDtmPG47ZisrKTA9PT1tJiYodT1lW3ArK10sbT0zMiksbT49cj8obD11Pj4+bS1yJmQsbS09cik6KGw9KHUmZCk8PChjPXItbSkmZCxsKz0odT1lW3ArK10pPj4+KG09MzItYykpLHRbZl09aVtsXTtlbHNlIGZvcihoPU1hdGguY2VpbCgocy1hKS9vKSxmPTA7ZjxuO2YrKykwPT09bSYmKHU9ZVtwKytdLG09MzIpLG0+PXI/KGw9dT4+Pm0tciZkLG0tPXIpOihsPSh1JmQpPDwoYz1yLW0pJmQsbCs9KHU9ZVtwKytdKT4+PihtPTMyLWMpKSx0W2ZdPWw8aD9hK2wqbzpzfSxzPWZ1bmN0aW9uKGUsdCxyLG4saSxhKXt2YXIgbyxzPSgxPDx0KS0xLGY9MCxsPTAsdT0wLGM9MCxoPTAsZD1bXSxwPTQqZS5sZW5ndGgtTWF0aC5jZWlsKHQqci84KTtlW2UubGVuZ3RoLTFdPDw9OCpwO3ZhciBtPU1hdGguY2VpbCgoYS1uKS9pKTtmb3IobD0wO2w8cjtsKyspMD09PWMmJihvPWVbZisrXSxjPTMyKSxjPj10PyhoPW8+Pj5jLXQmcyxjLT10KTooaD0obyZzKTw8KHU9dC1jKSZzLGgrPShvPWVbZisrXSk+Pj4oYz0zMi11KSksZFtsXT1oPG0/bitoKmk6YTtyZXR1cm4gZC51bnNoaWZ0KG4pLGR9LGY9ZnVuY3Rpb24oZSx0LHIsbixpLGEsbyxzKXt2YXIgZixsLHUsYyxoPSgxPDxyKS0xLGQ9MCxwPTAsbT0wO2lmKGkpZm9yKGY9MDtmPG47ZisrKTA9PT1wJiYodT1lW2QrK10scD0zMixtPTApLHA+PXI/KGw9dT4+Pm0maCxwLT1yLG0rPXIpOihsPXU+Pj5tJmgscD0zMi0oYz1yLXApLGx8PSgodT1lW2QrK10pJigxPDxjKS0xKTw8ci1jLG09YyksdFtmXT1pW2xdO2Vsc2V7dmFyIHY9TWF0aC5jZWlsKChzLWEpL28pO2ZvcihmPTA7ZjxuO2YrKykwPT09cCYmKHU9ZVtkKytdLHA9MzIsbT0wKSxwPj1yPyhsPXU+Pj5tJmgscC09cixtKz1yKToobD11Pj4+bSZoLHA9MzItKGM9ci1wKSxsfD0oKHU9ZVtkKytdKSYoMTw8YyktMSk8PHItYyxtPWMpLHRbZl09bDx2P2ErbCpvOnN9cmV0dXJuIHR9LGw9ZnVuY3Rpb24oZSx0LHIsbixpLGEpe3ZhciBvLHM9KDE8PHQpLTEsZj0wLGw9MCx1PTAsYz0wLGg9MCxkPTAscD1bXSxtPU1hdGguY2VpbCgoYS1uKS9pKTtmb3IobD0wO2w8cjtsKyspMD09PWMmJihvPWVbZisrXSxjPTMyLGQ9MCksYz49dD8oaD1vPj4+ZCZzLGMtPXQsZCs9dCk6KGg9bz4+PmQmcyxjPTMyLSh1PXQtYyksaHw9KChvPWVbZisrXSkmKDE8PHUpLTEpPDx0LXUsZD11KSxwW2xdPWg8bT9uK2gqaTphO3JldHVybiBwLnVuc2hpZnQobikscH0sdT1mdW5jdGlvbihlLHQscixuKXt2YXIgaSxhLG8scyxmPSgxPDxyKS0xLGw9MCx1PTAsYz00KmUubGVuZ3RoLU1hdGguY2VpbChyKm4vOCk7Zm9yKGVbZS5sZW5ndGgtMV08PD04KmMsaT0wO2k8bjtpKyspMD09PXUmJihvPWVbbCsrXSx1PTMyKSx1Pj1yPyhhPW8+Pj51LXImZix1LT1yKTooYT0obyZmKTw8KHM9ci11KSZmLGErPShvPWVbbCsrXSk+Pj4odT0zMi1zKSksdFtpXT1hO3JldHVybiB0fSxjPWZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBpLGEsbyxzLGY9KDE8PHIpLTEsbD0wLHU9MCxjPTA7Zm9yKGk9MDtpPG47aSsrKTA9PT11JiYobz1lW2wrK10sdT0zMixjPTApLHU+PXI/KGE9bz4+PmMmZix1LT1yLGMrPXIpOihhPW8+Pj5jJmYsdT0zMi0ocz1yLXUpLGF8PSgobz1lW2wrK10pJigxPDxzKS0xKTw8ci1zLGM9cyksdFtpXT1hO3JldHVybiB0fSxoPXtIVUZGTUFOX0xVVF9CSVRTX01BWDoxMixjb21wdXRlQ2hlY2tzdW1GbGV0Y2hlcjMyOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD02NTUzNSxyPTY1NTM1LG49ZS5sZW5ndGgsaT1NYXRoLmZsb29yKG4vMiksYT0wO2k7KXt2YXIgbz1pPj0zNTk/MzU5Omk7aS09bztkb3t0Kz1lW2ErK108PDgscis9dCs9ZVthKytdfXdoaWxlKC0tbyk7dD0oNjU1MzUmdCkrKHQ+Pj4xNikscj0oNjU1MzUmcikrKHI+Pj4xNil9cmV0dXJuIDEmbiYmKHIrPXQrPWVbYV08PDgpLCgocj0oNjU1MzUmcikrKHI+Pj4xNikpPDwxNnwodD0oNjU1MzUmdCkrKHQ+Pj4xNikpKT4+PjB9LHJlYWRIZWFkZXJJbmZvOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dC5wdHIsbj1uZXcgVWludDhBcnJheShlLHIsNiksaT17fTtpZihpLmZpbGVJZGVudGlmaWVyU3RyaW5nPVN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCxuKSwwIT09aS5maWxlSWRlbnRpZmllclN0cmluZy5sYXN0SW5kZXhPZigiTGVyYzIiLDApKXRocm93IlVuZXhwZWN0ZWQgZmlsZSBpZGVudGlmaWVyIHN0cmluZyAoZXhwZWN0IExlcmMyICk6ICIraS5maWxlSWRlbnRpZmllclN0cmluZztyKz02O3ZhciBhLG89bmV3IERhdGFWaWV3KGUsciw4KSxzPW8uZ2V0SW50MzIoMCwhMCk7aWYoaS5maWxlVmVyc2lvbj1zLHIrPTQscz49MyYmKGkuY2hlY2tzdW09by5nZXRVaW50MzIoNCwhMCkscis9NCksbz1uZXcgRGF0YVZpZXcoZSxyLDEyKSxpLmhlaWdodD1vLmdldFVpbnQzMigwLCEwKSxpLndpZHRoPW8uZ2V0VWludDMyKDQsITApLHIrPTgscz49ND8oaS5udW1EaW1zPW8uZ2V0VWludDMyKDgsITApLHIrPTQpOmkubnVtRGltcz0xLG89bmV3IERhdGFWaWV3KGUsciw0MCksaS5udW1WYWxpZFBpeGVsPW8uZ2V0VWludDMyKDAsITApLGkubWljcm9CbG9ja1NpemU9by5nZXRJbnQzMig0LCEwKSxpLmJsb2JTaXplPW8uZ2V0SW50MzIoOCwhMCksaS5pbWFnZVR5cGU9by5nZXRJbnQzMigxMiwhMCksaS5tYXhaRXJyb3I9by5nZXRGbG9hdDY0KDE2LCEwKSxpLnpNaW49by5nZXRGbG9hdDY0KDI0LCEwKSxpLnpNYXg9by5nZXRGbG9hdDY0KDMyLCEwKSxyKz00MCx0LmhlYWRlckluZm89aSx0LnB0cj1yLHM+PTMmJihhPXM+PTQ/NTI6NDgsdGhpcy5jb21wdXRlQ2hlY2tzdW1GbGV0Y2hlcjMyKG5ldyBVaW50OEFycmF5KGUsci1hLGkuYmxvYlNpemUtMTQpKSE9PWkuY2hlY2tzdW0pKXRocm93IkNoZWNrc3VtIGZhaWxlZC4iO3JldHVybiEwfSxjaGVja01pbk1heFJhbmdlczpmdW5jdGlvbihlLHQpe3ZhciByPXQuaGVhZGVySW5mbyxuPXRoaXMuZ2V0RGF0YVR5cGVBcnJheShyLmltYWdlVHlwZSksaT1yLm51bURpbXMqdGhpcy5nZXREYXRhVHlwZVNpemUoci5pbWFnZVR5cGUpLGE9dGhpcy5yZWFkU3ViQXJyYXkoZSx0LnB0cixuLGkpLG89dGhpcy5yZWFkU3ViQXJyYXkoZSx0LnB0citpLG4saSk7dC5wdHIrPTIqaTt2YXIgcyxmPSEwO2ZvcihzPTA7czxyLm51bURpbXM7cysrKWlmKGFbc10hPT1vW3NdKXtmPSExO2JyZWFrfXJldHVybiByLm1pblZhbHVlcz1hLHIubWF4VmFsdWVzPW8sZn0scmVhZFN1YkFycmF5OmZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBpO2lmKHI9PT1VaW50OEFycmF5KWk9bmV3IFVpbnQ4QXJyYXkoZSx0LG4pO2Vsc2V7dmFyIGE9bmV3IEFycmF5QnVmZmVyKG4pO25ldyBVaW50OEFycmF5KGEpLnNldChuZXcgVWludDhBcnJheShlLHQsbikpLGk9bmV3IHIoYSl9cmV0dXJuIGl9LHJlYWRNYXNrOmZ1bmN0aW9uKGUsdCl7dmFyIHIsbixpPXQucHRyLGE9dC5oZWFkZXJJbmZvLG89YS53aWR0aCphLmhlaWdodCxzPWEubnVtVmFsaWRQaXhlbCxmPW5ldyBEYXRhVmlldyhlLGksNCksbD17fTtpZihsLm51bUJ5dGVzPWYuZ2V0VWludDMyKDAsITApLGkrPTQsKDA9PT1zfHxvPT09cykmJjAhPT1sLm51bUJ5dGVzKXRocm93ImludmFsaWQgbWFzayI7aWYoMD09PXMpcj1uZXcgVWludDhBcnJheShNYXRoLmNlaWwoby84KSksbC5iaXRzZXQ9cixuPW5ldyBVaW50OEFycmF5KG8pLHQucGl4ZWxzLnJlc3VsdE1hc2s9bixpKz1sLm51bUJ5dGVzO2Vsc2UgaWYobC5udW1CeXRlcz4wKXtyPW5ldyBVaW50OEFycmF5KE1hdGguY2VpbChvLzgpKTt2YXIgdT0oZj1uZXcgRGF0YVZpZXcoZSxpLGwubnVtQnl0ZXMpKS5nZXRJbnQxNigwLCEwKSxjPTIsaD0wLGQ9MDtkb3tpZih1PjApZm9yKDt1LS07KXJbaCsrXT1mLmdldFVpbnQ4KGMrKyk7ZWxzZSBmb3IoZD1mLmdldFVpbnQ4KGMrKyksdT0tdTt1LS07KXJbaCsrXT1kO3U9Zi5nZXRJbnQxNihjLCEwKSxjKz0yfXdoaWxlKGM8bC5udW1CeXRlcyk7aWYoLTMyNzY4IT09dXx8aDxyLmxlbmd0aCl0aHJvdyJVbmV4cGVjdGVkIGVuZCBvZiBtYXNrIFJMRSBlbmNvZGluZyI7bj1uZXcgVWludDhBcnJheShvKTt2YXIgcD0wLG09MDtmb3IobT0wO208bzttKyspNyZtPyhwPXJbbT4+M10scDw8PTcmbSk6cD1yW20+PjNdLDEyOCZwJiYoblttXT0xKTt0LnBpeGVscy5yZXN1bHRNYXNrPW4sbC5iaXRzZXQ9cixpKz1sLm51bUJ5dGVzfXJldHVybiB0LnB0cj1pLHQubWFzaz1sLCEwfSxyZWFkRGF0YU9uZVN3ZWVwOmZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBpLGE9dC5wdHIsbz10LmhlYWRlckluZm8scz1vLm51bURpbXMsZj1vLndpZHRoKm8uaGVpZ2h0LGw9by5pbWFnZVR5cGUsdT1vLm51bVZhbGlkUGl4ZWwqaC5nZXREYXRhVHlwZVNpemUobCkqcyxjPXQucGl4ZWxzLnJlc3VsdE1hc2s7aWYocj09PVVpbnQ4QXJyYXkpaT1uZXcgVWludDhBcnJheShlLGEsdSk7ZWxzZXt2YXIgZD1uZXcgQXJyYXlCdWZmZXIodSk7bmV3IFVpbnQ4QXJyYXkoZCkuc2V0KG5ldyBVaW50OEFycmF5KGUsYSx1KSksaT1uZXcgcihkKX1pZihpLmxlbmd0aD09PWYqcyl0LnBpeGVscy5yZXN1bHRQaXhlbHM9bj9oLnN3YXBEaW1lbnNpb25PcmRlcihpLGYscyxyLCEwKTppO2Vsc2V7dC5waXhlbHMucmVzdWx0UGl4ZWxzPW5ldyByKGYqcyk7dmFyIHA9MCxtPTAsdj0wLHk9MDtpZihzPjEpe2lmKG4pe2ZvcihtPTA7bTxmO20rKylpZihjW21dKWZvcih5PW0sdj0wO3Y8czt2KysseSs9Zil0LnBpeGVscy5yZXN1bHRQaXhlbHNbeV09aVtwKytdfWVsc2UgZm9yKG09MDttPGY7bSsrKWlmKGNbbV0pZm9yKHk9bSpzLHY9MDt2PHM7disrKXQucGl4ZWxzLnJlc3VsdFBpeGVsc1t5K3ZdPWlbcCsrXX1lbHNlIGZvcihtPTA7bTxmO20rKyljW21dJiYodC5waXhlbHMucmVzdWx0UGl4ZWxzW21dPWlbcCsrXSl9cmV0dXJuIGErPXUsdC5wdHI9YSwhMH0scmVhZEh1ZmZtYW5UcmVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5IVUZGTUFOX0xVVF9CSVRTX01BWCxuPW5ldyBEYXRhVmlldyhlLHQucHRyLDE2KTtpZih0LnB0cis9MTYsbi5nZXRJbnQzMigwLCEwKTwyKXRocm93InVuc3VwcG9ydGVkIEh1ZmZtYW4gdmVyc2lvbiI7dmFyIGk9bi5nZXRJbnQzMig0LCEwKSxhPW4uZ2V0SW50MzIoOCwhMCksbz1uLmdldEludDMyKDEyLCEwKTtpZihhPj1vKXJldHVybiExO3ZhciBzPW5ldyBVaW50MzJBcnJheShvLWEpO2guZGVjb2RlQml0cyhlLHQscyk7dmFyIGYsbCx1LGMscD1bXTtmb3IoZj1hO2Y8bztmKyspcFtsPWYtKGY8aT8wOmkpXT17Zmlyc3Q6c1tmLWFdLHNlY29uZDpudWxsfTt2YXIgbT1lLmJ5dGVMZW5ndGgtdC5wdHIsdj1NYXRoLmNlaWwobS80KSx5PW5ldyBBcnJheUJ1ZmZlcig0KnYpO25ldyBVaW50OEFycmF5KHkpLnNldChuZXcgVWludDhBcnJheShlLHQucHRyLG0pKTt2YXIgdyxnPW5ldyBVaW50MzJBcnJheSh5KSxiPTAsaz0wO2Zvcih3PWdbMF0sZj1hO2Y8bztmKyspKGM9cFtsPWYtKGY8aT8wOmkpXS5maXJzdCk+MCYmKHBbbF0uc2Vjb25kPXc8PGI+Pj4zMi1jLDMyLWI+PWM/MzI9PT0oYis9YykmJihiPTAsdz1nWysra10pOihiKz1jLTMyLHc9Z1srK2tdLHBbbF0uc2Vjb25kfD13Pj4+MzItYikpO3ZhciB4PTAsXz0wLEE9bmV3IGQ7Zm9yKGY9MDtmPHAubGVuZ3RoO2YrKyl2b2lkIDAhPT1wW2ZdJiYoeD1NYXRoLm1heCh4LHBbZl0uZmlyc3QpKTtfPXg+PXI/cjp4O3ZhciBQLEksVSxTLFQsRD1bXTtmb3IoZj1hO2Y8bztmKyspaWYoKGM9cFtsPWYtKGY8aT8wOmkpXS5maXJzdCk+MClpZihQPVtjLGxdLGM8PV8pZm9yKEk9cFtsXS5zZWNvbmQ8PF8tYyxVPTE8PF8tYyx1PTA7dTxVO3UrKylEW0l8dV09UDtlbHNlIGZvcihJPXBbbF0uc2Vjb25kLFQ9QSxTPWMtMTtTPj0wO1MtLSlJPj4+UyYxPyhULnJpZ2h0fHwoVC5yaWdodD1uZXcgZCksVD1ULnJpZ2h0KTooVC5sZWZ0fHwoVC5sZWZ0PW5ldyBkKSxUPVQubGVmdCksMCE9PVN8fFQudmFsfHwoVC52YWw9UFsxXSk7cmV0dXJue2RlY29kZUx1dDpELG51bUJpdHNMVVRRaWNrOl8sbnVtQml0c0xVVDp4LHRyZWU6QSxzdHVmZmVkRGF0YTpnLHNyY1B0cjprLGJpdFBvczpifX0scmVhZEh1ZmZtYW46ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGksYSxvLHMsZixsLHUsYyxkLHA9dC5oZWFkZXJJbmZvLm51bURpbXMsbT10LmhlYWRlckluZm8uaGVpZ2h0LHY9dC5oZWFkZXJJbmZvLndpZHRoLHk9diptLHc9dGhpcy5yZWFkSHVmZm1hblRyZWUoZSx0KSxnPXcuZGVjb2RlTHV0LGI9dy50cmVlLGs9dy5zdHVmZmVkRGF0YSx4PXcuc3JjUHRyLF89dy5iaXRQb3MsQT13Lm51bUJpdHNMVVRRaWNrLFA9dy5udW1CaXRzTFVULEk9MD09PXQuaGVhZGVySW5mby5pbWFnZVR5cGU/MTI4OjAsVT10LnBpeGVscy5yZXN1bHRNYXNrLFM9MDtfPjAmJih4KyssXz0wKTt2YXIgVCxEPWtbeF0sRT0xPT09dC5lbmNvZGVNb2RlLEI9bmV3IHIoeSpwKSxPPUI7aWYocDwyfHxFKXtmb3IoVD0wO1Q8cDtUKyspaWYocD4xJiYoTz1uZXcgcihCLmJ1ZmZlcix5KlQseSksUz0wKSx0LmhlYWRlckluZm8ubnVtVmFsaWRQaXhlbD09PXYqbSlmb3IoYz0wLGw9MDtsPG07bCsrKWZvcih1PTA7dTx2O3UrKyxjKyspe2lmKGE9MCxmPXM9RDw8Xz4+PjMyLUEsMzItXzxBJiYoZj1zfD1rW3grMV0+Pj42NC1fLUEpLGdbZl0pYT1nW2ZdWzFdLF8rPWdbZl1bMF07ZWxzZSBmb3IoZj1zPUQ8PF8+Pj4zMi1QLDMyLV88UCYmKGY9c3w9a1t4KzFdPj4+NjQtXy1QKSxpPWIsZD0wO2Q8UDtkKyspaWYoIShpPXM+Pj5QLWQtMSYxP2kucmlnaHQ6aS5sZWZ0KS5sZWZ0JiYhaS5yaWdodCl7YT1pLnZhbCxfPV8rZCsxO2JyZWFrfV8+PTMyJiYoXy09MzIsRD1rWysreF0pLG89YS1JLEU/KG8rPXU+MD9TOmw+MD9PW2Mtdl06UyxvJj0yNTUsT1tjXT1vLFM9byk6T1tjXT1vfWVsc2UgZm9yKGM9MCxsPTA7bDxtO2wrKylmb3IodT0wO3U8djt1KyssYysrKWlmKFVbY10pe2lmKGE9MCxmPXM9RDw8Xz4+PjMyLUEsMzItXzxBJiYoZj1zfD1rW3grMV0+Pj42NC1fLUEpLGdbZl0pYT1nW2ZdWzFdLF8rPWdbZl1bMF07ZWxzZSBmb3IoZj1zPUQ8PF8+Pj4zMi1QLDMyLV88UCYmKGY9c3w9a1t4KzFdPj4+NjQtXy1QKSxpPWIsZD0wO2Q8UDtkKyspaWYoIShpPXM+Pj5QLWQtMSYxP2kucmlnaHQ6aS5sZWZ0KS5sZWZ0JiYhaS5yaWdodCl7YT1pLnZhbCxfPV8rZCsxO2JyZWFrfV8+PTMyJiYoXy09MzIsRD1rWysreF0pLG89YS1JLEU/KHU+MCYmVVtjLTFdP28rPVM6bD4wJiZVW2Mtdl0/bys9T1tjLXZdOm8rPVMsbyY9MjU1LE9bY109byxTPW8pOk9bY109b319ZWxzZSBmb3IoYz0wLGw9MDtsPG07bCsrKWZvcih1PTA7dTx2O3UrKylpZihjPWwqdit1LCFVfHxVW2NdKWZvcihUPTA7VDxwO1QrKyxjKz15KXtpZihhPTAsZj1zPUQ8PF8+Pj4zMi1BLDMyLV88QSYmKGY9c3w9a1t4KzFdPj4+NjQtXy1BKSxnW2ZdKWE9Z1tmXVsxXSxfKz1nW2ZdWzBdO2Vsc2UgZm9yKGY9cz1EPDxfPj4+MzItUCwzMi1fPFAmJihmPXN8PWtbeCsxXT4+PjY0LV8tUCksaT1iLGQ9MDtkPFA7ZCsrKWlmKCEoaT1zPj4+UC1kLTEmMT9pLnJpZ2h0OmkubGVmdCkubGVmdCYmIWkucmlnaHQpe2E9aS52YWwsXz1fK2QrMTticmVha31fPj0zMiYmKF8tPTMyLEQ9a1srK3hdKSxvPWEtSSxPW2NdPW99dC5wdHI9dC5wdHIrNCooeCsxKSsoXz4wPzQ6MCksdC5waXhlbHMucmVzdWx0UGl4ZWxzPUIscD4xJiYhbiYmKHQucGl4ZWxzLnJlc3VsdFBpeGVscz1oLnN3YXBEaW1lbnNpb25PcmRlcihCLHkscCxyKSl9LGRlY29kZUJpdHM6ZnVuY3Rpb24oZSx0LHIsbixpKXt2YXIgYT10LmhlYWRlckluZm8saD1hLmZpbGVWZXJzaW9uLGQ9MCxwPWUuYnl0ZUxlbmd0aC10LnB0cj49NT81OmUuYnl0ZUxlbmd0aC10LnB0cixtPW5ldyBEYXRhVmlldyhlLHQucHRyLHApLHY9bS5nZXRVaW50OCgwKTtkKys7dmFyIHk9dj4+Nix3PTA9PT15PzQ6My15LGc9KDMyJnYpPjAsYj0zMSZ2LGs9MDtpZigxPT09dylrPW0uZ2V0VWludDgoZCksZCsrO2Vsc2UgaWYoMj09PXcpaz1tLmdldFVpbnQxNihkLCEwKSxkKz0yO2Vsc2V7aWYoNCE9PXcpdGhyb3ciSW52YWxpZCB2YWxpZCBwaXhlbCBjb3VudCB0eXBlIjtrPW0uZ2V0VWludDMyKGQsITApLGQrPTR9dmFyIHgsXyxBLFAsSSxVLFMsVCxELEU9MiphLm1heFpFcnJvcixCPWEubnVtRGltcz4xP2EubWF4VmFsdWVzW2ldOmEuek1heDtpZihnKXtmb3IodC5jb3VudGVyLmx1dCsrLFQ9bS5nZXRVaW50OChkKSxkKyssUD1NYXRoLmNlaWwoKFQtMSkqYi84KSxJPU1hdGguY2VpbChQLzQpLF89bmV3IEFycmF5QnVmZmVyKDQqSSksQT1uZXcgVWludDhBcnJheShfKSx0LnB0cis9ZCxBLnNldChuZXcgVWludDhBcnJheShlLHQucHRyLFApKSxTPW5ldyBVaW50MzJBcnJheShfKSx0LnB0cis9UCxEPTA7VC0xPj4+RDspRCsrO1A9TWF0aC5jZWlsKGsqRC84KSxJPU1hdGguY2VpbChQLzQpLF89bmV3IEFycmF5QnVmZmVyKDQqSSksKEE9bmV3IFVpbnQ4QXJyYXkoXykpLnNldChuZXcgVWludDhBcnJheShlLHQucHRyLFApKSx4PW5ldyBVaW50MzJBcnJheShfKSx0LnB0cis9UCxVPWg+PTM/bChTLGIsVC0xLG4sRSxCKTpzKFMsYixULTEsbixFLEIpLGg+PTM/Zih4LHIsRCxrLFUpOm8oeCxyLEQsayxVKX1lbHNlIHQuY291bnRlci5iaXRzdHVmZmVyKyssRD1iLHQucHRyKz1kLEQ+MCYmKFA9TWF0aC5jZWlsKGsqRC84KSxJPU1hdGguY2VpbChQLzQpLF89bmV3IEFycmF5QnVmZmVyKDQqSSksKEE9bmV3IFVpbnQ4QXJyYXkoXykpLnNldChuZXcgVWludDhBcnJheShlLHQucHRyLFApKSx4PW5ldyBVaW50MzJBcnJheShfKSx0LnB0cis9UCxoPj0zP251bGw9PW4/Yyh4LHIsRCxrKTpmKHgscixELGssITEsbixFLEIpOm51bGw9PW4/dSh4LHIsRCxrKTpvKHgscixELGssITEsbixFLEIpKX0scmVhZFRpbGVzOmZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBpPXQuaGVhZGVySW5mbyxhPWkud2lkdGgsbz1pLmhlaWdodCxzPWEqbyxmPWkubWljcm9CbG9ja1NpemUsbD1pLmltYWdlVHlwZSx1PWguZ2V0RGF0YVR5cGVTaXplKGwpLGM9TWF0aC5jZWlsKGEvZiksZD1NYXRoLmNlaWwoby9mKTt0LnBpeGVscy5udW1CbG9ja3NZPWQsdC5waXhlbHMubnVtQmxvY2tzWD1jLHQucGl4ZWxzLnB0cj0wO3ZhciBwLG0sdix5LHcsZyxiLGsseCxfLEE9MCxQPTAsST0wLFU9MCxTPTAsVD0wLEQ9MCxFPTAsQj0wLE89MCxNPTAsQz0wLEw9MCxSPTAsVj0wLEc9bmV3IHIoZipmKSxGPW8lZnx8Zix6PWElZnx8ZixqPWkubnVtRGltcyxOPXQucGl4ZWxzLnJlc3VsdE1hc2ssWj10LnBpeGVscy5yZXN1bHRQaXhlbHMsSz1pLmZpbGVWZXJzaW9uPj01PzE0OjE1LEg9aS56TWF4O2ZvcihJPTA7STxkO0krKylmb3IoUz1JIT09ZC0xP2Y6RixVPTA7VTxjO1UrKylmb3IoTz1JKmEqZitVKmYsTT1hLShUPVUhPT1jLTE/Zjp6KSxrPTA7azxqO2srKyl7aWYoaj4xPyhfPVosTz1JKmEqZitVKmYsWj1uZXcgcih0LnBpeGVscy5yZXN1bHRQaXhlbHMuYnVmZmVyLHMqayp1LHMpLEg9aS5tYXhWYWx1ZXNba10pOl89bnVsbCxEPWUuYnl0ZUxlbmd0aC10LnB0cixtPXt9LFY9MCxFPShwPW5ldyBEYXRhVmlldyhlLHQucHRyLE1hdGgubWluKDEwLEQpKSkuZ2V0VWludDgoMCksVisrLHg9aS5maWxlVmVyc2lvbj49NT80JkU6MCxCPUU+PjYmMjU1LChFPj4yJkspIT0oVSpmPj4zJkspKXRocm93ImludGVncml0eSBpc3N1ZSI7aWYoeCYmMD09PWspdGhyb3ciaW50ZWdyaXR5IGlzc3VlIjtpZigodz0zJkUpPjMpdGhyb3cgdC5wdHIrPVYsIkludmFsaWQgYmxvY2sgZW5jb2RpbmcgKCIrdysiKSI7aWYoMiE9PXcpaWYoMD09PXcpe2lmKHgpdGhyb3ciaW50ZWdyaXR5IGlzc3VlIjtpZih0LmNvdW50ZXIudW5jb21wcmVzc2VkKyssdC5wdHIrPVYsQz0oQz1TKlQqdSk8KEw9ZS5ieXRlTGVuZ3RoLXQucHRyKT9DOkwsdj1uZXcgQXJyYXlCdWZmZXIoQyV1PT0wP0M6Qyt1LUMldSksbmV3IFVpbnQ4QXJyYXkodikuc2V0KG5ldyBVaW50OEFycmF5KGUsdC5wdHIsQykpLHk9bmV3IHIodiksUj0wLE4pZm9yKEE9MDtBPFM7QSsrKXtmb3IoUD0wO1A8VDtQKyspTltPXSYmKFpbT109eVtSKytdKSxPKys7Tys9TX1lbHNlIGZvcihBPTA7QTxTO0ErKyl7Zm9yKFA9MDtQPFQ7UCsrKVpbTysrXT15W1IrK107Tys9TX10LnB0cis9Uip1fWVsc2UgaWYoZz1oLmdldERhdGFUeXBlVXNlZCh4JiZsPDY/NDpsLEIpLGI9aC5nZXRPbmVQaXhlbChtLFYsZyxwKSxWKz1oLmdldERhdGFUeXBlU2l6ZShnKSwzPT09dylpZih0LnB0cis9Vix0LmNvdW50ZXIuY29uc3RhbnRvZmZzZXQrKyxOKWZvcihBPTA7QTxTO0ErKyl7Zm9yKFA9MDtQPFQ7UCsrKU5bT10mJihaW09dPXg/TWF0aC5taW4oSCxfW09dK2IpOmIpLE8rKztPKz1NfWVsc2UgZm9yKEE9MDtBPFM7QSsrKXtmb3IoUD0wO1A8VDtQKyspWltPXT14P01hdGgubWluKEgsX1tPXStiKTpiLE8rKztPKz1NfWVsc2UgaWYodC5wdHIrPVYsaC5kZWNvZGVCaXRzKGUsdCxHLGIsayksVj0wLHgpaWYoTilmb3IoQT0wO0E8UztBKyspe2ZvcihQPTA7UDxUO1ArKylOW09dJiYoWltPXT1HW1YrK10rX1tPXSksTysrO08rPU19ZWxzZSBmb3IoQT0wO0E8UztBKyspe2ZvcihQPTA7UDxUO1ArKylaW09dPUdbVisrXStfW09dLE8rKztPKz1NfWVsc2UgaWYoTilmb3IoQT0wO0E8UztBKyspe2ZvcihQPTA7UDxUO1ArKylOW09dJiYoWltPXT1HW1YrK10pLE8rKztPKz1NfWVsc2UgZm9yKEE9MDtBPFM7QSsrKXtmb3IoUD0wO1A8VDtQKyspWltPKytdPUdbVisrXTtPKz1NfWVsc2V7aWYoeClpZihOKWZvcihBPTA7QTxTO0ErKylmb3IoUD0wO1A8VDtQKyspTltPXSYmKFpbT109X1tPXSksTysrO2Vsc2UgZm9yKEE9MDtBPFM7QSsrKWZvcihQPTA7UDxUO1ArKylaW09dPV9bT10sTysrO3QuY291bnRlci5jb25zdGFudCsrLHQucHRyKz1WfX1qPjEmJiFuJiYodC5waXhlbHMucmVzdWx0UGl4ZWxzPWguc3dhcERpbWVuc2lvbk9yZGVyKHQucGl4ZWxzLnJlc3VsdFBpeGVscyxzLGoscikpfSxmb3JtYXRGaWxlSW5mbzpmdW5jdGlvbihlKXtyZXR1cm57ZmlsZUlkZW50aWZpZXJTdHJpbmc6ZS5oZWFkZXJJbmZvLmZpbGVJZGVudGlmaWVyU3RyaW5nLGZpbGVWZXJzaW9uOmUuaGVhZGVySW5mby5maWxlVmVyc2lvbixpbWFnZVR5cGU6ZS5oZWFkZXJJbmZvLmltYWdlVHlwZSxoZWlnaHQ6ZS5oZWFkZXJJbmZvLmhlaWdodCx3aWR0aDplLmhlYWRlckluZm8ud2lkdGgsbnVtVmFsaWRQaXhlbDplLmhlYWRlckluZm8ubnVtVmFsaWRQaXhlbCxtaWNyb0Jsb2NrU2l6ZTplLmhlYWRlckluZm8ubWljcm9CbG9ja1NpemUsYmxvYlNpemU6ZS5oZWFkZXJJbmZvLmJsb2JTaXplLG1heFpFcnJvcjplLmhlYWRlckluZm8ubWF4WkVycm9yLHBpeGVsVHlwZTpoLmdldFBpeGVsVHlwZShlLmhlYWRlckluZm8uaW1hZ2VUeXBlKSxlb2ZPZmZzZXQ6ZS5lb2ZPZmZzZXQsbWFzazplLm1hc2s/e251bUJ5dGVzOmUubWFzay5udW1CeXRlc306bnVsbCxwaXhlbHM6e251bUJsb2Nrc1g6ZS5waXhlbHMubnVtQmxvY2tzWCxudW1CbG9ja3NZOmUucGl4ZWxzLm51bUJsb2Nrc1ksbWF4VmFsdWU6ZS5oZWFkZXJJbmZvLnpNYXgsbWluVmFsdWU6ZS5oZWFkZXJJbmZvLnpNaW4sbm9EYXRhVmFsdWU6ZS5ub0RhdGFWYWx1ZX19fSxjb25zdHJ1Y3RDb25zdGFudFN1cmZhY2U6ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLmhlYWRlckluZm8uek1heCxuPWUuaGVhZGVySW5mby56TWluLGk9ZS5oZWFkZXJJbmZvLm1heFZhbHVlcyxhPWUuaGVhZGVySW5mby5udW1EaW1zLG89ZS5oZWFkZXJJbmZvLmhlaWdodCplLmhlYWRlckluZm8ud2lkdGgscz0wLGY9MCxsPTAsdT1lLnBpeGVscy5yZXN1bHRNYXNrLGM9ZS5waXhlbHMucmVzdWx0UGl4ZWxzO2lmKHUpaWYoYT4xKXtpZih0KWZvcihzPTA7czxhO3MrKylmb3IobD1zKm8scj1pW3NdLGY9MDtmPG87ZisrKXVbZl0mJihjW2wrZl09cik7ZWxzZSBmb3IoZj0wO2Y8bztmKyspaWYodVtmXSlmb3IobD1mKmEscz0wO3M8YTtzKyspY1tsK2FdPWlbc119ZWxzZSBmb3IoZj0wO2Y8bztmKyspdVtmXSYmKGNbZl09cik7ZWxzZSBpZihhPjEmJm4hPT1yKWlmKHQpZm9yKHM9MDtzPGE7cysrKWZvcihsPXMqbyxyPWlbc10sZj0wO2Y8bztmKyspY1tsK2ZdPXI7ZWxzZSBmb3IoZj0wO2Y8bztmKyspZm9yKGw9ZiphLHM9MDtzPGE7cysrKWNbbCtzXT1pW3NdO2Vsc2UgZm9yKGY9MDtmPG8qYTtmKyspY1tmXT1yfSxnZXREYXRhVHlwZUFycmF5OmZ1bmN0aW9uKGUpe3ZhciB0O3N3aXRjaChlKXtjYXNlIDA6dD1JbnQ4QXJyYXk7YnJlYWs7Y2FzZSAxOnQ9VWludDhBcnJheTticmVhaztjYXNlIDI6dD1JbnQxNkFycmF5O2JyZWFrO2Nhc2UgMzp0PVVpbnQxNkFycmF5O2JyZWFrO2Nhc2UgNDp0PUludDMyQXJyYXk7YnJlYWs7Y2FzZSA1OnQ9VWludDMyQXJyYXk7YnJlYWs7Y2FzZSA2OmRlZmF1bHQ6dD1GbG9hdDMyQXJyYXk7YnJlYWs7Y2FzZSA3OnQ9RmxvYXQ2NEFycmF5fXJldHVybiB0fSxnZXRQaXhlbFR5cGU6ZnVuY3Rpb24oZSl7dmFyIHQ7c3dpdGNoKGUpe2Nhc2UgMDp0PSJTOCI7YnJlYWs7Y2FzZSAxOnQ9IlU4IjticmVhaztjYXNlIDI6dD0iUzE2IjticmVhaztjYXNlIDM6dD0iVTE2IjticmVhaztjYXNlIDQ6dD0iUzMyIjticmVhaztjYXNlIDU6dD0iVTMyIjticmVhaztjYXNlIDY6ZGVmYXVsdDp0PSJGMzIiO2JyZWFrO2Nhc2UgNzp0PSJGNjQifXJldHVybiB0fSxpc1ZhbGlkUGl4ZWxWYWx1ZTpmdW5jdGlvbihlLHQpe2lmKG51bGw9PXQpcmV0dXJuITE7dmFyIHI7c3dpdGNoKGUpe2Nhc2UgMDpyPXQ+PS0xMjgmJnQ8PTEyNzticmVhaztjYXNlIDE6cj10Pj0wJiZ0PD0yNTU7YnJlYWs7Y2FzZSAyOnI9dD49LTMyNzY4JiZ0PD0zMjc2NzticmVhaztjYXNlIDM6cj10Pj0wJiZ0PD02NTUzNjticmVhaztjYXNlIDQ6cj10Pj0tMjE0NzQ4MzY0OCYmdDw9MjE0NzQ4MzY0NzticmVhaztjYXNlIDU6cj10Pj0wJiZ0PD00Mjk0OTY3Mjk2O2JyZWFrO2Nhc2UgNjpyPXQ+PS0zNDAyNzk5OTM4NzkwMTQ4NGUyMiYmdDw9MzQwMjc5OTkzODc5MDE0ODRlMjI7YnJlYWs7Y2FzZSA3OnI9dD49LTE3OTc2OTMxMzQ4NjIzMTU3ZTI5MiYmdDw9MTc5NzY5MzEzNDg2MjMxNTdlMjkyO2JyZWFrO2RlZmF1bHQ6cj0hMX1yZXR1cm4gcn0sZ2V0RGF0YVR5cGVTaXplOmZ1bmN0aW9uKGUpe3ZhciB0PTA7c3dpdGNoKGUpe2Nhc2UgMDpjYXNlIDE6dD0xO2JyZWFrO2Nhc2UgMjpjYXNlIDM6dD0yO2JyZWFrO2Nhc2UgNDpjYXNlIDU6Y2FzZSA2OnQ9NDticmVhaztjYXNlIDc6dD04O2JyZWFrO2RlZmF1bHQ6dD1lfXJldHVybiB0fSxnZXREYXRhVHlwZVVzZWQ6ZnVuY3Rpb24oZSx0KXt2YXIgcj1lO3N3aXRjaChlKXtjYXNlIDI6Y2FzZSA0OnI9ZS10O2JyZWFrO2Nhc2UgMzpjYXNlIDU6cj1lLTIqdDticmVhaztjYXNlIDY6cj0wPT09dD9lOjE9PT10PzI6MTticmVhaztjYXNlIDc6cj0wPT09dD9lOmUtMip0KzE7YnJlYWs7ZGVmYXVsdDpyPWV9cmV0dXJuIHJ9LGdldE9uZVBpeGVsOmZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBpPTA7c3dpdGNoKHIpe2Nhc2UgMDppPW4uZ2V0SW50OCh0KTticmVhaztjYXNlIDE6aT1uLmdldFVpbnQ4KHQpO2JyZWFrO2Nhc2UgMjppPW4uZ2V0SW50MTYodCwhMCk7YnJlYWs7Y2FzZSAzOmk9bi5nZXRVaW50MTYodCwhMCk7YnJlYWs7Y2FzZSA0Omk9bi5nZXRJbnQzMih0LCEwKTticmVhaztjYXNlIDU6aT1uLmdldFVJbnQzMih0LCEwKTticmVhaztjYXNlIDY6aT1uLmdldEZsb2F0MzIodCwhMCk7YnJlYWs7Y2FzZSA3Omk9bi5nZXRGbG9hdDY0KHQsITApO2JyZWFrO2RlZmF1bHQ6dGhyb3cidGhlIGRlY29kZXIgZG9lcyBub3QgdW5kZXJzdGFuZCB0aGlzIHBpeGVsIHR5cGUifXJldHVybiBpfSxzd2FwRGltZW5zaW9uT3JkZXI6ZnVuY3Rpb24oZSx0LHIsbixpKXt2YXIgYT0wLG89MCxzPTAsZj0wLGw9ZTtpZihyPjEpaWYobD1uZXcgbih0KnIpLGkpZm9yKGE9MDthPHQ7YSsrKWZvcihmPWEscz0wO3M8cjtzKyssZis9dClsW2ZdPWVbbysrXTtlbHNlIGZvcihhPTA7YTx0O2ErKylmb3IoZj1hLHM9MDtzPHI7cysrLGYrPXQpbFtvKytdPWVbZl07cmV0dXJuIGx9fSxkPWZ1bmN0aW9uKGUsdCxyKXt0aGlzLnZhbD1lLHRoaXMubGVmdD10LHRoaXMucmlnaHQ9cn0se2RlY29kZTpmdW5jdGlvbihlLHQpe3ZhciByPSh0PXR8fHt9KS5ub0RhdGFWYWx1ZSxuPTAsaT17fTtpLnB0cj10LmlucHV0T2Zmc2V0fHwwLGkucGl4ZWxzPXt9LGgucmVhZEhlYWRlckluZm8oZSxpKTt2YXIgYT1pLmhlYWRlckluZm8sbz1hLmZpbGVWZXJzaW9uLHM9aC5nZXREYXRhVHlwZUFycmF5KGEuaW1hZ2VUeXBlKTtpZihvPjUpdGhyb3cidW5zdXBwb3J0ZWQgbGVyYyB2ZXJzaW9uIDIuIitvO2gucmVhZE1hc2soZSxpKSxhLm51bVZhbGlkUGl4ZWw9PT1hLndpZHRoKmEuaGVpZ2h0fHxpLnBpeGVscy5yZXN1bHRNYXNrfHwoaS5waXhlbHMucmVzdWx0TWFzaz10Lm1hc2tEYXRhKTt2YXIgZj1hLndpZHRoKmEuaGVpZ2h0O2kucGl4ZWxzLnJlc3VsdFBpeGVscz1uZXcgcyhmKmEubnVtRGltcyksaS5jb3VudGVyPXtvbmVzd2VlcDowLHVuY29tcHJlc3NlZDowLGx1dDowLGJpdHN0dWZmZXI6MCxjb25zdGFudDowLGNvbnN0YW50b2Zmc2V0OjB9O3ZhciBsLHU9IXQucmV0dXJuUGl4ZWxJbnRlcmxlYXZlZERpbXM7aWYoMCE9PWEubnVtVmFsaWRQaXhlbClpZihhLnpNYXg9PT1hLnpNaW4paC5jb25zdHJ1Y3RDb25zdGFudFN1cmZhY2UoaSx1KTtlbHNlIGlmKG8+PTQmJmguY2hlY2tNaW5NYXhSYW5nZXMoZSxpKSloLmNvbnN0cnVjdENvbnN0YW50U3VyZmFjZShpLHUpO2Vsc2V7dmFyIGM9bmV3IERhdGFWaWV3KGUsaS5wdHIsMiksZD1jLmdldFVpbnQ4KDApO2lmKGkucHRyKyssZCloLnJlYWREYXRhT25lU3dlZXAoZSxpLHMsdSk7ZWxzZSBpZihvPjEmJmEuaW1hZ2VUeXBlPD0xJiZNYXRoLmFicyhhLm1heFpFcnJvci0uNSk8MWUtNSl7dmFyIHA9Yy5nZXRVaW50OCgxKTtpZihpLnB0cisrLGkuZW5jb2RlTW9kZT1wLHA+Mnx8bzw0JiZwPjEpdGhyb3ciSW52YWxpZCBIdWZmbWFuIGZsYWcgIitwO3A/aC5yZWFkSHVmZm1hbihlLGkscyx1KTpoLnJlYWRUaWxlcyhlLGkscyx1KX1lbHNlIGgucmVhZFRpbGVzKGUsaSxzLHUpfWkuZW9mT2Zmc2V0PWkucHRyLHQuaW5wdXRPZmZzZXQ/KGw9aS5oZWFkZXJJbmZvLmJsb2JTaXplK3QuaW5wdXRPZmZzZXQtaS5wdHIsTWF0aC5hYnMobCk+PTEmJihpLmVvZk9mZnNldD10LmlucHV0T2Zmc2V0K2kuaGVhZGVySW5mby5ibG9iU2l6ZSkpOihsPWkuaGVhZGVySW5mby5ibG9iU2l6ZS1pLnB0cixNYXRoLmFicyhsKT49MSYmKGkuZW9mT2Zmc2V0PWkuaGVhZGVySW5mby5ibG9iU2l6ZSkpO3ZhciBtPXt3aWR0aDphLndpZHRoLGhlaWdodDphLmhlaWdodCxwaXhlbERhdGE6aS5waXhlbHMucmVzdWx0UGl4ZWxzLG1pblZhbHVlOmEuek1pbixtYXhWYWx1ZTphLnpNYXgsdmFsaWRQaXhlbENvdW50OmEubnVtVmFsaWRQaXhlbCxkaW1Db3VudDphLm51bURpbXMsZGltU3RhdHM6e21pblZhbHVlczphLm1pblZhbHVlcyxtYXhWYWx1ZXM6YS5tYXhWYWx1ZXN9LG1hc2tEYXRhOmkucGl4ZWxzLnJlc3VsdE1hc2t9O2lmKGkucGl4ZWxzLnJlc3VsdE1hc2smJmguaXNWYWxpZFBpeGVsVmFsdWUoYS5pbWFnZVR5cGUscikpe3ZhciB2PWkucGl4ZWxzLnJlc3VsdE1hc2s7Zm9yKG49MDtuPGY7bisrKXZbbl18fChtLnBpeGVsRGF0YVtuXT1yKTttLm5vRGF0YVZhbHVlPXJ9cmV0dXJuIGkubm9EYXRhVmFsdWU9cix0LnJldHVybkZpbGVJbmZvJiYobS5maWxlSW5mbz1oLmZvcm1hdEZpbGVJbmZvKGkpKSxtfSxnZXRCYW5kQ291bnQ6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTAscj0wLG49e3B0cjowLHBpeGVsczp7fX07cjxlLmJ5dGVMZW5ndGgtNTg7KWgucmVhZEhlYWRlckluZm8oZSxuKSxyKz1uLmhlYWRlckluZm8uYmxvYlNpemUsdCsrLG4ucHRyPXI7cmV0dXJuIHR9fSksdz0ocD1uZXcgQXJyYXlCdWZmZXIoNCksbT1uZXcgVWludDhBcnJheShwKSxuZXcgVWludDMyQXJyYXkocClbMF09MSwxPT09bVswXSksZz17ZGVjb2RlOmZ1bmN0aW9uKGUsdCl7aWYoIXcpdGhyb3ciQmlnIGVuZGlhbiBzeXN0ZW0gaXMgbm90IHN1cHBvcnRlZC4iO3ZhciByLG4saT0odD10fHx7fSkuaW5wdXRPZmZzZXR8fDAsYT1uZXcgVWludDhBcnJheShlLGksMTApLG89U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLGEpO2lmKCJDbnRaSW1hZ2UiPT09by50cmltKCkpcj12LG49MTtlbHNle2lmKCJMZXJjMiIhPT1vLnN1YnN0cmluZygwLDUpKXRocm93IlVuZXhwZWN0ZWQgZmlsZSBpZGVudGlmaWVyIHN0cmluZzogIitvO3I9eSxuPTJ9Zm9yKHZhciBzLGYsbCx1LGMsaCxkPTAscD1lLmJ5dGVMZW5ndGgtMTAsbT1bXSxnPXt3aWR0aDowLGhlaWdodDowLHBpeGVsczpbXSxwaXhlbFR5cGU6dC5waXhlbFR5cGUsbWFzazpudWxsLHN0YXRpc3RpY3M6W119LGI9MDtpPHA7KXt2YXIgaz1yLmRlY29kZShlLHtpbnB1dE9mZnNldDppLGVuY29kZWRNYXNrRGF0YTpzLG1hc2tEYXRhOmwscmV0dXJuTWFzazowPT09ZCxyZXR1cm5FbmNvZGVkTWFzazowPT09ZCxyZXR1cm5GaWxlSW5mbzohMCxyZXR1cm5QaXhlbEludGVybGVhdmVkRGltczp0LnJldHVyblBpeGVsSW50ZXJsZWF2ZWREaW1zLHBpeGVsVHlwZTp0LnBpeGVsVHlwZXx8bnVsbCxub0RhdGFWYWx1ZTp0Lm5vRGF0YVZhbHVlfHxudWxsfSk7aT1rLmZpbGVJbmZvLmVvZk9mZnNldCxsPWsubWFza0RhdGEsMD09PWQmJihzPWsuZW5jb2RlZE1hc2tEYXRhLGcud2lkdGg9ay53aWR0aCxnLmhlaWdodD1rLmhlaWdodCxnLmRpbUNvdW50PWsuZGltQ291bnR8fDEsZy5waXhlbFR5cGU9ay5waXhlbFR5cGV8fGsuZmlsZUluZm8ucGl4ZWxUeXBlLGcubWFzaz1sKSxuPjEmJihsJiZtLnB1c2gobCksay5maWxlSW5mby5tYXNrJiZrLmZpbGVJbmZvLm1hc2subnVtQnl0ZXM+MCYmYisrKSxkKyssZy5waXhlbHMucHVzaChrLnBpeGVsRGF0YSksZy5zdGF0aXN0aWNzLnB1c2goe21pblZhbHVlOmsubWluVmFsdWUsbWF4VmFsdWU6ay5tYXhWYWx1ZSxub0RhdGFWYWx1ZTprLm5vRGF0YVZhbHVlLGRpbVN0YXRzOmsuZGltU3RhdHN9KX1pZihuPjEmJmI+MSl7Zm9yKGg9Zy53aWR0aCpnLmhlaWdodCxnLmJhbmRNYXNrcz1tLChsPW5ldyBVaW50OEFycmF5KGgpKS5zZXQobVswXSksdT0xO3U8bS5sZW5ndGg7dSsrKWZvcihmPW1bdV0sYz0wO2M8aDtjKyspbFtjXT1sW2NdJmZbY107Zy5tYXNrRGF0YT1sfXJldHVybiBnfX07S2UuZXhwb3J0cz9LZS5leHBvcnRzPWc6dGhpcy5MZXJjPWd9KCk7dmFyIFdlPVhlLmV4cG9ydHMscWU9ezMxNToiQXJ0aXN0IiwyNTg6IkJpdHNQZXJTYW1wbGUiLDI2NToiQ2VsbExlbmd0aCIsMjY0OiJDZWxsV2lkdGgiLDMyMDoiQ29sb3JNYXAiLDI1OToiQ29tcHJlc3Npb24iLDMzNDMyOiJDb3B5cmlnaHQiLDMwNjoiRGF0ZVRpbWUiLDMzODoiRXh0cmFTYW1wbGVzIiwyNjY6IkZpbGxPcmRlciIsMjg5OiJGcmVlQnl0ZUNvdW50cyIsMjg4OiJGcmVlT2Zmc2V0cyIsMjkxOiJHcmF5UmVzcG9uc2VDdXJ2ZSIsMjkwOiJHcmF5UmVzcG9uc2VVbml0IiwzMTY6Ikhvc3RDb21wdXRlciIsMjcwOiJJbWFnZURlc2NyaXB0aW9uIiwyNTc6IkltYWdlTGVuZ3RoIiwyNTY6IkltYWdlV2lkdGgiLDI3MToiTWFrZSIsMjgxOiJNYXhTYW1wbGVWYWx1ZSIsMjgwOiJNaW5TYW1wbGVWYWx1ZSIsMjcyOiJNb2RlbCIsMjU0OiJOZXdTdWJmaWxlVHlwZSIsMjc0OiJPcmllbnRhdGlvbiIsMjYyOiJQaG90b21ldHJpY0ludGVycHJldGF0aW9uIiwyODQ6IlBsYW5hckNvbmZpZ3VyYXRpb24iLDI5NjoiUmVzb2x1dGlvblVuaXQiLDI3ODoiUm93c1BlclN0cmlwIiwyNzc6IlNhbXBsZXNQZXJQaXhlbCIsMzA1OiJTb2Z0d2FyZSIsMjc5OiJTdHJpcEJ5dGVDb3VudHMiLDI3MzoiU3RyaXBPZmZzZXRzIiwyNTU6IlN1YmZpbGVUeXBlIiwyNjM6IlRocmVzaGhvbGRpbmciLDI4MjoiWFJlc29sdXRpb24iLDI4MzoiWVJlc29sdXRpb24iLDMyNjoiQmFkRmF4TGluZXMiLDMyNzoiQ2xlYW5GYXhEYXRhIiwzNDM6IkNsaXBQYXRoIiwzMjg6IkNvbnNlY3V0aXZlQmFkRmF4TGluZXMiLDQzMzoiRGVjb2RlIiw0MzQ6IkRlZmF1bHRJbWFnZUNvbG9yIiwyNjk6IkRvY3VtZW50TmFtZSIsMzM2OiJEb3RSYW5nZSIsMzIxOiJIYWxmdG9uZUhpbnRzIiwzNDY6IkluZGV4ZWQiLDM0NzoiSlBFR1RhYmxlcyIsMjg1OiJQYWdlTmFtZSIsMjk3OiJQYWdlTnVtYmVyIiwzMTc6IlByZWRpY3RvciIsMzE5OiJQcmltYXJ5Q2hyb21hdGljaXRpZXMiLDUzMjoiUmVmZXJlbmNlQmxhY2tXaGl0ZSIsMzM5OiJTYW1wbGVGb3JtYXQiLDM0MDoiU01pblNhbXBsZVZhbHVlIiwzNDE6IlNNYXhTYW1wbGVWYWx1ZSIsNTU5OiJTdHJpcFJvd0NvdW50cyIsMzMwOiJTdWJJRkRzIiwyOTI6IlQ0T3B0aW9ucyIsMjkzOiJUNk9wdGlvbnMiLDMyNToiVGlsZUJ5dGVDb3VudHMiLDMyMzoiVGlsZUxlbmd0aCIsMzI0OiJUaWxlT2Zmc2V0cyIsMzIyOiJUaWxlV2lkdGgiLDMwMToiVHJhbnNmZXJGdW5jdGlvbiIsMzE4OiJXaGl0ZVBvaW50IiwzNDQ6IlhDbGlwUGF0aFVuaXRzIiwyODY6IlhQb3NpdGlvbiIsNTI5OiJZQ2JDckNvZWZmaWNpZW50cyIsNTMxOiJZQ2JDclBvc2l0aW9uaW5nIiw1MzA6IllDYkNyU3ViU2FtcGxpbmciLDM0NToiWUNsaXBQYXRoVW5pdHMiLDI4NzoiWVBvc2l0aW9uIiwzNzM3ODoiQXBlcnR1cmVWYWx1ZSIsNDA5NjE6IkNvbG9yU3BhY2UiLDM2ODY4OiJEYXRlVGltZURpZ2l0aXplZCIsMzY4Njc6IkRhdGVUaW1lT3JpZ2luYWwiLDM0NjY1OiJFeGlmIElGRCIsMzY4NjQ6IkV4aWZWZXJzaW9uIiwzMzQzNDoiRXhwb3N1cmVUaW1lIiw0MTcyODoiRmlsZVNvdXJjZSIsMzczODU6IkZsYXNoIiw0MDk2MDoiRmxhc2hwaXhWZXJzaW9uIiwzMzQzNzoiRk51bWJlciIsNDIwMTY6IkltYWdlVW5pcXVlSUQiLDM3Mzg0OiJMaWdodFNvdXJjZSIsMzc1MDA6Ik1ha2VyTm90ZSIsMzczNzc6IlNodXR0ZXJTcGVlZFZhbHVlIiwzNzUxMDoiVXNlckNvbW1lbnQiLDMzNzIzOiJJUFRDIiwzNDY3NToiSUNDIFByb2ZpbGUiLDcwMDoiWE1QIiw0MjExMjoiR0RBTF9NRVRBREFUQSIsNDIxMTM6IkdEQUxfTk9EQVRBIiwzNDM3NzoiUGhvdG9zaG9wIiwzMzU1MDoiTW9kZWxQaXhlbFNjYWxlIiwzMzkyMjoiTW9kZWxUaWVwb2ludCIsMzQyNjQ6Ik1vZGVsVHJhbnNmb3JtYXRpb24iLDM0NzM1OiJHZW9LZXlEaXJlY3RvcnkiLDM0NzM2OiJHZW9Eb3VibGVQYXJhbXMiLDM0NzM3OiJHZW9Bc2NpaVBhcmFtcyIsNTA2NzQ6IkxlcmNQYXJhbWV0ZXJzIn0sSmU9e307Zm9yKHZhciBRZSBpbiBxZSlxZS5oYXNPd25Qcm9wZXJ0eShRZSkmJihKZVtxZVtRZV1dPXBhcnNlSW50KFFlLDEwKSk7SmUuQml0c1BlclNhbXBsZSxKZS5FeHRyYVNhbXBsZXMsSmUuU2FtcGxlRm9ybWF0LEplLlN0cmlwQnl0ZUNvdW50cyxKZS5TdHJpcE9mZnNldHMsSmUuU3RyaXBSb3dDb3VudHMsSmUuVGlsZUJ5dGVDb3VudHMsSmUuVGlsZU9mZnNldHMsSmUuU3ViSUZEczt2YXIgJGU9ezE6IkJZVEUiLDI6IkFTQ0lJIiwzOiJTSE9SVCIsNDoiTE9ORyIsNToiUkFUSU9OQUwiLDY6IlNCWVRFIiw3OiJVTkRFRklORUQiLDg6IlNTSE9SVCIsOToiU0xPTkciLDEwOiJTUkFUSU9OQUwiLDExOiJGTE9BVCIsMTI6IkRPVUJMRSIsMTM6IklGRCIsMTY6IkxPTkc4IiwxNzoiU0xPTkc4IiwxODoiSUZEOCJ9LGV0PXt9O2Zvcih2YXIgdHQgaW4gJGUpJGUuaGFzT3duUHJvcGVydHkodHQpJiYoZXRbJGVbdHRdXT1wYXJzZUludCh0dCwxMCkpO3ZhciBydD0xLG50PTAsaXQ9MSxhdD17MTAyNDoiR1RNb2RlbFR5cGVHZW9LZXkiLDEwMjU6IkdUUmFzdGVyVHlwZUdlb0tleSIsMTAyNjoiR1RDaXRhdGlvbkdlb0tleSIsMjA0ODoiR2VvZ3JhcGhpY1R5cGVHZW9LZXkiLDIwNDk6Ikdlb2dDaXRhdGlvbkdlb0tleSIsMjA1MDoiR2VvZ0dlb2RldGljRGF0dW1HZW9LZXkiLDIwNTE6Ikdlb2dQcmltZU1lcmlkaWFuR2VvS2V5IiwyMDUyOiJHZW9nTGluZWFyVW5pdHNHZW9LZXkiLDIwNTM6Ikdlb2dMaW5lYXJVbml0U2l6ZUdlb0tleSIsMjA1NDoiR2VvZ0FuZ3VsYXJVbml0c0dlb0tleSIsMjA1NToiR2VvZ0FuZ3VsYXJVbml0U2l6ZUdlb0tleSIsMjA1NjoiR2VvZ0VsbGlwc29pZEdlb0tleSIsMjA1NzoiR2VvZ1NlbWlNYWpvckF4aXNHZW9LZXkiLDIwNTg6Ikdlb2dTZW1pTWlub3JBeGlzR2VvS2V5IiwyMDU5OiJHZW9nSW52RmxhdHRlbmluZ0dlb0tleSIsMjA2MDoiR2VvZ0F6aW11dGhVbml0c0dlb0tleSIsMjA2MToiR2VvZ1ByaW1lTWVyaWRpYW5Mb25nR2VvS2V5IiwyMDYyOiJHZW9nVE9XR1M4NEdlb0tleSIsMzA3MjoiUHJvamVjdGVkQ1NUeXBlR2VvS2V5IiwzMDczOiJQQ1NDaXRhdGlvbkdlb0tleSIsMzA3NDoiUHJvamVjdGlvbkdlb0tleSIsMzA3NToiUHJvakNvb3JkVHJhbnNHZW9LZXkiLDMwNzY6IlByb2pMaW5lYXJVbml0c0dlb0tleSIsMzA3NzoiUHJvakxpbmVhclVuaXRTaXplR2VvS2V5IiwzMDc4OiJQcm9qU3RkUGFyYWxsZWwxR2VvS2V5IiwzMDc5OiJQcm9qU3RkUGFyYWxsZWwyR2VvS2V5IiwzMDgwOiJQcm9qTmF0T3JpZ2luTG9uZ0dlb0tleSIsMzA4MToiUHJvak5hdE9yaWdpbkxhdEdlb0tleSIsMzA4MjoiUHJvakZhbHNlRWFzdGluZ0dlb0tleSIsMzA4MzoiUHJvakZhbHNlTm9ydGhpbmdHZW9LZXkiLDMwODQ6IlByb2pGYWxzZU9yaWdpbkxvbmdHZW9LZXkiLDMwODU6IlByb2pGYWxzZU9yaWdpbkxhdEdlb0tleSIsMzA4NjoiUHJvakZhbHNlT3JpZ2luRWFzdGluZ0dlb0tleSIsMzA4NzoiUHJvakZhbHNlT3JpZ2luTm9ydGhpbmdHZW9LZXkiLDMwODg6IlByb2pDZW50ZXJMb25nR2VvS2V5IiwzMDg5OiJQcm9qQ2VudGVyTGF0R2VvS2V5IiwzMDkwOiJQcm9qQ2VudGVyRWFzdGluZ0dlb0tleSIsMzA5MToiUHJvakNlbnRlck5vcnRoaW5nR2VvS2V5IiwzMDkyOiJQcm9qU2NhbGVBdE5hdE9yaWdpbkdlb0tleSIsMzA5MzoiUHJvalNjYWxlQXRDZW50ZXJHZW9LZXkiLDMwOTQ6IlByb2pBemltdXRoQW5nbGVHZW9LZXkiLDMwOTU6IlByb2pTdHJhaWdodFZlcnRQb2xlTG9uZ0dlb0tleSIsMzA5NjoiUHJvalJlY3RpZmllZEdyaWRBbmdsZUdlb0tleSIsNDA5NjoiVmVydGljYWxDU1R5cGVHZW9LZXkiLDQwOTc6IlZlcnRpY2FsQ2l0YXRpb25HZW9LZXkiLDQwOTg6IlZlcnRpY2FsRGF0dW1HZW9LZXkiLDQwOTk6IlZlcnRpY2FsVW5pdHNHZW9LZXkifSxvdD17fTtmb3IodmFyIHN0IGluIGF0KWF0Lmhhc093blByb3BlcnR5KHN0KSYmKG90W2F0W3N0XV09cGFyc2VJbnQoc3QsMTApKTtmdW5jdGlvbiBmdChlKXt2YXIgdD1mdW5jdGlvbigpe2lmKCJ1bmRlZmluZWQiPT10eXBlb2YgUmVmbGVjdHx8IVJlZmxlY3QuY29uc3RydWN0KXJldHVybiExO2lmKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pcmV0dXJuITE7aWYoImZ1bmN0aW9uIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaChlKXtyZXR1cm4hMX19KCk7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIHIsbj12KGUpO2lmKHQpe3ZhciBpPXYodGhpcykuY29uc3RydWN0b3I7cj1SZWZsZWN0LmNvbnN0cnVjdChuLGFyZ3VtZW50cyxpKX1lbHNlIHI9bi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIG0odGhpcyxyKX19dmFyIGx0PWZ1bmN0aW9uKGUpe3AocixiKTt2YXIgdD1mdChyKTtmdW5jdGlvbiByKGUpe3ZhciBuO3JldHVybiB1KHRoaXMsciksKG49dC5jYWxsKHRoaXMpKS5wbGFuYXJDb25maWd1cmF0aW9uPXZvaWQgMCE9PWUuUGxhbmFyQ29uZmlndXJhdGlvbj9lLlBsYW5hckNvbmZpZ3VyYXRpb246MSxuLnNhbXBsZXNQZXJQaXhlbD12b2lkIDAhPT1lLlNhbXBsZXNQZXJQaXhlbD9lLlNhbXBsZXNQZXJQaXhlbDoxLG4uYWRkQ29tcHJlc3Npb249ZS5MZXJjUGFyYW1ldGVyc1tydF0sbn1yZXR1cm4gaChyLFt7a2V5OiJkZWNvZGVCbG9jayIsdmFsdWU6ZnVuY3Rpb24oZSl7c3dpdGNoKHRoaXMuYWRkQ29tcHJlc3Npb24pe2Nhc2UgbnQ6YnJlYWs7Y2FzZSBpdDplPUZlKG5ldyBVaW50OEFycmF5KGUpKS5idWZmZXI7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoIlVuc3VwcG9ydGVkIExFUkMgYWRkaXRpb25hbCBjb21wcmVzc2lvbiBtZXRob2QgaWRlbnRpZmllcjogIi5jb25jYXQodGhpcy5hZGRDb21wcmVzc2lvbikpfXJldHVybiBXZS5kZWNvZGUoZSx7cmV0dXJuUGl4ZWxJbnRlcmxlYXZlZERpbXM6MT09PXRoaXMucGxhbmFyQ29uZmlndXJhdGlvbn0pLnBpeGVsc1swXS5idWZmZXJ9fV0pLHJ9KCksdXQ9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsZGVmYXVsdDpsdH0pO2Z1bmN0aW9uIGN0KGUpe3ZhciB0PWZ1bmN0aW9uKCl7aWYoInVuZGVmaW5lZCI9PXR5cGVvZiBSZWZsZWN0fHwhUmVmbGVjdC5jb25zdHJ1Y3QpcmV0dXJuITE7aWYoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZigiZnVuY3Rpb24iPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKGUpe3JldHVybiExfX0oKTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgcixuPXYoZSk7aWYodCl7dmFyIGk9dih0aGlzKS5jb25zdHJ1Y3RvcjtyPVJlZmxlY3QuY29uc3RydWN0KG4sYXJndW1lbnRzLGkpfWVsc2Ugcj1uLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gbSh0aGlzLHIpfX12YXIgaHQ9ZnVuY3Rpb24oZSl7cChhLGIpO3ZhciByLG49Y3QoYSk7ZnVuY3Rpb24gYSgpe3ZhciBlO2lmKHUodGhpcyxhKSxlPW4uY2FsbCh0aGlzKSwidW5kZWZpbmVkIj09dHlwZW9mIGNyZWF0ZUltYWdlQml0bWFwKXRocm93IG5ldyBFcnJvcigiQ2Fubm90IGRlY29kZSBXZWJJbWFnZSBhcyBgY3JlYXRlSW1hZ2VCaXRtYXBgIGlzIG5vdCBhdmFpbGFibGUiKTtpZigidW5kZWZpbmVkIj09dHlwZW9mIGRvY3VtZW50JiYidW5kZWZpbmVkIj09dHlwZW9mIE9mZnNjcmVlbkNhbnZhcyl0aHJvdyBuZXcgRXJyb3IoIkNhbm5vdCBkZWNvZGUgV2ViSW1hZ2UgYXMgbmVpdGhlciBgZG9jdW1lbnRgIG5vciBgT2Zmc2NyZWVuQ2FudmFzYCBpcyBub3QgYXZhaWxhYmxlIik7cmV0dXJuIGV9cmV0dXJuIGgoYSxbe2tleToiZGVjb2RlIix2YWx1ZToocj10KGkubWFyaygoZnVuY3Rpb24gZSh0LHIpe3ZhciBuLGEsbyxzO3JldHVybiBpLndyYXAoKGZ1bmN0aW9uKGUpe2Zvcig7Oylzd2l0Y2goZS5wcmV2PWUubmV4dCl7Y2FzZSAwOnJldHVybiBuPW5ldyBCbG9iKFtyXSksZS5uZXh0PTMsY3JlYXRlSW1hZ2VCaXRtYXAobik7Y2FzZSAzOnJldHVybiBhPWUuc2VudCwidW5kZWZpbmVkIiE9dHlwZW9mIGRvY3VtZW50Pygobz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKSkud2lkdGg9YS53aWR0aCxvLmhlaWdodD1hLmhlaWdodCk6bz1uZXcgT2Zmc2NyZWVuQ2FudmFzKGEud2lkdGgsYS5oZWlnaHQpLChzPW8uZ2V0Q29udGV4dCgiMmQiKSkuZHJhd0ltYWdlKGEsMCwwKSxlLmFicnVwdCgicmV0dXJuIixzLmdldEltYWdlRGF0YSgwLDAsYS53aWR0aCxhLmhlaWdodCkuZGF0YS5idWZmZXIpO2Nhc2UgODpjYXNlImVuZCI6cmV0dXJuIGUuc3RvcCgpfX0pLGUpfSkpKSxmdW5jdGlvbihlLHQpe3JldHVybiByLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfV0pLGF9KCksZHQ9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsZGVmYXVsdDpodH0pOyc7cmV0dXJuIG5ldyBUaSgidW5kZWZpbmVkIj09dHlwZW9mIEJsb2I/ImRhdGE6YXBwbGljYXRpb24vamF2YXNjcmlwdDtiYXNlNjQsIitCdWZmZXIuZnJvbShlLCJiaW5hcnkiKS50b1N0cmluZygiYmFzZTY0Iik6VVJMLmNyZWF0ZU9iamVjdFVSTChuZXcgQmxvYihbZV0se3R5cGU6ImFwcGxpY2F0aW9uL2phdmFzY3JpcHQifSkpKX19KTtlLkJhc2VEZWNvZGVyPXdyLGUuR2VvVElGRj1PcixlLkdlb1RJRkZJbWFnZT1GZSxlLk11bHRpR2VvVElGRj1VcixlLlBvb2w9TmUsZS5hZGREZWNvZGVyPXhlLGUuZGVmYXVsdD1PcixlLmZyb21BcnJheUJ1ZmZlcj1mdW5jdGlvbihlLHQpe3JldHVybiBFci5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGUuZnJvbUJsb2I9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gTXIuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxlLmZyb21GaWxlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIFJyLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sZS5mcm9tVXJsPWZ1bmN0aW9uKGUpe3JldHVybiBEci5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGUuZnJvbVVybHM9ZnVuY3Rpb24oZSl7cmV0dXJuIEJyLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sZS5nZXREZWNvZGVyPUFlLGUuZ2xvYmFscz1kZSxlLnJnYj1iZSxlLnNldExvZ2dlcj1mdW5jdGlvbigpe2FyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdfHxuZXcgbXJ9LGUud3JpdGVBcnJheUJ1ZmZlcj1mdW5jdGlvbihlLHQpe3JldHVybiBwcihlLHQpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSl9KShlLmV4cG9ydHMpO3ZhciB0PShlLHtkZWJ1Zzp0PSExfT17ZGVidWc6ITF9KT0+e3QmJmNvbnNvbGUubG9nKCJzdGFydGluZyBnZXRQYWxldHRlIHdpdGggaW1hZ2UiLGUpO2NvbnN0e2ZpbGVEaXJlY3Rvcnk6cn09ZSx7Qml0c1BlclNhbXBsZTpuLENvbG9yTWFwOmksSW1hZ2VMZW5ndGg6YSxJbWFnZVdpZHRoOm8sUGhvdG9tZXRyaWNJbnRlcnByZXRhdGlvbjpzLFNhbXBsZUZvcm1hdDp1LFNhbXBsZXNQZXJQaXhlbDpmfT1yO2lmKCFpKXRocm93IG5ldyBFcnJvcigiW2dlb3RpZmYtcGFsZXR0ZV06IHRoZSBpbWFnZSBkb2VzIG5vdCBjb250YWluIGEgY29sb3IgbWFwLCBzbyB3ZSBjYW4ndCBtYWtlIGEgcGFsZXR0ZS4iKTtjb25zdCBsPU1hdGgucG93KDIsbik7dCYmY29uc29sZS5sb2coIltnZW90aWZmLXBhbGV0dGVdOiBjb3VudDoiLGwpO2NvbnN0IGM9aS5sZW5ndGgvMztpZih0JiZjb25zb2xlLmxvZygiW2dlb3RpZmYtcGFsZXR0ZV06IGJhbmRTaXplOiIsYyksYyE9PWwpdGhyb3cgbmV3IEVycm9yKCJbZ2VvdGlmZi1wYWxldHRlXTogY2FuJ3QgaGFuZGxlIHNpdHVhdGlvbnMgd2hlcmUgdGhlIGNvbG9yIG1hcCBoYXMgbW9yZSBvciBsZXNzIHZhbHVlcyB0aGFuIHRoZSBudW1iZXIgb2YgcG9zc2libGUgdmFsdWVzIGluIGEgcmFzdGVyIik7Y29uc3QgaD1jLGQ9aCtjLHA9W107Zm9yKGxldCBlPTA7ZTxsO2UrKylwLnB1c2goW01hdGguZmxvb3IoaVtlXS8yNTYpLE1hdGguZmxvb3IoaVtoK2VdLzI1NiksTWF0aC5mbG9vcihpW2QrZV0vMjU2KSwyNTVdKTtyZXR1cm4gdCYmY29uc29sZS5sb2coIltnZW90aWZmLXBhbGV0dGVdOiByZXN1bHQgaXMgIixwKSxwfTtmdW5jdGlvbiByKGUsdCl7Y29uc3Qgcj1lLm5vRGF0YVZhbHVlLG49ZS5oZWlnaHQsaT1lLndpZHRoO3JldHVybiBuZXcgUHJvbWlzZSgoKGEsbyk9PntsZXQgcyx1O2UubWF4cz1bXSxlLm1pbnM9W10sZS5yYW5nZXM9W107Zm9yKGxldCBhPTA7YTxlLm51bWJlck9mUmFzdGVyczthKyspe2NvbnN0IG89ZS52YWx1ZXNbYV07dCYmY29uc29sZS5sb2coIltnZW9yYXN0ZXJdIHJvd3M6IixvKTtmb3IobGV0IGU9MDtlPG47ZSsrKXtjb25zdCB0PW9bZV07Zm9yKGxldCBlPTA7ZTxpO2UrKyl7Y29uc3Qgbj10W2VdO249PXJ8fGlzTmFOKG4pfHwodm9pZCAwPT09dXx8bjx1P3U9bjoodm9pZCAwPT09c3x8bj5zKSYmKHM9bikpfX1lLm1heHMucHVzaChzKSxlLm1pbnMucHVzaCh1KSxlLnJhbmdlcy5wdXNoKHMtdSl9YShlKX0pKX1vbm1lc3NhZ2U9bj0+eyhmdW5jdGlvbihuLGkpe3JldHVybiBuZXcgUHJvbWlzZSgoKGEsbyk9Pnt0cnl7aSYmY29uc29sZS5sb2coInN0YXJ0aW5nIHBhcnNlRGF0YSB3aXRoIixuKSxpJiZjb25zb2xlLmxvZygiXHRHZW9USUZGOiIsdHlwZW9mIEdlb1RJRkYpO2NvbnN0IHM9e307bGV0IHUsZjtpZigib2JqZWN0Ij09PW4ucmFzdGVyVHlwZSlzLnZhbHVlcz1uLmRhdGEscy5oZWlnaHQ9dT1uLm1ldGFkYXRhLmhlaWdodHx8cy52YWx1ZXNbMF0ubGVuZ3RoLHMud2lkdGg9Zj1uLm1ldGFkYXRhLndpZHRofHxzLnZhbHVlc1swXVswXS5sZW5ndGgscy5waXhlbEhlaWdodD1uLm1ldGFkYXRhLnBpeGVsSGVpZ2h0LHMucGl4ZWxXaWR0aD1uLm1ldGFkYXRhLnBpeGVsV2lkdGgscy5wcm9qZWN0aW9uPW4ubWV0YWRhdGEucHJvamVjdGlvbixzLnhtaW49bi5tZXRhZGF0YS54bWluLHMueW1heD1uLm1ldGFkYXRhLnltYXgscy5ub0RhdGFWYWx1ZT1uLm1ldGFkYXRhLm5vRGF0YVZhbHVlLHMubnVtYmVyT2ZSYXN0ZXJzPXMudmFsdWVzLmxlbmd0aCxzLnhtYXg9cy54bWluK3Mud2lkdGgqcy5waXhlbFdpZHRoLHMueW1pbj1zLnltYXgtcy5oZWlnaHQqcy5waXhlbEhlaWdodCxzLl9kYXRhPW51bGwsYShyKHMpKTtlbHNlIGlmKCJnZW90aWZmIj09PW4ucmFzdGVyVHlwZSl7cy5fZGF0YT1uLmRhdGE7bGV0IGw9ZS5leHBvcnRzLmZyb21BcnJheUJ1ZmZlcjsidXJsIj09PW4uc291cmNlVHlwZT9sPWUuZXhwb3J0cy5mcm9tVXJsOiJCbG9iIj09PW4uc291cmNlVHlwZSYmKGw9ZS5leHBvcnRzLmZyb21CbG9iKSxpJiZjb25zb2xlLmxvZygiZGF0YS5yYXN0ZXJUeXBlIGlzIGdlb3RpZmYiKSxhKGwobi5kYXRhKS50aGVuKChlPT4oaSYmY29uc29sZS5sb2coImdlb3RpZmY6IixlKSxlLmdldEltYWdlKCkudGhlbigoZT0+e3RyeXtpJiZjb25zb2xlLmxvZygiaW1hZ2U6IixlKTtjb25zdCBhPWUuZmlsZURpcmVjdG9yeSx7R2VvZ3JhcGhpY1R5cGVHZW9LZXk6byxQcm9qZWN0ZWRDU1R5cGVHZW9LZXk6bH09ZS5nZXRHZW9LZXlzKCk7cy5wcm9qZWN0aW9uPWx8fG8saSYmY29uc29sZS5sb2coInByb2plY3Rpb246IixzLnByb2plY3Rpb24pLHMuaGVpZ2h0PXU9ZS5nZXRIZWlnaHQoKSxpJiZjb25zb2xlLmxvZygicmVzdWx0LmhlaWdodDoiLHMuaGVpZ2h0KSxzLndpZHRoPWY9ZS5nZXRXaWR0aCgpLGkmJmNvbnNvbGUubG9nKCJyZXN1bHQud2lkdGg6IixzLndpZHRoKTtjb25zdFtjLGhdPWUuZ2V0UmVzb2x1dGlvbigpO3MucGl4ZWxIZWlnaHQ9TWF0aC5hYnMoaCkscy5waXhlbFdpZHRoPU1hdGguYWJzKGMpO2NvbnN0W2QscF09ZS5nZXRPcmlnaW4oKTtyZXR1cm4gcy54bWluPWQscy54bWF4PXMueG1pbitmKnMucGl4ZWxXaWR0aCxzLnltYXg9cCxzLnltaW49cy55bWF4LXUqcy5waXhlbEhlaWdodCxzLm5vRGF0YVZhbHVlPWEuR0RBTF9OT0RBVEE/cGFyc2VGbG9hdChhLkdEQUxfTk9EQVRBKTpudWxsLHMubnVtYmVyT2ZSYXN0ZXJzPWEuU2FtcGxlc1BlclBpeGVsLGEuQ29sb3JNYXAmJihzLnBhbGV0dGU9dChlKSksInVybCIhPT1uLnNvdXJjZVR5cGU/ZS5yZWFkUmFzdGVycygpLnRoZW4oKGU9PihzLnZhbHVlcz1lLm1hcCgoZT0+ZnVuY3Rpb24oZSx0KXtjb25zdHtoZWlnaHQ6cix3aWR0aDpufT10LGk9W107Zm9yKGxldCB0PTA7dDxyO3QrKyl7Y29uc3Qgcj10Km4sYT1yK247aS5wdXNoKGUuc2xpY2UocixhKSl9cmV0dXJuIGl9KGUse2hlaWdodDp1LHdpZHRoOmZ9KSkpLHIocykpKSk6c31jYXRjaChlKXtvKGUpLGNvbnNvbGUuZXJyb3IoIltnZW9yYXN0ZXJdIGVycm9yIHBhcnNpbmcgZ2VvcmFzdGVyOiIsZSl9fSkpKSkpKX19Y2F0Y2goZSl7byhlKSxjb25zb2xlLmVycm9yKCJbZ2VvcmFzdGVyXSBlcnJvciBwYXJzaW5nIGdlb3Jhc3RlcjoiLGUpfX0pKX0pKG4uZGF0YSkudGhlbigoZT0+e2UuX2RhdGEgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcj9wb3N0TWVzc2FnZShlLFtlLl9kYXRhXSk6cG9zdE1lc3NhZ2UoZSksY2xvc2UoKX0pKX19KCk7Cgo=",i=null,n=!1,function(e){return c=c||t(l,i,n),new Worker(c,e)}),r=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self,{exports:{}});!function(e,t){!function(e){function t(e,t,l){return t in e?Object.defineProperty(e,t,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[t]=l,e}function l(e){if(Array.isArray(e))return e}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var l=0,i=new Array(t);l<t;l++)i[l]=e[l];return i}function n(e,t){if(e){if("string"==typeof e)return i(e,t);var l=Object.prototype.toString.call(e).slice(8,-1);return"Object"===l&&e.constructor&&(l=e.constructor.name),"Map"===l||"Set"===l?Array.from(e):"Arguments"===l||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l)?i(e,t):void 0}}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(e,t){return l(e)||function(e,t){var l=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=l){var i,n,c=[],a=!0,r=!1;try{for(l=l.call(e);!(a=(i=l.next()).done)&&(c.push(i.value),!t||c.length!==t);a=!0);}catch(e){r=!0,n=e}finally{try{a||null==l.return||l.return()}finally{if(r)throw n}}return c}}(e,t)||n(e,t)||c()}function r(e,t,l,i,n,c,a){try{var r=e[c](a),d=r.value}catch(e){return void l(e)}r.done?t(d):Promise.resolve(d).then(i,n)}function d(e){return function(){var t=this,l=arguments;return new Promise((function(i,n){var c=e.apply(t,l);function a(e){r(c,i,n,a,d,"next",e)}function d(e){r(c,i,n,a,d,"throw",e)}a(void 0)}))}}function s(e,t){for(var l=0;l<t.length;l++){var i=t[l];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function m(e,t,l){return t&&s(e.prototype,t),l&&s(e,l),e}function Z(e,t){return Z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Z(e,t)}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Z(e,t)}function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t){if(t&&("object"===u(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return b(e)}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function X(e,t,l){return X=p()?Reflect.construct:function(e,t,l){var i=[null];i.push.apply(i,t);var n=new(Function.bind.apply(e,i));return l&&Z(n,l.prototype),n},X.apply(null,arguments)}function W(e){var t="function"==typeof Map?new Map:void 0;return W=function(e){if(null===e||(l=e,-1===Function.toString.call(l).indexOf("[native code]")))return e;var l;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,i)}function i(){return X(e,arguments,y(this).constructor)}return i.prototype=Object.create(e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),Z(i,e)},W(e)}function G(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var V={exports:{}};!function(e){var t=function(e){var t,l=Object.prototype,i=l.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},c=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",r=n.toStringTag||"@@toStringTag";function d(e,t,l){return Object.defineProperty(e,t,{value:l,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,l){return e[t]=l}}function s(e,t,l,i){var n=t&&t.prototype instanceof p?t:p,c=Object.create(n.prototype),a=new T(i||[]);return c._invoke=function(e,t,l){var i=Z;return function(n,c){if(i===b)throw new Error("Generator is already running");if(i===h){if("throw"===n)throw c;return k()}for(l.method=n,l.arg=c;;){var a=l.delegate;if(a){var r=L(a,l);if(r){if(r===y)continue;return r}}if("next"===l.method)l.sent=l._sent=l.arg;else if("throw"===l.method){if(i===Z)throw i=h,l.arg;l.dispatchException(l.arg)}else"return"===l.method&&l.abrupt("return",l.arg);i=b;var d=m(e,t,l);if("normal"===d.type){if(i=l.done?h:o,d.arg===y)continue;return{value:d.arg,done:l.done}}"throw"===d.type&&(i=h,l.method="throw",l.arg=d.arg)}}}(e,l,a),c}function m(e,t,l){try{return{type:"normal",arg:e.call(t,l)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var Z="suspendedStart",o="suspendedYield",b="executing",h="completed",y={};function p(){}function X(){}function W(){}var G={};d(G,c,(function(){return this}));var V=Object.getPrototypeOf,Y=V&&V(V(g([])));Y&&Y!==l&&i.call(Y,c)&&(G=Y);var x=W.prototype=p.prototype=Object.create(G);function I(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function K(e,t){function l(n,c,a,r){var d=m(e[n],e,c);if("throw"!==d.type){var s=d.arg,Z=s.value;return Z&&"object"===u(Z)&&i.call(Z,"__await")?t.resolve(Z.__await).then((function(e){l("next",e,a,r)}),(function(e){l("throw",e,a,r)})):t.resolve(Z).then((function(e){s.value=e,a(s)}),(function(e){return l("throw",e,a,r)}))}r(d.arg)}var n;this._invoke=function(e,i){function c(){return new t((function(t,n){l(e,i,t,n)}))}return n=n?n.then(c,c):c()}}function L(e,l){var i=e.iterator[l.method];if(i===t){if(l.delegate=null,"throw"===l.method){if(e.iterator.return&&(l.method="return",l.arg=t,L(e,l),"throw"===l.method))return y;l.method="throw",l.arg=new TypeError("The iterator does not provide a 'throw' method")}return y}var n=m(i,e.iterator,l.arg);if("throw"===n.type)return l.method="throw",l.arg=n.arg,l.delegate=null,y;var c=n.arg;return c?c.done?(l[e.resultName]=c.value,l.next=e.nextLoc,"return"!==l.method&&(l.method="next",l.arg=t),l.delegate=null,y):c:(l.method="throw",l.arg=new TypeError("iterator result is not an object"),l.delegate=null,y)}function f(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(f,this),this.reset(!0)}function g(e){if(e){var l=e[c];if(l)return l.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function l(){for(;++n<e.length;)if(i.call(e,n))return l.value=e[n],l.done=!1,l;return l.value=t,l.done=!0,l};return a.next=a}}return{next:k}}function k(){return{value:t,done:!0}}return X.prototype=W,d(x,"constructor",W),d(W,"constructor",X),X.displayName=d(W,r,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===X||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,W):(e.__proto__=W,d(e,r,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},I(K.prototype),d(K.prototype,a,(function(){return this})),e.AsyncIterator=K,e.async=function(t,l,i,n,c){void 0===c&&(c=Promise);var a=new K(s(t,l,i,n),c);return e.isGeneratorFunction(l)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},I(x),d(x,r,"Generator"),d(x,c,(function(){return this})),d(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var l in e)t.push(l);return t.reverse(),function l(){for(;t.length;){var i=t.pop();if(i in e)return l.value=i,l.done=!1,l}return l.done=!0,l}},e.values=g,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(S),!e)for(var l in this)"t"===l.charAt(0)&&i.call(this,l)&&!isNaN(+l.slice(1))&&(this[l]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var l=this;function n(i,n){return r.type="throw",r.arg=e,l.next=i,n&&(l.method="next",l.arg=t),!!n}for(var c=this.tryEntries.length-1;c>=0;--c){var a=this.tryEntries[c],r=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var d=i.call(a,"catchLoc"),s=i.call(a,"finallyLoc");if(d&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(d){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var l=this.tryEntries.length-1;l>=0;--l){var n=this.tryEntries[l];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var c=n;break}}c&&("break"===e||"continue"===e)&&c.tryLoc<=t&&t<=c.finallyLoc&&(c=null);var a=c?c.completion:{};return a.type=e,a.arg=t,c?(this.method="next",this.next=c.finallyLoc,y):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var l=this.tryEntries[t];if(l.finallyLoc===e)return this.complete(l.completion,l.afterLoc),S(l),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var l=this.tryEntries[t];if(l.tryLoc===e){var i=l.completion;if("throw"===i.type){var n=i.arg;S(l)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,l,i){return this.delegate={iterator:g(e),resultName:l,nextLoc:i},"next"===this.method&&(this.arg=t),y}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"===("undefined"==typeof globalThis?"undefined":u(globalThis))?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}}(V);for(var Y=V.exports,x=new ArrayBuffer(4),I=new Float32Array(x),K=new Uint32Array(x),L=new Uint32Array(512),f=new Uint32Array(512),S=0;S<256;++S){var T=S-127;T<-27?(L[S]=0,L[256|S]=32768,f[S]=24,f[256|S]=24):T<-14?(L[S]=1024>>-T-14,L[256|S]=1024>>-T-14|32768,f[S]=-T-1,f[256|S]=-T-1):T<=15?(L[S]=T+15<<10,L[256|S]=T+15<<10|32768,f[S]=13,f[256|S]=13):T<128?(L[S]=31744,L[256|S]=64512,f[S]=24,f[256|S]=24):(L[S]=31744,L[256|S]=64512,f[S]=13,f[256|S]=13)}var g=new Uint32Array(2048),k=new Uint32Array(64),R=new Uint32Array(64);g[0]=0;for(var P=1;P<1024;++P){for(var J=P<<13,M=0;0==(8388608&J);)M-=8388608,J<<=1;J&=-8388609,M+=947912704,g[P]=J|M}for(var U=1024;U<2048;++U)g[U]=939524096+(U-1024<<13);k[0]=0;for(var H=1;H<31;++H)k[H]=H<<23;k[31]=1199570944,k[32]=2147483648;for(var w=33;w<63;++w)k[w]=2147483648+(w-32<<23);k[63]=3347054592,R[0]=0;for(var N=1;N<64;++N)R[N]=32===N?0:1024;function z(e){var t=e>>10;return K[0]=g[R[t]+(1023&e)]+k[t],I[0]}function v(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function F(e){return function(e){if(Array.isArray(e))return i(e)}(e)||v(e)||n(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var C=Reflect.getPrototypeOf(Uint8Array).prototype,j=Reflect.getOwnPropertyDescriptor(C,Symbol.toStringTag).get,D=Object.prototype.toString;function B(e){return!!ArrayBuffer.isView(e)&&!function(e){return void 0!==j.call(e)}(e)&&"[object DataView]"===D.call(e)}function Q(e,t){if(!B(e))throw new TypeError("First argument to getFloat16 function must be a DataView");for(var l=arguments.length,i=new Array(l>2?l-2:0),n=2;n<l;n++)i[n-2]=arguments[n];return z(e.getUint16.apply(e,[t].concat(i)))}var O=function(e,t,l){var i=l&&l.debug||!1;i&&console.log("getting "+t+" in "+e);var n="object"===u(e)?e.outer:e,c="".concat(t,'\\="([^"]*)"');i&&console.log("pattern:",c);var a=new RegExp(c).exec(n);if(i&&console.log("match:",a),a)return a[1]},E=function(e,t,l){var i=new RegExp(t).exec(e.slice(l));return i?l+i.index:-1},A=function(e,t,l){var i=l&&l.debug||!1,n=l&&l.startIndex||0;i&&console.log("starting findTagByName with",t," and ",l);var c=E(e,"<".concat(t,"[ >]"),n);if(i&&console.log("start:",c),-1!==c){var a=e.slice(c+t.length),r=E(a,"[ /]"+t+">",0),d=-1===r;d&&(r=E(a,"[ /]>",0));var s=c+t.length+r+1+(d?0:t.length)+1;if(i&&console.log("end:",s),-1!==s){var m=e.slice(c,s);return{inner:d?null:m.slice(m.indexOf(">")+1,m.lastIndexOf("<")),outer:m,start:c,end:s}}}},_=function(e,t,l){for(var i,n=[],c=l&&l.debug||!1,a=l&&l.startIndex||0;i=A(e,t,{debug:c,startIndex:a});)a=i.end,n.push(i);return c&&console.log("findTagsByName found",n.length,"tags"),n},q={315:"Artist",258:"BitsPerSample",265:"CellLength",264:"CellWidth",320:"ColorMap",259:"Compression",33432:"Copyright",306:"DateTime",338:"ExtraSamples",266:"FillOrder",289:"FreeByteCounts",288:"FreeOffsets",291:"GrayResponseCurve",290:"GrayResponseUnit",316:"HostComputer",270:"ImageDescription",257:"ImageLength",256:"ImageWidth",271:"Make",281:"MaxSampleValue",280:"MinSampleValue",272:"Model",254:"NewSubfileType",274:"Orientation",262:"PhotometricInterpretation",284:"PlanarConfiguration",296:"ResolutionUnit",278:"RowsPerStrip",277:"SamplesPerPixel",305:"Software",279:"StripByteCounts",273:"StripOffsets",255:"SubfileType",263:"Threshholding",282:"XResolution",283:"YResolution",326:"BadFaxLines",327:"CleanFaxData",343:"ClipPath",328:"ConsecutiveBadFaxLines",433:"Decode",434:"DefaultImageColor",269:"DocumentName",336:"DotRange",321:"HalftoneHints",346:"Indexed",347:"JPEGTables",285:"PageName",297:"PageNumber",317:"Predictor",319:"PrimaryChromaticities",532:"ReferenceBlackWhite",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",559:"StripRowCounts",330:"SubIFDs",292:"T4Options",293:"T6Options",325:"TileByteCounts",323:"TileLength",324:"TileOffsets",322:"TileWidth",301:"TransferFunction",318:"WhitePoint",344:"XClipPathUnits",286:"XPosition",529:"YCbCrCoefficients",531:"YCbCrPositioning",530:"YCbCrSubSampling",345:"YClipPathUnits",287:"YPosition",37378:"ApertureValue",40961:"ColorSpace",36868:"DateTimeDigitized",36867:"DateTimeOriginal",34665:"Exif IFD",36864:"ExifVersion",33434:"ExposureTime",41728:"FileSource",37385:"Flash",40960:"FlashpixVersion",33437:"FNumber",42016:"ImageUniqueID",37384:"LightSource",37500:"MakerNote",37377:"ShutterSpeedValue",37510:"UserComment",33723:"IPTC",34675:"ICC Profile",700:"XMP",42112:"GDAL_METADATA",42113:"GDAL_NODATA",34377:"Photoshop",33550:"ModelPixelScale",33922:"ModelTiepoint",34264:"ModelTransformation",34735:"GeoKeyDirectory",34736:"GeoDoubleParams",34737:"GeoAsciiParams",50674:"LercParameters"},$={};for(var ee in q)q.hasOwnProperty(ee)&&($[q[ee]]=parseInt(ee,10));var te={256:"SHORT",257:"SHORT",258:"SHORT",259:"SHORT",262:"SHORT",273:"LONG",274:"SHORT",277:"SHORT",278:"LONG",279:"LONG",282:"RATIONAL",283:"RATIONAL",284:"SHORT",286:"SHORT",287:"RATIONAL",296:"SHORT",297:"SHORT",305:"ASCII",306:"ASCII",338:"SHORT",339:"SHORT",513:"LONG",514:"LONG",1024:"SHORT",1025:"SHORT",2048:"SHORT",2049:"ASCII",3072:"SHORT",3073:"ASCII",33550:"DOUBLE",33922:"DOUBLE",34665:"LONG",34735:"SHORT",34737:"ASCII",42113:"ASCII"},le=[$.BitsPerSample,$.ExtraSamples,$.SampleFormat,$.StripByteCounts,$.StripOffsets,$.StripRowCounts,$.TileByteCounts,$.TileOffsets,$.SubIFDs],ie={1:"BYTE",2:"ASCII",3:"SHORT",4:"LONG",5:"RATIONAL",6:"SBYTE",7:"UNDEFINED",8:"SSHORT",9:"SLONG",10:"SRATIONAL",11:"FLOAT",12:"DOUBLE",13:"IFD",16:"LONG8",17:"SLONG8",18:"IFD8"},ne={};for(var ce in ie)ie.hasOwnProperty(ce)&&(ne[ie[ce]]=parseInt(ce,10));var ae={WhiteIsZero:0,BlackIsZero:1,RGB:2,Palette:3,TransparencyMask:4,CMYK:5,YCbCr:6,CIELab:8,ICCLab:9},re={Unspecified:0,Assocalpha:1,Unassalpha:2},de={Version:0,AddCompression:1},se={None:0,Deflate:1},me={1024:"GTModelTypeGeoKey",1025:"GTRasterTypeGeoKey",1026:"GTCitationGeoKey",2048:"GeographicTypeGeoKey",2049:"GeogCitationGeoKey",2050:"GeogGeodeticDatumGeoKey",2051:"GeogPrimeMeridianGeoKey",2052:"GeogLinearUnitsGeoKey",2053:"GeogLinearUnitSizeGeoKey",2054:"GeogAngularUnitsGeoKey",2055:"GeogAngularUnitSizeGeoKey",2056:"GeogEllipsoidGeoKey",2057:"GeogSemiMajorAxisGeoKey",2058:"GeogSemiMinorAxisGeoKey",2059:"GeogInvFlatteningGeoKey",2060:"GeogAzimuthUnitsGeoKey",2061:"GeogPrimeMeridianLongGeoKey",2062:"GeogTOWGS84GeoKey",3072:"ProjectedCSTypeGeoKey",3073:"PCSCitationGeoKey",3074:"ProjectionGeoKey",3075:"ProjCoordTransGeoKey",3076:"ProjLinearUnitsGeoKey",3077:"ProjLinearUnitSizeGeoKey",3078:"ProjStdParallel1GeoKey",3079:"ProjStdParallel2GeoKey",3080:"ProjNatOriginLongGeoKey",3081:"ProjNatOriginLatGeoKey",3082:"ProjFalseEastingGeoKey",3083:"ProjFalseNorthingGeoKey",3084:"ProjFalseOriginLongGeoKey",3085:"ProjFalseOriginLatGeoKey",3086:"ProjFalseOriginEastingGeoKey",3087:"ProjFalseOriginNorthingGeoKey",3088:"ProjCenterLongGeoKey",3089:"ProjCenterLatGeoKey",3090:"ProjCenterEastingGeoKey",3091:"ProjCenterNorthingGeoKey",3092:"ProjScaleAtNatOriginGeoKey",3093:"ProjScaleAtCenterGeoKey",3094:"ProjAzimuthAngleGeoKey",3095:"ProjStraightVertPoleLongGeoKey",3096:"ProjRectifiedGridAngleGeoKey",4096:"VerticalCSTypeGeoKey",4097:"VerticalCitationGeoKey",4098:"VerticalDatumGeoKey",4099:"VerticalUnitsGeoKey"},Ze={};for(var oe in me)me.hasOwnProperty(oe)&&(Ze[me[oe]]=parseInt(oe,10));var ue=Object.freeze({__proto__:null,fieldTagNames:q,fieldTags:$,fieldTagTypes:te,arrayFields:le,fieldTypeNames:ie,fieldTypes:ne,photometricInterpretations:ae,ExtraSamplesValues:re,LercParameters:de,LercAddCompression:se,geoKeyNames:me,geoKeys:Ze});function be(e,t){for(var l,i=e.width,n=e.height,c=new Uint8Array(i*n*3),a=0,r=0;a<e.length;++a,r+=3)l=256-e[a]/t*256,c[r]=l,c[r+1]=l,c[r+2]=l;return c}function he(e,t){for(var l,i=e.width,n=e.height,c=new Uint8Array(i*n*3),a=0,r=0;a<e.length;++a,r+=3)l=e[a]/t*256,c[r]=l,c[r+1]=l,c[r+2]=l;return c}function ye(e,t){for(var l=e.width,i=e.height,n=new Uint8Array(l*i*3),c=t.length/3,a=t.length/3*2,r=0,d=0;r<e.length;++r,d+=3){var s=e[r];n[d]=t[s]/65536*256,n[d+1]=t[s+c]/65536*256,n[d+2]=t[s+a]/65536*256}return n}function pe(e){for(var t=e.width,l=e.height,i=new Uint8Array(t*l*3),n=0,c=0;n<e.length;n+=4,c+=3){var a=e[n],r=e[n+1],d=e[n+2],s=e[n+3];i[c]=(255-a)/256*255*((255-s)/256),i[c+1]=(255-r)/256*255*((255-s)/256),i[c+2]=(255-d)/256*255*((255-s)/256)}return i}function Xe(e){for(var t=e.width,l=e.height,i=new Uint8ClampedArray(t*l*3),n=0,c=0;n<e.length;n+=3,c+=3){var a=e[n],r=e[n+1],d=e[n+2];i[c]=a+1.402*(d-128),i[c+1]=a-.34414*(r-128)-.71414*(d-128),i[c+2]=a+1.772*(r-128)}return i}function We(e){for(var t=e.width,l=e.height,i=new Uint8Array(t*l*3),n=0,c=0;n<e.length;n+=3,c+=3){var a=(e[n+0]+16)/116,r=(e[n+1]<<24>>24)/500+a,d=a-(e[n+2]<<24>>24)/200,s=void 0,m=void 0,Z=void 0;m=-.9689*(r=.95047*(r*r*r>.008856?r*r*r:(r-16/116)/7.787))+1.8758*(a=1*(a*a*a>.008856?a*a*a:(a-16/116)/7.787))+.0415*(d=1.08883*(d*d*d>.008856?d*d*d:(d-16/116)/7.787)),Z=.0557*r+-.204*a+1.057*d,s=(s=3.2406*r+-1.5372*a+-.4986*d)>.0031308?1.055*Math.pow(s,1/2.4)-.055:12.92*s,m=m>.0031308?1.055*Math.pow(m,1/2.4)-.055:12.92*m,Z=Z>.0031308?1.055*Math.pow(Z,1/2.4)-.055:12.92*Z,i[c]=255*Math.max(0,Math.min(1,s)),i[c+1]=255*Math.max(0,Math.min(1,m)),i[c+2]=255*Math.max(0,Math.min(1,Z))}return i}var Ge=Object.freeze({__proto__:null,fromWhiteIsZero:be,fromBlackIsZero:he,fromPalette:ye,fromCMYK:pe,fromYCbCr:Xe,fromCIELab:We}),Ve=new Map;function Ye(e,t){Array.isArray(e)||(e=[e]),e.forEach((function(e){return Ve.set(e,t)}))}function xe(e){return Ie.apply(this,arguments)}function Ie(){return(Ie=d(Y.mark((function e(t){var l,i;return Y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=Ve.get(t.Compression)){e.next=3;break}throw new Error("Unknown compression method identifier: ".concat(t.Compression));case 3:return e.next=5,l();case 5:return i=e.sent,e.abrupt("return",new i(t));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ke(e,t,l){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return new(Object.getPrototypeOf(e).constructor)(t*l*i)}function Le(e,t,l,i,n){var c=t/i,a=l/n;return e.map((function(e){for(var r=Ke(e,i,n),d=0;d<n;++d)for(var s=Math.min(Math.round(a*d),l-1),m=0;m<i;++m){var Z=Math.min(Math.round(c*m),t-1),o=e[s*t+Z];r[d*i+m]=o}return r}))}function fe(e,t,l){return(1-l)*e+l*t}function Se(e,t,l,i,n){var c=t/i,a=l/n;return e.map((function(e){for(var r=Ke(e,i,n),d=0;d<n;++d)for(var s=a*d,m=Math.floor(s),Z=Math.min(Math.ceil(s),l-1),o=0;o<i;++o){var u=c*o,b=u%1,h=Math.floor(u),y=Math.min(Math.ceil(u),t-1),p=e[m*t+h],X=e[m*t+y],W=e[Z*t+h],G=e[Z*t+y],V=fe(fe(p,X,b),fe(W,G,b),s%1);r[d*i+o]=V}return r}))}function Te(e,t,l,i,n){var c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"nearest";switch(c.toLowerCase()){case"nearest":return Le(e,t,l,i,n);case"bilinear":case"linear":return Se(e,t,l,i,n);default:throw new Error("Unsupported resampling method: '".concat(c,"'"))}}function ge(e,t,l,i,n,c){for(var a=t/i,r=l/n,d=Ke(e,i,n,c),s=0;s<n;++s)for(var m=Math.min(Math.round(r*s),l-1),Z=0;Z<i;++Z)for(var o=Math.min(Math.round(a*Z),t-1),u=0;u<c;++u){var b=e[m*t*c+o*c+u];d[s*i*c+Z*c+u]=b}return d}function ke(e,t,l,i,n,c){for(var a=t/i,r=l/n,d=Ke(e,i,n,c),s=0;s<n;++s)for(var m=r*s,Z=Math.floor(m),o=Math.min(Math.ceil(m),l-1),u=0;u<i;++u)for(var b=a*u,h=b%1,y=Math.floor(b),p=Math.min(Math.ceil(b),t-1),X=0;X<c;++X){var W=e[Z*t*c+y*c+X],G=e[Z*t*c+p*c+X],V=e[o*t*c+y*c+X],Y=e[o*t*c+p*c+X],x=fe(fe(W,G,h),fe(V,Y,h),m%1);d[s*i*c+u*c+X]=x}return d}function Re(e,t,l,i,n,c){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"nearest";switch(a.toLowerCase()){case"nearest":return ge(e,t,l,i,n,c);case"bilinear":case"linear":return ke(e,t,l,i,n,c);default:throw new Error("Unsupported resampling method: '".concat(a,"'"))}}function Pe(e,t,l){for(var i=0,n=t;n<l;++n)i+=e[n];return i}function Je(e,t,l){switch(e){case 1:if(t<=8)return new Uint8Array(l);if(t<=16)return new Uint16Array(l);if(t<=32)return new Uint32Array(l);break;case 2:if(8===t)return new Int8Array(l);if(16===t)return new Int16Array(l);if(32===t)return new Int32Array(l);break;case 3:switch(t){case 16:case 32:return new Float32Array(l);case 64:return new Float64Array(l)}}throw Error("Unsupported data format/bitsPerSample")}function Me(e,t){return(1!==e&&2!==e||!(t<=32)||t%8!=0)&&(3!==e||16!==t&&32!==t&&64!==t)}function Ue(e,t,l,i,n,c,a){var r=new DataView(e),d=2===l?1:i,s=Je(t,n,2===l?a*c:a*c*i),m=parseInt("1".repeat(n),2);if(1===t){var Z=c*(1===l?i*n:n);0!=(7&Z)&&(Z=Z+7&-8);for(var o=0;o<a;++o)for(var u=o*Z,b=0;b<c;++b)for(var h=u+b*d*n,y=0;y<d;++y){var p=h+y*n,X=(o*c+b)*d+y,W=Math.floor(p/8),G=p%8;if(G+n<=8)s[X]=r.getUint8(W)>>8-n-G&m;else if(G+n<=16)s[X]=r.getUint16(W)>>16-n-G&m;else if(G+n<=24){var V=r.getUint16(W)<<8|r.getUint8(W+2);s[X]=V>>24-n-G&m}else s[X]=r.getUint32(W)>>32-n-G&m}}return s.buffer}Ye([void 0,1],(function(){return Promise.resolve().then((function(){return wl})).then((function(e){return e.default}))})),Ye(5,(function(){return Promise.resolve().then((function(){return Cl})).then((function(e){return e.default}))})),Ye(6,(function(){throw new Error("old style JPEG compression is not supported.")})),Ye(7,(function(){return Promise.resolve().then((function(){return ci})).then((function(e){return e.default}))})),Ye([8,32946],(function(){return Promise.resolve().then((function(){return yn})).then((function(e){return e.default}))})),Ye(32773,(function(){return Promise.resolve().then((function(){return Wn})).then((function(e){return e.default}))})),Ye(34887,(function(){return Promise.resolve().then((function(){return In})).then((function(e){return e.default}))})),Ye(50001,(function(){return Promise.resolve().then((function(){return fn})).then((function(e){return e.default}))}));var He=function(){function e(t,l,i,n,c,a){G(this,e),this.fileDirectory=t,this.geoKeys=l,this.dataView=i,this.littleEndian=n,this.tiles=c?{}:null,this.isTiled=!t.StripOffsets;var r=t.PlanarConfiguration;if(this.planarConfiguration=void 0===r?1:r,1!==this.planarConfiguration&&2!==this.planarConfiguration)throw new Error("Invalid planar configuration.");this.source=a}var t,l,i,n;return m(e,[{key:"getFileDirectory",value:function(){return this.fileDirectory}},{key:"getGeoKeys",value:function(){return this.geoKeys}},{key:"getWidth",value:function(){return this.fileDirectory.ImageWidth}},{key:"getHeight",value:function(){return this.fileDirectory.ImageLength}},{key:"getSamplesPerPixel",value:function(){return void 0!==this.fileDirectory.SamplesPerPixel?this.fileDirectory.SamplesPerPixel:1}},{key:"getTileWidth",value:function(){return this.isTiled?this.fileDirectory.TileWidth:this.getWidth()}},{key:"getTileHeight",value:function(){return this.isTiled?this.fileDirectory.TileLength:void 0!==this.fileDirectory.RowsPerStrip?Math.min(this.fileDirectory.RowsPerStrip,this.getHeight()):this.getHeight()}},{key:"getBlockWidth",value:function(){return this.getTileWidth()}},{key:"getBlockHeight",value:function(e){return this.isTiled||(e+1)*this.getTileHeight()<=this.getHeight()?this.getTileHeight():this.getHeight()-e*this.getTileHeight()}},{key:"getBytesPerPixel",value:function(){for(var e=0,t=0;t<this.fileDirectory.BitsPerSample.length;++t)e+=this.getSampleByteSize(t);return e}},{key:"getSampleByteSize",value:function(e){if(e>=this.fileDirectory.BitsPerSample.length)throw new RangeError("Sample index ".concat(e," is out of range."));return Math.ceil(this.fileDirectory.BitsPerSample[e]/8)}},{key:"getReaderForSample",value:function(e){var t=this.fileDirectory.SampleFormat?this.fileDirectory.SampleFormat[e]:1,l=this.fileDirectory.BitsPerSample[e];switch(t){case 1:if(l<=8)return DataView.prototype.getUint8;if(l<=16)return DataView.prototype.getUint16;if(l<=32)return DataView.prototype.getUint32;break;case 2:if(l<=8)return DataView.prototype.getInt8;if(l<=16)return DataView.prototype.getInt16;if(l<=32)return DataView.prototype.getInt32;break;case 3:switch(l){case 16:return function(e,t){return Q(this,e,t)};case 32:return DataView.prototype.getFloat32;case 64:return DataView.prototype.getFloat64}}throw Error("Unsupported data format/bitsPerSample")}},{key:"getSampleFormat",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.fileDirectory.SampleFormat?this.fileDirectory.SampleFormat[e]:1}},{key:"getBitsPerSample",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.fileDirectory.BitsPerSample[e]}},{key:"getArrayForSample",value:function(e,t){return Je(this.getSampleFormat(e),this.getBitsPerSample(e),t)}},{key:"getTileOrStrip",value:(n=d(Y.mark((function e(t,l,i,n,c){var a,r,s,m,Z,o,u,b,h=this;return Y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Math.ceil(this.getWidth()/this.getTileWidth()),r=Math.ceil(this.getHeight()/this.getTileHeight()),m=this.tiles,1===this.planarConfiguration?s=l*a+t:2===this.planarConfiguration&&(s=i*a*r+l*a+t),this.isTiled?(Z=this.fileDirectory.TileOffsets[s],o=this.fileDirectory.TileByteCounts[s]):(Z=this.fileDirectory.StripOffsets[s],o=this.fileDirectory.StripByteCounts[s]),e.next=7,this.source.fetch([{offset:Z,length:o}],c);case 7:return u=e.sent[0],null!==m&&m[s]?b=m[s]:(b=d(Y.mark((function e(){var t,i,c;return Y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.decode(h.fileDirectory,u);case 2:return t=e.sent,i=h.getSampleFormat(),c=h.getBitsPerSample(),Me(i,c)&&(t=Ue(t,i,h.planarConfiguration,h.getSamplesPerPixel(),c,h.getTileWidth(),h.getBlockHeight(l))),e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})))(),null!==m&&(m[s]=b)),e.t0=t,e.t1=l,e.t2=i,e.next=14,b;case 14:return e.t3=e.sent,e.abrupt("return",{x:e.t0,y:e.t1,sample:e.t2,data:e.t3});case 16:case"end":return e.stop()}}),e,this)}))),function(e,t,l,i,c){return n.apply(this,arguments)})},{key:"_readRaster",value:(i=d(Y.mark((function e(t,l,i,n,c,a,r,d,s){var m,Z,o,u,b,h,y,p,X,W,G,V,x,I,K,L,f,S,T,g,k=this;return Y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(m=this.getTileWidth(),Z=this.getTileHeight(),o=this.getWidth(),u=this.getHeight(),b=Math.max(Math.floor(t[0]/m),0),h=Math.min(Math.ceil(t[2]/m),Math.ceil(o/m)),y=Math.max(Math.floor(t[1]/Z),0),p=Math.min(Math.ceil(t[3]/Z),Math.ceil(u/Z)),X=t[2]-t[0],W=this.getBytesPerPixel(),G=[],V=[],x=0;x<l.length;++x)1===this.planarConfiguration?G.push(Pe(this.fileDirectory.BitsPerSample,0,l[x])/8):G.push(0),V.push(this.getReaderForSample(l[x]));for(I=[],K=this.littleEndian,L=y;L<p;++L)for(f=b;f<h;++f)for(S=function(e){var a=e,r=l[e];2===k.planarConfiguration&&(W=k.getSampleByteSize(e));var d=k.getTileOrStrip(f,L,r,c,s).then((function(e){for(var c=e.data,r=new DataView(c),d=k.getBlockHeight(e.y),s=e.y*Z,b=e.x*m,h=s+d,y=(e.x+1)*m,p=V[a],Y=Math.min(d,d-(h-t[3]),u-s),x=Math.min(m,m-(y-t[2]),o-b),I=Math.max(0,t[1]-s);I<Y;++I)for(var L=Math.max(0,t[0]-b);L<x;++L){var f=(I*m+L)*W,S=p.call(r,f+G[a],K),T=void 0;n?(T=(I+s-t[1])*X*l.length+(L+b-t[0])*l.length+a,i[T]=S):(T=(I+s-t[1])*X+L+b-t[0],i[a][T]=S)}}));I.push(d)},T=0;T<l.length;++T)S(T);return e.next=18,Promise.all(I);case 18:if(!(a&&t[2]-t[0]!==a||r&&t[3]-t[1]!==r)){e.next=23;break}return(g=n?Re(i,t[2]-t[0],t[3]-t[1],a,r,l.length,d):Te(i,t[2]-t[0],t[3]-t[1],a,r,d)).width=a,g.height=r,e.abrupt("return",g);case 23:return i.width=a||t[2]-t[0],i.height=r||t[3]-t[1],e.abrupt("return",i);case 26:case"end":return e.stop()}}),e,this)}))),function(e,t,l,n,c,a,r,d,s){return i.apply(this,arguments)})},{key:"readRasters",value:(l=d(Y.mark((function e(){var t,l,i,n,c,a,r,d,s,m,Z,o,u,b,h,y,p,X,W,G,V,x,I,K,L,f,S=arguments;return Y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=S.length>0&&void 0!==S[0]?S[0]:{},l=t.window,i=t.samples,n=void 0===i?[]:i,c=t.interleave,a=t.pool,r=void 0===a?null:a,d=t.width,s=t.height,m=t.resampleMethod,Z=t.fillValue,o=t.signal,!((u=l||[0,0,this.getWidth(),this.getHeight()])[0]>u[2]||u[1]>u[3])){e.next=4;break}throw new Error("Invalid subsets");case 4:if(b=u[2]-u[0],h=u[3]-u[1],y=b*h,p=this.getSamplesPerPixel(),n&&n.length){e.next=12;break}for(X=0;X<p;++X)n.push(X);e.next=19;break;case 12:W=0;case 13:if(!(W<n.length)){e.next=19;break}if(!(n[W]>=p)){e.next=16;break}return e.abrupt("return",Promise.reject(new RangeError("Invalid sample index '".concat(n[W],"'."))));case 16:++W,e.next=13;break;case 19:if(c)V=this.fileDirectory.SampleFormat?Math.max.apply(null,this.fileDirectory.SampleFormat):1,x=Math.max.apply(null,this.fileDirectory.BitsPerSample),G=Je(V,x,y*n.length),Z&&G.fill(Z);else for(G=[],I=0;I<n.length;++I)K=this.getArrayForSample(n[I],y),Array.isArray(Z)&&I<Z.length?K.fill(Z[I]):Z&&!Array.isArray(Z)&&K.fill(Z),G.push(K);if(e.t0=r,e.t0){e.next=25;break}return e.next=24,xe(this.fileDirectory);case 24:e.t0=e.sent;case 25:return L=e.t0,e.next=28,this._readRaster(u,n,G,c,L,d,s,m,o);case 28:return f=e.sent,e.abrupt("return",f);case 30:case"end":return e.stop()}}),e,this)}))),function(){return l.apply(this,arguments)})},{key:"readRGB",value:(t=d(Y.mark((function e(){var t,l,i,n,c,a,r,d,s,m,Z,o,u,b,h,y,p,X,W,G,V,x,I,K,L,f,S,T=arguments;return Y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=T.length>0&&void 0!==T[0]?T[0]:{},l=t.window,i=t.interleave,n=void 0===i||i,c=t.pool,a=void 0===c?null:c,r=t.width,d=t.height,s=t.resampleMethod,m=t.enableAlpha,Z=void 0!==m&&m,o=t.signal,!((u=l||[0,0,this.getWidth(),this.getHeight()])[0]>u[2]||u[1]>u[3])){e.next=4;break}throw new Error("Invalid subsets");case 4:if((b=this.fileDirectory.PhotometricInterpretation)!==ae.RGB){e.next=9;break}if(h=[0,1,2],this.fileDirectory.ExtraSamples!==re.Unspecified&&Z)for(h=[],y=0;y<this.fileDirectory.BitsPerSample.length;y+=1)h.push(y);return e.abrupt("return",this.readRasters({window:l,interleave:n,samples:h,pool:a,width:r,height:d,resampleMethod:s,signal:o}));case 9:e.t0=b,e.next=e.t0===ae.WhiteIsZero||e.t0===ae.BlackIsZero||e.t0===ae.Palette?12:e.t0===ae.CMYK?14:e.t0===ae.YCbCr||e.t0===ae.CIELab?16:18;break;case 12:return p=[0],e.abrupt("break",19);case 14:return p=[0,1,2,3],e.abrupt("break",19);case 16:return p=[0,1,2],e.abrupt("break",19);case 18:throw new Error("Invalid or unsupported photometric interpretation.");case 19:return X={window:u,interleave:!0,samples:p,pool:a,width:r,height:d,resampleMethod:s,signal:o},W=this.fileDirectory,e.next=23,this.readRasters(X);case 23:G=e.sent,V=Math.pow(2,this.fileDirectory.BitsPerSample[0]),e.t1=b,e.next=e.t1===ae.WhiteIsZero?28:e.t1===ae.BlackIsZero?30:e.t1===ae.Palette?32:e.t1===ae.CMYK?34:e.t1===ae.YCbCr?36:e.t1===ae.CIELab?38:40;break;case 28:return x=be(G,V),e.abrupt("break",41);case 30:return x=he(G,V),e.abrupt("break",41);case 32:return x=ye(G,W.ColorMap),e.abrupt("break",41);case 34:return x=pe(G),e.abrupt("break",41);case 36:return x=Xe(G),e.abrupt("break",41);case 38:return x=We(G),e.abrupt("break",41);case 40:throw new Error("Unsupported photometric interpretation.");case 41:if(!n){for(I=new Uint8Array(x.length/3),K=new Uint8Array(x.length/3),L=new Uint8Array(x.length/3),f=0,S=0;f<x.length;f+=3,++S)I[S]=x[f],K[S]=x[f+1],L[S]=x[f+2];x=[I,K,L]}return x.width=G.width,x.height=G.height,e.abrupt("return",x);case 45:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"getTiePoints",value:function(){if(!this.fileDirectory.ModelTiepoint)return[];for(var e=[],t=0;t<this.fileDirectory.ModelTiepoint.length;t+=6)e.push({i:this.fileDirectory.ModelTiepoint[t],j:this.fileDirectory.ModelTiepoint[t+1],k:this.fileDirectory.ModelTiepoint[t+2],x:this.fileDirectory.ModelTiepoint[t+3],y:this.fileDirectory.ModelTiepoint[t+4],z:this.fileDirectory.ModelTiepoint[t+5]});return e}},{key:"getGDALMetadata",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t={};if(!this.fileDirectory.GDAL_METADATA)return null;var l=this.fileDirectory.GDAL_METADATA,i=_(l,"Item");i=null===e?i.filter((function(e){return void 0===O(e,"sample")})):i.filter((function(t){return Number(O(t,"sample"))===e}));for(var n=0;n<i.length;++n){var c=i[n];t[O(c,"name")]=c.inner}return t}},{key:"getGDALNoData",value:function(){if(!this.fileDirectory.GDAL_NODATA)return null;var e=this.fileDirectory.GDAL_NODATA;return Number(e.substring(0,e.length-1))}},{key:"getOrigin",value:function(){var e=this.fileDirectory.ModelTiepoint,t=this.fileDirectory.ModelTransformation;if(e&&6===e.length)return[e[3],e[4],e[5]];if(t)return[t[3],t[7],t[11]];throw new Error("The image does not have an affine transformation.")}},{key:"getResolution",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.fileDirectory.ModelPixelScale,l=this.fileDirectory.ModelTransformation;if(t)return[t[0],-t[1],t[2]];if(l)return[l[0],l[5],l[10]];if(e){var i=a(e.getResolution(),3),n=i[0],c=i[1],r=i[2];return[n*e.getWidth()/this.getWidth(),c*e.getHeight()/this.getHeight(),r*e.getWidth()/this.getWidth()]}throw new Error("The image does not have an affine transformation.")}},{key:"pixelIsArea",value:function(){return 1===this.geoKeys.GTRasterTypeGeoKey}},{key:"getBoundingBox",value:function(){var e=this.getOrigin(),t=this.getResolution(),l=e[0],i=e[1],n=l+t[0]*this.getWidth(),c=i+t[1]*this.getHeight();return[Math.min(l,n),Math.min(i,c),Math.max(l,n),Math.max(i,c)]}}]),e}(),we=He,Ne=function(){function e(t){G(this,e),this._dataView=new DataView(t)}return m(e,[{key:"buffer",get:function(){return this._dataView.buffer}},{key:"getUint64",value:function(e,t){var l,i=this.getUint32(e,t),n=this.getUint32(e+4,t);if(t){if(l=i+Math.pow(2,32)*n,!Number.isSafeInteger(l))throw new Error("".concat(l," exceeds MAX_SAFE_INTEGER. ")+"Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues");return l}if(l=Math.pow(2,32)*i+n,!Number.isSafeInteger(l))throw new Error("".concat(l," exceeds MAX_SAFE_INTEGER. ")+"Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues");return l}},{key:"getInt64",value:function(e,t){for(var l=0,i=(128&this._dataView.getUint8(e+(t?7:0)))>0,n=!0,c=0;c<8;c++){var a=this._dataView.getUint8(e+(t?c:7-c));i&&(n?0!==a&&(a=255&~(a-1),n=!1):a=255&~a),l+=a*Math.pow(256,c)}return i&&(l=-l),l}},{key:"getUint8",value:function(e,t){return this._dataView.getUint8(e,t)}},{key:"getInt8",value:function(e,t){return this._dataView.getInt8(e,t)}},{key:"getUint16",value:function(e,t){return this._dataView.getUint16(e,t)}},{key:"getInt16",value:function(e,t){return this._dataView.getInt16(e,t)}},{key:"getUint32",value:function(e,t){return this._dataView.getUint32(e,t)}},{key:"getInt32",value:function(e,t){return this._dataView.getInt32(e,t)}},{key:"getFloat16",value:function(e,t){return Q(this._dataView,e,t)}},{key:"getFloat32",value:function(e,t){return this._dataView.getFloat32(e,t)}},{key:"getFloat64",value:function(e,t){return this._dataView.getFloat64(e,t)}}]),e}(),ze=function(){function e(t,l,i,n){G(this,e),this._dataView=new DataView(t),this._sliceOffset=l,this._littleEndian=i,this._bigTiff=n}return m(e,[{key:"sliceOffset",get:function(){return this._sliceOffset}},{key:"sliceTop",get:function(){return this._sliceOffset+this.buffer.byteLength}},{key:"littleEndian",get:function(){return this._littleEndian}},{key:"bigTiff",get:function(){return this._bigTiff}},{key:"buffer",get:function(){return this._dataView.buffer}},{key:"covers",value:function(e,t){return this.sliceOffset<=e&&this.sliceTop>=e+t}},{key:"readUint8",value:function(e){return this._dataView.getUint8(e-this._sliceOffset,this._littleEndian)}},{key:"readInt8",value:function(e){return this._dataView.getInt8(e-this._sliceOffset,this._littleEndian)}},{key:"readUint16",value:function(e){return this._dataView.getUint16(e-this._sliceOffset,this._littleEndian)}},{key:"readInt16",value:function(e){return this._dataView.getInt16(e-this._sliceOffset,this._littleEndian)}},{key:"readUint32",value:function(e){return this._dataView.getUint32(e-this._sliceOffset,this._littleEndian)}},{key:"readInt32",value:function(e){return this._dataView.getInt32(e-this._sliceOffset,this._littleEndian)}},{key:"readFloat32",value:function(e){return this._dataView.getFloat32(e-this._sliceOffset,this._littleEndian)}},{key:"readFloat64",value:function(e){return this._dataView.getFloat64(e-this._sliceOffset,this._littleEndian)}},{key:"readUint64",value:function(e){var t,l=this.readUint32(e),i=this.readUint32(e+4);if(this._littleEndian){if(t=l+Math.pow(2,32)*i,!Number.isSafeInteger(t))throw new Error("".concat(t," exceeds MAX_SAFE_INTEGER. ")+"Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues");return t}if(t=Math.pow(2,32)*l+i,!Number.isSafeInteger(t))throw new Error("".concat(t," exceeds MAX_SAFE_INTEGER. ")+"Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues");return t}},{key:"readInt64",value:function(e){for(var t=0,l=(128&this._dataView.getUint8(e+(this._littleEndian?7:0)))>0,i=!0,n=0;n<8;n++){var c=this._dataView.getUint8(e+(this._littleEndian?n:7-n));l&&(i?0!==c&&(c=255&~(c-1),i=!1):c=255&~c),t+=c*Math.pow(256,n)}return l&&(t=-t),t}},{key:"readOffset",value:function(e){return this._bigTiff?this.readUint64(e):this.readUint32(e)}}]),e}(),ve="undefined"!=typeof navigator&&navigator.hardwareConcurrency||2,Fe=function(){function e(){var t=this,l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve,i=arguments.length>1?arguments[1]:void 0;G(this,e),this.workers=null,this._awaitingDecoder=null,this.size=l,this.messageId=0,l&&(this._awaitingDecoder=i?Promise.resolve(i):new Promise((function(e){Promise.resolve().then((function(){return Tn})).then((function(t){e(t.create)}))})),this._awaitingDecoder.then((function(e){t._awaitingDecoder=null,t.workers=[];for(var i=0;i<l;i++)t.workers.push({worker:e(),idle:!0})})))}var t;return m(e,[{key:"decode",value:(t=d(Y.mark((function e(t,l){var i=this;return Y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._awaitingDecoder){e.next=3;break}return e.next=3,this._awaitingDecoder;case 3:return e.abrupt("return",0===this.size?xe(t).then((function(e){return e.decode(t,l)})):new Promise((function(e){var n=i.workers.find((function(e){return e.idle}))||i.workers[Math.floor(Math.random()*i.size)];n.idle=!1;var c=i.messageId++;n.worker.addEventListener("message",(function t(l){l.data.id===c&&(n.idle=!0,e(l.data.decoded),n.worker.removeEventListener("message",t))})),n.worker.postMessage({fileDirectory:t,buffer:l,id:c},[l])})));case 4:case"end":return e.stop()}}),e,this)}))),function(e,l){return t.apply(this,arguments)})},{key:"destroy",value:function(){this.workers&&(this.workers.forEach((function(e){e.worker.terminate()})),this.workers=null)}}]),e}(),Ce=Fe;function je(e,t){if(null==e)return{};var l,i,n=function(e,t){if(null==e)return{};var l,i,n={},c=Object.keys(e);for(i=0;i<c.length;i++)l=c[i],t.indexOf(l)>=0||(n[l]=e[l]);return n}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(i=0;i<c.length;i++)l=c[i],t.indexOf(l)>=0||Object.prototype.propertyIsEnumerable.call(e,l)&&(n[l]=e[l])}return n}function De(e,t){var l="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!l){if(Array.isArray(e)||(l=function(e,t){if(e){if("string"==typeof e)return Be(e,t);var l=Object.prototype.toString.call(e).slice(8,-1);return"Object"===l&&e.constructor&&(l=e.constructor.name),"Map"===l||"Set"===l?Array.from(e):"Arguments"===l||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l)?Be(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){l&&(e=l);var i=0,n=function(){};return{s:n,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,a=!0,r=!1;return{s:function(){l=l.call(e)},n:function(){var e=l.next();return a=e.done,e},e:function(e){r=!0,c=e},f:function(){try{a||null==l.return||l.return()}finally{if(r)throw c}}}}function Be(e,t){(null==t||t>e.length)&&(t=e.length);for(var l=0,i=new Array(t);l<t;l++)i[l]=e[l];return i}var Qe="\r\n\r\n";function Oe(e){if(void 0!==Object.fromEntries)return Object.fromEntries(e);var t,l={},i=De(e);try{for(i.s();!(t=i.n()).done;){var n=a(t.value,2),c=n[0],r=n[1];l[c.toLowerCase()]=r}}catch(e){i.e(e)}finally{i.f()}return l}function Ee(e){return Oe(e.split("\r\n").map((function(e){var t=e.split(":").map((function(e){return e.trim()}));return t[0]=t[0].toLowerCase(),t})))}function Ae(e){var t,i=e.split(";").map((function(e){return e.trim()})),a=l(t=i)||v(t)||n(t)||c();return{type:a[0],params:Oe(a.slice(1).map((function(e){return e.split("=")})))}}function _e(e){var t,l,i;if(e){var n=a(e.match(/bytes (\d+)-(\d+)\/(\d+)/),4);t=n[1],l=n[2],i=n[3],t=parseInt(t,10),l=parseInt(l,10),i=parseInt(i,10)}return{start:t,end:l,total:i}}function qe(e,t){for(var l=null,i=new TextDecoder("ascii"),n=[],c="--".concat(t),a="".concat(c,"--"),r=0;r<10;++r)i.decode(new Uint8Array(e,r,c.length))===c&&(l=r);if(null===l)throw new Error("Could not find initial boundary");for(;l<e.byteLength;){var d=i.decode(new Uint8Array(e,l,Math.min(c.length+1024,e.byteLength-l)));if(0===d.length||d.startsWith(a))break;if(!d.startsWith(c))throw new Error("Part does not start with boundary");var s=d.substr(c.length+2);if(0===s.length)break;var m=s.indexOf(Qe),Z=Ee(s.substr(0,m)),o=_e(Z["content-range"]),u=o.start,b=o.end,h=o.total,y=l+c.length+m+Qe.length,p=parseInt(b,10)+1-parseInt(u,10);n.push({headers:Z,data:e.slice(y,y+p),offset:u,length:p,fileSize:h}),l=y+p+4}return n}var $e=function(){function e(){G(this,e)}var t,l,i;return m(e,[{key:"fetch",value:(i=d(Y.mark((function e(t){var l,i=this,n=arguments;return Y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=n.length>1&&void 0!==n[1]?n[1]:void 0,e.abrupt("return",Promise.all(t.map((function(e){return i.fetchSlice(e,l)}))));case 2:case"end":return e.stop()}}),e)}))),function(e){return i.apply(this,arguments)})},{key:"fetchSlice",value:(l=d(Y.mark((function e(t){return Y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("fetching of slice ".concat(t," not possible, not implemented"));case 1:case"end":return e.stop()}}),e)}))),function(e){return l.apply(this,arguments)})},{key:"fileSize",get:function(){return null}},{key:"close",value:(t=d(Y.mark((function e(){return Y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})}]),e}();function et(e,t){var l="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!l){if(Array.isArray(e)||(l=function(e,t){if(e){if("string"==typeof e)return tt(e,t);var l=Object.prototype.toString.call(e).slice(8,-1);return"Object"===l&&e.constructor&&(l=e.constructor.name),"Map"===l||"Set"===l?Array.from(e):"Arguments"===l||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l)?tt(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){l&&(e=l);var i=0,n=function(){};return{s:n,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,a=!0,r=!1;return{s:function(){l=l.call(e)},n:function(){var e=l.next();return a=e.done,e},e:function(e){r=!0,c=e},f:function(){try{a||null==l.return||l.return()}finally{if(r)throw c}}}}function tt(e,t){(null==t||t>e.length)&&(t=e.length);for(var l=0,i=new Array(t);l<t;l++)i[l]=e[l];return i}function lt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var l,i=y(e);if(t){var n=y(this).constructor;l=Reflect.construct(i,arguments,n)}else l=i.apply(this,arguments);return h(this,l)}}var it=function(e,t,l){o(n,e);var i=lt(n);function n(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(G(this,n),e=i.call(this),!(t.maxSize&&t.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");if("number"==typeof t.maxAge&&0===t.maxAge)throw new TypeError("`maxAge` must be a number greater than 0");return e.maxSize=t.maxSize,e.maxAge=t.maxAge||Number.POSITIVE_INFINITY,e.onEviction=t.onEviction,e.cache=new Map,e.oldCache=new Map,e._size=0,e}return m(n,[{key:"_emitEvictions",value:function(e){if("function"==typeof this.onEviction){var t,l=et(e);try{for(l.s();!(t=l.n()).done;){var i=a(t.value,2),n=i[0],c=i[1];this.onEviction(n,c.value)}}catch(e){l.e(e)}finally{l.f()}}}},{key:"_deleteIfExpired",value:function(e,t){return"number"==typeof t.expiry&&t.expiry<=Date.now()&&("function"==typeof this.onEviction&&this.onEviction(e,t.value),this.delete(e))}},{key:"_getOrDeleteIfExpired",value:function(e,t){if(!1===this._deleteIfExpired(e,t))return t.value}},{key:"_getItemValue",value:function(e,t){return t.expiry?this._getOrDeleteIfExpired(e,t):t.value}},{key:"_peek",value:function(e,t){var l=t.get(e);return this._getItemValue(e,l)}},{key:"_set",value:function(e,t){this.cache.set(e,t),this._size++,this._size>=this.maxSize&&(this._size=0,this._emitEvictions(this.oldCache),this.oldCache=this.cache,this.cache=new Map)}},{key:"_moveToRecent",value:function(e,t){this.oldCache.delete(e),this._set(e,t)}},{key:"_entriesAscending",value:Y.mark((function e(){var t,l,i,n,c,r,d,s,m,Z,o,u;return Y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=et(this.oldCache),e.prev=1,t.s();case 3:if((l=t.n()).done){e.next=13;break}if(i=l.value,n=a(i,2),c=n[0],r=n[1],this.cache.has(c)){e.next=11;break}if(!1!==this._deleteIfExpired(c,r)){e.next=11;break}return e.next=11,i;case 11:e.next=3;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),t.e(e.t0);case 18:return e.prev=18,t.f(),e.finish(18);case 21:d=et(this.cache),e.prev=22,d.s();case 24:if((s=d.n()).done){e.next=33;break}if(m=s.value,Z=a(m,2),o=Z[0],u=Z[1],!1!==this._deleteIfExpired(o,u)){e.next=31;break}return e.next=31,m;case 31:e.next=24;break;case 33:e.next=38;break;case 35:e.prev=35,e.t1=e.catch(22),d.e(e.t1);case 38:return e.prev=38,d.f(),e.finish(38);case 41:case"end":return e.stop()}}),e,this,[[1,15,18,21],[22,35,38,41]])}))},{key:"get",value:function(e){if(this.cache.has(e)){var t=this.cache.get(e);return this._getItemValue(e,t)}if(this.oldCache.has(e)){var l=this.oldCache.get(e);if(!1===this._deleteIfExpired(e,l))return this._moveToRecent(e,l),l.value}}},{key:"set",value:function(e,t){var l=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).maxAge,i=void 0===l?this.maxAge:l,n="number"==typeof i&&i!==Number.POSITIVE_INFINITY?Date.now()+i:void 0;this.cache.has(e)?this.cache.set(e,{value:t,expiry:n}):this._set(e,{value:t,expiry:n})}},{key:"has",value:function(e){return this.cache.has(e)?!this._deleteIfExpired(e,this.cache.get(e)):!!this.oldCache.has(e)&&!this._deleteIfExpired(e,this.oldCache.get(e))}},{key:"peek",value:function(e){return this.cache.has(e)?this._peek(e,this.cache):this.oldCache.has(e)?this._peek(e,this.oldCache):void 0}},{key:"delete",value:function(e){var t=this.cache.delete(e);return t&&this._size--,this.oldCache.delete(e)||t}},{key:"clear",value:function(){this.cache.clear(),this.oldCache.clear(),this._size=0}},{key:"resize",value:function(e){if(!(e&&e>0))throw new TypeError("`maxSize` must be a number greater than 0");var t=F(this._entriesAscending()),l=t.length-e;l<0?(this.cache=new Map(t),this.oldCache=new Map,this._size=t.length):(l>0&&this._emitEvictions(t.slice(0,l)),this.oldCache=new Map(t.slice(l)),this.cache=new Map,this._size=0),this.maxSize=e}},{key:"keys",value:Y.mark((function e(){var t,l,i,n;return Y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=et(this),e.prev=1,t.s();case 3:if((l=t.n()).done){e.next=9;break}return i=a(l.value,1),n=i[0],e.next=7,n;case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[1,11,14,17]])}))},{key:"values",value:Y.mark((function e(){var t,l,i,n;return Y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=et(this),e.prev=1,t.s();case 3:if((l=t.n()).done){e.next=9;break}return i=a(l.value,2),n=i[1],e.next=7,n;case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[1,11,14,17]])}))},{key:t,value:Y.mark((function(){var e,t,l,i,n,c,r,d,s,m,Z,o;return Y.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:e=et(this.cache),u.prev=1,e.s();case 3:if((t=e.n()).done){u.next=12;break}if(l=t.value,i=a(l,2),n=i[0],c=i[1],!1!==this._deleteIfExpired(n,c)){u.next=10;break}return u.next=10,[n,c.value];case 10:u.next=3;break;case 12:u.next=17;break;case 14:u.prev=14,u.t0=u.catch(1),e.e(u.t0);case 17:return u.prev=17,e.f(),u.finish(17);case 20:r=et(this.oldCache),u.prev=21,r.s();case 23:if((d=r.n()).done){u.next=33;break}if(s=d.value,m=a(s,2),Z=m[0],o=m[1],this.cache.has(Z)){u.next=31;break}if(!1!==this._deleteIfExpired(Z,o)){u.next=31;break}return u.next=31,[Z,o.value];case 31:u.next=23;break;case 33:u.next=38;break;case 35:u.prev=35,u.t1=u.catch(21),r.e(u.t1);case 38:return u.prev=38,r.f(),u.finish(38);case 41:case"end":return u.stop()}}),c,this,[[1,14,17,20],[21,35,38,41]])}))},{key:"entriesDescending",value:Y.mark((function e(){var t,l,i,n,c,r,d,s,m,Z,o;return Y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=F(this.cache),l=t.length-1;case 2:if(!(l>=0)){e.next=12;break}if(i=t[l],n=a(i,2),c=n[0],r=n[1],!1!==this._deleteIfExpired(c,r)){e.next=9;break}return e.next=9,[c,r.value];case 9:--l,e.next=2;break;case 12:t=F(this.oldCache),d=t.length-1;case 14:if(!(d>=0)){e.next=25;break}if(s=t[d],m=a(s,2),Z=m[0],o=m[1],this.cache.has(Z)){e.next=22;break}if(!1!==this._deleteIfExpired(Z,o)){e.next=22;break}return e.next=22,[Z,o.value];case 22:--d,e.next=14;break;case 25:case"end":return e.stop()}}),e,this)}))},{key:"entriesAscending",value:Y.mark((function e(){var t,l,i,n,c;return Y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=et(this._entriesAscending()),e.prev=1,t.s();case 3:if((l=t.n()).done){e.next=9;break}return i=a(l.value,2),n=i[0],c=i[1],e.next=7,[n,c.value];case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[1,11,14,17]])}))},{key:"size",get:function(){if(!this._size)return this.oldCache.size;var e,t=0,l=et(this.oldCache.keys());try{for(l.s();!(e=l.n()).done;){var i=e.value;this.cache.has(i)||t++}}catch(e){l.e(e)}finally{l.f()}return Math.min(this._size+t,this.maxSize)}},{key:"entries",value:function(){return this.entriesAscending()}},{key:"forEach",value:function(e){var t,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this,i=et(this.entriesAscending());try{for(i.s();!(t=i.n()).done;){var n=a(t.value,2),c=n[0],r=n[1];e.call(l,r,c,this)}}catch(e){i.e(e)}finally{i.f()}}},{key:l,value:function(){return JSON.stringify(F(this.entriesAscending()))}}]),n}(W(Map),Symbol.iterator,Symbol.toStringTag);function nt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var l,i=y(e);if(t){var n=y(this).constructor;l=Reflect.construct(i,arguments,n)}else l=i.apply(this,arguments);return h(this,l)}}function ct(e,t){for(var l in t)t.hasOwnProperty(l)&&(e[l]=t[l])}function at(e,t){return!(e.length<t.length)&&e.substr(e.length-t.length)===t}function rt(e){var t={};for(var l in e)e.hasOwnProperty(l)&&(t[e[l]]=l);return t}function dt(e,t){for(var l=[],i=0;i<e;i++)l.push(t(i));return l}function st(e){return mt.apply(this,arguments)}function mt(){return(mt=d(Y.mark((function e(t){return Y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){return setTimeout(e,t)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zt(e,t){var l=Array.isArray(e)?e:Array.from(e),i=Array.isArray(t)?t:Array.from(t);return l.map((function(e,t){return[e,i[t]]}))}var ot=function(e){o(l,e);var t=nt(l);function l(e){var i;return G(this,l),i=t.call(this,e),Error.captureStackTrace&&Error.captureStackTrace(b(i),l),i.name="AbortError",i}return l}(W(Error)),ut=function(e){o(l,e);var t=nt(l);function l(e,i){var n;return G(this,l),(n=t.call(this,i)).errors=e,n.message=i,n.name="AggregateError",n}return l}(W(Error));function bt(e,t){var l="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!l){if(Array.isArray(e)||(l=function(e,t){if(e){if("string"==typeof e)return ht(e,t);var l=Object.prototype.toString.call(e).slice(8,-1);return"Object"===l&&e.constructor&&(l=e.constructor.name),"Map"===l||"Set"===l?Array.from(e):"Arguments"===l||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l)?ht(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){l&&(e=l);var i=0,n=function(){};return{s:n,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,a=!0,r=!1;return{s:function(){l=l.call(e)},n:function(){var e=l.next();return a=e.done,e},e:function(e){r=!0,c=e},f:function(){try{a||null==l.return||l.return()}finally{if(r)throw c}}}}function ht(e,t){(null==t||t>e.length)&&(t=e.length);for(var l=0,i=new Array(t);l<t;l++)i[l]=e[l];return i}function yt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var l,i=y(e);if(t){var n=y(this).constructor;l=Reflect.construct(i,arguments,n)}else l=i.apply(this,arguments);return h(this,l)}}var pt=function(){function e(t,l){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;G(this,e),this.offset=t,this.length=l,this.data=i}return m(e,[{key:"top",get:function(){return this.offset+this.length}}]),e}(),Xt=function e(t,l,i){G(this,e),this.offset=t,this.length=l,this.blockIds=i},Wt=function(e){o(i,e);var t,l=yt(i);function i(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=n.blockSize,a=void 0===c?65536:c,r=n.cacheSize,d=void 0===r?100:r;return G(this,i),(t=l.call(this)).source=e,t.blockSize=a,t.blockCache=new it({maxSize:d}),t.blockRequests=new Map,t.blockIdsToFetch=new Set,t.abortedBlockIds=new Set,t}return m(i,[{key:"fileSize",get:function(){return this.source.fileSize}},{key:"fetch",value:(t=d(Y.mark((function e(t,l){var i,n,c,a,r,d,s,m,Z,o,u,b,h,y,p,X,W,G,V,x,I,K,L,f,S,T,g=this;return Y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=[],n=[],c=[],a=bt(t);try{for(a.s();!(r=a.n()).done;)for(d=r.value,s=d.offset,m=d.length,Z=s+m,null!==(o=this.fileSize)&&(Z=Math.min(Z,o)),u=Math.floor(s/this.blockSize)*this.blockSize,b=u;b<Z;b+=this.blockSize)h=Math.floor(b/this.blockSize),this.blockCache.has(h)||this.blockRequests.has(h)||(this.blockIdsToFetch.add(h),n.push(h)),this.blockRequests.has(h)&&i.push(this.blockRequests.get(h)),c.push(h)}catch(e){a.e(e)}finally{a.f()}return e.next=7,st();case 7:for(this.fetchBlocks(l),y=[],p=0,X=n;p<X.length;p++)W=X[p],this.blockRequests.has(W)&&y.push(this.blockRequests.get(W));return e.next=12,Promise.allSettled(i);case 12:return e.next=14,Promise.allSettled(y);case 14:if(G=[],(V=c.filter((function(e){return g.abortedBlockIds.has(e)||!g.blockCache.has(e)}))).forEach((function(e){return g.blockIdsToFetch.add(e)})),!(V.length>0&&l)||l.aborted){e.next=40;break}this.fetchBlocks(null),x=bt(V),e.prev=20,x.s();case 22:if((I=x.n()).done){e.next=30;break}if(K=I.value,L=this.blockRequests.get(K)){e.next=27;break}throw new Error("Block ".concat(K," is not in the block requests"));case 27:G.push(L);case 28:e.next=22;break;case 30:e.next=35;break;case 32:e.prev=32,e.t0=e.catch(20),x.e(e.t0);case 35:return e.prev=35,x.f(),e.finish(35);case 38:return e.next=40,Promise.allSettled(G);case 40:if(!l||!l.aborted){e.next=42;break}throw new ot("Request was aborted");case 42:if(f=c.map((function(e){return g.blockCache.get(e)})),S=f.filter((function(e){return!e})),!S.length){e.next=46;break}throw new ut(S,"Request failed");case 46:return T=new Map(Zt(c,f)),e.abrupt("return",this.readSliceData(t,T));case 48:case"end":return e.stop()}}),e,this,[[20,32,35,38]])}))),function(e,l){return t.apply(this,arguments)})},{key:"fetchBlocks",value:function(e){var t=this;this.blockIdsToFetch.size>0&&function(){for(var l=t.groupBlocks(t.blockIdsToFetch),i=t.source.fetch(l,e),n=function(n){var c,a=bt(l[n].blockIds);try{var r=function(){var l=c.value;t.blockRequests.set(l,d(Y.mark((function c(){var a,r,d,s,m,Z;return Y.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,i;case 3:c.t0=n,a=c.sent[c.t0],r=l*t.blockSize,d=r-a.offset,s=Math.min(d+t.blockSize,a.data.byteLength),m=a.data.slice(d,s),Z=new pt(r,m.byteLength,m,l),t.blockCache.set(l,Z),t.abortedBlockIds.delete(l),c.next=23;break;case 14:if(c.prev=14,c.t1=c.catch(0),"AbortError"!==c.t1.name){c.next=22;break}c.t1.signal=e,t.blockCache.delete(l),t.abortedBlockIds.add(l),c.next=23;break;case 22:throw c.t1;case 23:return c.prev=23,t.blockRequests.delete(l),c.finish(23);case 26:case"end":return c.stop()}}),c,null,[[0,14,23,26]])})))())};for(a.s();!(c=a.n()).done;)r()}catch(e){a.e(e)}finally{a.f()}},c=0;c<l.length;++c)n(c);t.blockIdsToFetch.clear()}()}},{key:"groupBlocks",value:function(e){var t=Array.from(e).sort((function(e,t){return e-t}));if(0===t.length)return[];var l,i=[],n=null,c=[],a=bt(t);try{for(a.s();!(l=a.n()).done;){var r=l.value;null===n||n+1===r?(i.push(r),n=r):(c.push(new Xt(i[0]*this.blockSize,i.length*this.blockSize,i)),i=[r],n=r)}}catch(e){a.e(e)}finally{a.f()}return c.push(new Xt(i[0]*this.blockSize,i.length*this.blockSize,i)),c}},{key:"readSliceData",value:function(e,t){var l=this;return e.map((function(e){var i=e.offset+e.length;null!==l.fileSize&&(i=Math.min(l.fileSize,i));for(var n=Math.floor(e.offset/l.blockSize),c=Math.floor(i/l.blockSize),a=new ArrayBuffer(e.length),r=new Uint8Array(a),d=n;d<=c;++d){var s=t.get(d),m=s.offset-e.offset,Z=0,o=0,u=void 0;m<0?Z=-m:m>0&&(o=m),u=s.top-i<0?s.length-Z:i-s.offset-Z;var b=new Uint8Array(s.data,Z,u);r.set(b,o)}return a}))}}]),i}($e),Gt=function(){function e(){G(this,e)}var t;return m(e,[{key:"ok",get:function(){return this.status>=200&&this.status<=299}},{key:"status",get:function(){throw new Error("not implemented")}},{key:"getHeader",value:function(e){throw new Error("not implemented")}},{key:"getData",value:(t=d(Y.mark((function e(){return Y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("not implemented");case 1:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})}]),e}(),Vt=function(){function e(t){G(this,e),this.url=t}var t;return m(e,[{key:"request",value:(t=d(Y.mark((function e(){return Y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("request is not implemented");case 2:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})}]),e}();function Yt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var l,i=y(e);if(t){var n=y(this).constructor;l=Reflect.construct(i,arguments,n)}else l=i.apply(this,arguments);return h(this,l)}}var xt=function(e){o(i,e);var t,l=Yt(i);function i(e){var t;return G(this,i),(t=l.call(this)).response=e,t}return m(i,[{key:"status",get:function(){return this.response.status}},{key:"getHeader",value:function(e){return this.response.headers.get(e)}},{key:"getData",value:(t=d(Y.mark((function e(){var t;return Y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.response.arrayBuffer){e.next=6;break}return e.next=3,this.response.arrayBuffer();case 3:e.t0=e.sent,e.next=9;break;case 6:return e.next=8,this.response.buffer();case 8:e.t0=e.sent.buffer;case 9:return t=e.t0,e.abrupt("return",t);case 11:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),i}(Gt),It=function(e){o(i,e);var t,l=Yt(i);function i(e,t){var n;return G(this,i),(n=l.call(this,e)).credentials=t,n}return m(i,[{key:"request",value:(t=d(Y.mark((function e(){var t,l,i,n,c,a=arguments;return Y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},l=t.headers,i=t.credentials,n=t.signal,e.next=3,fetch(this.url,{headers:l,credentials:i,signal:n});case 3:return c=e.sent,e.abrupt("return",new xt(c));case 5:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),i}(Vt);function Kt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var l,i=y(e);if(t){var n=y(this).constructor;l=Reflect.construct(i,arguments,n)}else l=i.apply(this,arguments);return h(this,l)}}var Lt=function(e){o(i,e);var t,l=Kt(i);function i(e,t){var n;return G(this,i),(n=l.call(this)).xhr=e,n.data=t,n}return m(i,[{key:"status",get:function(){return this.xhr.status}},{key:"getHeader",value:function(e){return this.xhr.getResponseHeader(e)}},{key:"getData",value:(t=d(Y.mark((function e(){return Y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.data);case 1:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),i}(Gt),ft=function(e){o(i,e);var t,l=Kt(i);function i(){return G(this,i),l.apply(this,arguments)}return m(i,[{key:"constructRequest",value:function(e,t){var l=this;return new Promise((function(i,n){var c=new XMLHttpRequest;c.open("GET",l.url),c.responseType="arraybuffer";for(var r=0,d=Object.entries(e);r<d.length;r++){var s=a(d[r],2),m=s[0],Z=s[1];c.setRequestHeader(m,Z)}c.onload=function(){var e=c.response;i(new Lt(c,e))},c.onerror=n,c.onabort=function(){return n(new ot("Request aborted"))},c.send(),t&&(t.aborted&&c.abort(),t.addEventListener("abort",(function(){return c.abort()})))}))}},{key:"request",value:(t=d(Y.mark((function e(){var t,l,i,n,c=arguments;return Y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:{},l=t.headers,i=t.signal,e.next=3,this.constructRequest(l,i);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),i}(Vt),St={};function Tt(e,t){var l=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),l.push.apply(l,i)}return l}function gt(e){for(var l=1;l<arguments.length;l++){var i=null!=arguments[l]?arguments[l]:{};l%2?Tt(Object(i),!0).forEach((function(l){t(e,l,i[l])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Tt(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function kt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var l,i=y(e);if(t){var n=y(this).constructor;l=Reflect.construct(i,arguments,n)}else l=i.apply(this,arguments);return h(this,l)}}var Rt=function(e){o(i,e);var t,l=kt(i);function i(e,t){var n;return G(this,i),(n=l.call(this)).response=e,n.dataPromise=t,n}return m(i,[{key:"status",get:function(){return this.response.statusCode}},{key:"getHeader",value:function(e){return this.response.headers[e]}},{key:"getData",value:(t=d(Y.mark((function e(){var t;return Y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.dataPromise;case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),i}(Gt),Pt=function(e){o(i,e);var t,l=kt(i);function i(e){var t;return G(this,i),(t=l.call(this,e)).parsedUrl=St.parse(t.url),t.httpApi=(t.parsedUrl.protocol,St),t}return m(i,[{key:"constructRequest",value:function(e,t){var l=this;return new Promise((function(i,n){var c=l.httpApi.get(gt(gt({},l.parsedUrl),{},{headers:e}),(function(e){var t=new Promise((function(t){var l=[];e.on("data",(function(e){l.push(e)})),e.on("end",(function(){var e=Buffer.concat(l).buffer;t(e)})),e.on("error",n)}));i(new Rt(e,t))}));c.on("error",n),t&&(t.aborted&&c.destroy(new ot("Request aborted")),t.addEventListener("abort",(function(){return c.destroy(new ot("Request aborted"))})))}))}},{key:"request",value:(t=d(Y.mark((function e(){var t,l,i,n,c=arguments;return Y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:{},l=t.headers,i=t.signal,e.next=3,this.constructRequest(l,i);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),i}(Vt),Jt=["headers","credentials","maxRanges","allowFullFile"],Mt=["headers","maxRanges","allowFullFile"],Ut=["headers","maxRanges","allowFullFile"],Ht=["forceXHR"];function wt(e,t){var l=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),l.push.apply(l,i)}return l}function Nt(e){for(var l=1;l<arguments.length;l++){var i=null!=arguments[l]?arguments[l]:{};l%2?wt(Object(i),!0).forEach((function(l){t(e,l,i[l])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):wt(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function zt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var l,i=y(e);if(t){var n=y(this).constructor;l=Reflect.construct(i,arguments,n)}else l=i.apply(this,arguments);return h(this,l)}}var vt=function(e){o(c,e);var t,l,i,n=zt(c);function c(e,t,l,i){var a;return G(this,c),(a=n.call(this)).client=e,a.headers=t,a.maxRanges=l,a.allowFullFile=i,a._fileSize=null,a}return m(c,[{key:"fetch",value:(i=d(Y.mark((function e(t,l){var i=this;return Y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.maxRanges>=t.length)){e.next=4;break}return e.abrupt("return",this.fetchSlices(t,l));case 4:this.maxRanges>0&&t.length;case 5:return e.abrupt("return",Promise.all(t.map((function(e){return i.fetchSlice(e,l)}))));case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return i.apply(this,arguments)})},{key:"fetchSlices",value:(l=d(Y.mark((function e(t,l){var i,n,c,a,r,d,s,m,Z,o,u,b,h,y=this;return Y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.client.request({headers:Nt(Nt({},this.headers),{},{Range:"bytes=".concat(t.map((function(e){var t=e.offset,l=e.length;return"".concat(t,"-").concat(t+l)})).join(","))}),signal:l});case 2:if((i=e.sent).ok){e.next=7;break}throw new Error("Error fetching data.");case 7:if(206!==i.status){e.next=32;break}if(n=Ae(i.getHeader("content-type")),c=n.type,a=n.params,"multipart/byteranges"!==c){e.next=18;break}return e.t0=qe,e.next=13,i.getData();case 13:return e.t1=e.sent,e.t2=a.boundary,r=(0,e.t0)(e.t1,e.t2),this._fileSize=r[0].fileSize||null,e.abrupt("return",r);case 18:return e.next=20,i.getData();case 20:if(d=e.sent,s=_e(i.getHeader("content-range")),m=s.start,Z=s.end,o=s.total,this._fileSize=o||null,u=[{data:d,offset:m,length:Z-m}],!(t.length>1)){e.next=29;break}return e.next=27,Promise.all(t.slice(1).map((function(e){return y.fetchSlice(e,l)})));case 27:return b=e.sent,e.abrupt("return",u.concat(b));case 29:return e.abrupt("return",u);case 32:if(this.allowFullFile){e.next=34;break}throw new Error("Server responded with full file");case 34:return e.next=36,i.getData();case 36:return h=e.sent,this._fileSize=h.byteLength,e.abrupt("return",[{data:h,offset:0,length:h.byteLength}]);case 39:case"end":return e.stop()}}),e,this)}))),function(e,t){return l.apply(this,arguments)})},{key:"fetchSlice",value:(t=d(Y.mark((function e(t,l){var i,n,c,a,r,d,s;return Y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.offset,n=t.length,e.next=3,this.client.request({headers:Nt(Nt({},this.headers),{},{Range:"bytes=".concat(i,"-").concat(i+n)}),signal:l});case 3:if((c=e.sent).ok){e.next=8;break}throw new Error("Error fetching data.");case 8:if(206!==c.status){e.next=17;break}return e.next=11,c.getData();case 11:return a=e.sent,r=_e(c.getHeader("content-range")),d=r.total,this._fileSize=d||null,e.abrupt("return",{data:a,offset:i,length:n});case 17:if(this.allowFullFile){e.next=19;break}throw new Error("Server responded with full file");case 19:return e.next=21,c.getData();case 21:return s=e.sent,this._fileSize=s.byteLength,e.abrupt("return",{data:s,offset:0,length:s.byteLength});case 24:case"end":return e.stop()}}),e,this)}))),function(e,l){return t.apply(this,arguments)})},{key:"fileSize",get:function(){return this._fileSize}}]),c}($e);function Ft(e,t){var l=t.blockSize,i=t.cacheSize;return null===l?e:new Wt(e,{blockSize:l,cacheSize:i})}function Ct(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=t.headers,i=void 0===l?{}:l,n=t.credentials,c=t.maxRanges,a=void 0===c?0:c,r=t.allowFullFile,d=void 0!==r&&r,s=je(t,Jt),m=new It(e,n);return Ft(new vt(m,i,a,d),s)}function jt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=t.headers,i=void 0===l?{}:l,n=t.maxRanges,c=void 0===n?0:n,a=t.allowFullFile,r=void 0!==a&&a,d=je(t,Mt),s=new ft(e);return Ft(new vt(s,i,c,r),d)}function Dt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=t.headers,i=void 0===l?{}:l,n=t.maxRanges,c=void 0===n?0:n,a=t.allowFullFile,r=void 0!==a&&a,d=je(t,Ut),s=new Pt(e);return Ft(new vt(s,i,c,r),d)}function Bt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=t.forceXHR,i=void 0!==l&&l,n=je(t,Ht);return"function"!=typeof fetch||i?"undefined"!=typeof XMLHttpRequest?jt(e,n):Dt(e,n):Ct(e,n)}function Qt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var l,i=y(e);if(t){var n=y(this).constructor;l=Reflect.construct(i,arguments,n)}else l=i.apply(this,arguments);return h(this,l)}}var Ot=function(e){o(l,e);var t=Qt(l);function l(e){var i;return G(this,l),(i=t.call(this)).arrayBuffer=e,i}return m(l,[{key:"fetchSlice",value:function(e,t){if(t&&t.aborted)throw new ot("Request aborted");return this.arrayBuffer.slice(e.offset,e.offset+e.length)}}]),l}($e);function Et(e){return new Ot(e)}function At(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var l,i=y(e);if(t){var n=y(this).constructor;l=Reflect.construct(i,arguments,n)}else l=i.apply(this,arguments);return h(this,l)}}var _t=function(e){o(i,e);var t,l=At(i);function i(e){var t;return G(this,i),(t=l.call(this)).file=e,t}return m(i,[{key:"fetchSlice",value:(t=d(Y.mark((function e(t,l){var i=this;return Y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var c=i.file.slice(t.offset,t.offset+t.length),a=new FileReader;a.onload=function(t){return e(t.target.result)},a.onerror=n,a.onabort=n,a.readAsArrayBuffer(c),l&&l.addEventListener("abort",(function(){return a.abort()}))})));case 1:case"end":return e.stop()}}),e)}))),function(e,l){return t.apply(this,arguments)})}]),i}($e);function qt(e){return new _t(e)}function $t(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var l,i=y(e);if(t){var n=y(this).constructor;l=Reflect.construct(i,arguments,n)}else l=i.apply(this,arguments);return h(this,l)}}function el(e){return new Promise((function(t,l){St.close(e,(function(e){e?l(e):t()}))}))}function tl(){for(var e=arguments.length,t=new Array(e),l=0;l<e;l++)t[l]=arguments[l];return new Promise((function(e,l){St.read.apply(St,t.concat([function(t,i,n){t?l(t):e({bytesRead:i,buffer:n})}]))}))}var ll=function(e){o(n,e);var t,l,i=$t(n);function n(e){var t;return G(this,n),(t=i.call(this)).path=e,t.openRequest=function(e,t){var l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return new Promise((function(i,n){St.open(e,t,l,(function(e,t){e?n(e):i(t)}))}))}(e,"r"),t}return m(n,[{key:"fetchSlice",value:(l=d(Y.mark((function e(t){var l,i,n;return Y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.openRequest;case 2:return l=e.sent,e.next=5,tl(l,Buffer.alloc(t.length),0,t.length,t.offset);case 5:return i=e.sent,n=i.buffer,e.abrupt("return",n.buffer);case 8:case"end":return e.stop()}}),e,this)}))),function(e){return l.apply(this,arguments)})},{key:"close",value:(t=d(Y.mark((function e(){var t;return Y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.openRequest;case 2:return t=e.sent,e.next=5,el(t);case 5:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),n}($e);function il(e){return new ll(e)}function nl(e,t){var l="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!l){if(Array.isArray(e)||(l=function(e,t){if(e){if("string"==typeof e)return cl(e,t);var l=Object.prototype.toString.call(e).slice(8,-1);return"Object"===l&&e.constructor&&(l=e.constructor.name),"Map"===l||"Set"===l?Array.from(e):"Arguments"===l||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l)?cl(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){l&&(e=l);var i=0,n=function(){};return{s:n,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,a=!0,r=!1;return{s:function(){l=l.call(e)},n:function(){var e=l.next();return a=e.done,e},e:function(e){r=!0,c=e},f:function(){try{a||null==l.return||l.return()}finally{if(r)throw c}}}}function cl(e,t){(null==t||t>e.length)&&(t=e.length);for(var l=0,i=new Array(t);l<t;l++)i[l]=e[l];return i}var al=rt(q),rl=rt(me),dl={};ct(dl,al),ct(dl,rl);var sl=rt(ie),ml=1e3,Zl={nextZero:function(e,t){for(var l=t;0!==e[l];)l++;return l},readUshort:function(e,t){return e[t]<<8|e[t+1]},readShort:function(e,t){var l=Zl.ui8;return l[0]=e[t+1],l[1]=e[t+0],Zl.i16[0]},readInt:function(e,t){var l=Zl.ui8;return l[0]=e[t+3],l[1]=e[t+2],l[2]=e[t+1],l[3]=e[t+0],Zl.i32[0]},readUint:function(e,t){var l=Zl.ui8;return l[0]=e[t+3],l[1]=e[t+2],l[2]=e[t+1],l[3]=e[t+0],Zl.ui32[0]},readASCII:function(e,t,l){return l.map((function(l){return String.fromCharCode(e[t+l])})).join("")},readFloat:function(e,t){var l=Zl.ui8;return dt(4,(function(i){l[i]=e[t+3-i]})),Zl.fl32[0]},readDouble:function(e,t){var l=Zl.ui8;return dt(8,(function(i){l[i]=e[t+7-i]})),Zl.fl64[0]},writeUshort:function(e,t,l){e[t]=l>>8&255,e[t+1]=255&l},writeUint:function(e,t,l){e[t]=l>>24&255,e[t+1]=l>>16&255,e[t+2]=l>>8&255,e[t+3]=l>>0&255},writeASCII:function(e,t,l){dt(l.length,(function(i){e[t+i]=l.charCodeAt(i)}))},ui8:new Uint8Array(8)};Zl.fl64=new Float64Array(Zl.ui8.buffer),Zl.writeDouble=function(e,t,l){Zl.fl64[0]=l,dt(8,(function(l){e[t+l]=Zl.ui8[7-l]}))};var ol=function(e){var t=new Uint8Array(ml),l=4,i=Zl;t[0]=77,t[1]=77,t[3]=42;var n=8;if(i.writeUint(t,l,n),l+=4,e.forEach((function(l,c){var a=function(e,t,l,i){var n=l,c=Object.keys(i).filter((function(e){return null!=e&&"undefined"!==e}));e.writeUshort(t,n,c.length);var a,r=(n+=2)+12*c.length+4,d=nl(c);try{var s=function(){var l=a.value,c=null;"number"==typeof l?c=l:"string"==typeof l&&(c=parseInt(l,10));var d=te[c],s=sl[d];if(null==d||void 0===d||void 0===d)throw new Error("unknown type of tag: ".concat(c));var m=i[l];if(void 0===m)throw new Error("failed to get value for key ".concat(l));"ASCII"===d&&"string"==typeof m&&!1===at(m,"\0")&&(m+="\0");var Z=m.length;e.writeUshort(t,n,c),n+=2,e.writeUshort(t,n,s),n+=2,e.writeUint(t,n,Z);var o=[-1,1,1,2,4,8,0,0,0,0,0,0,8][s]*Z,u=n+=4;o>4&&(e.writeUint(t,n,r),u=r),"ASCII"===d?e.writeASCII(t,u,m):"SHORT"===d?dt(Z,(function(l){e.writeUshort(t,u+2*l,m[l])})):"LONG"===d?dt(Z,(function(l){e.writeUint(t,u+4*l,m[l])})):"RATIONAL"===d?dt(Z,(function(l){e.writeUint(t,u+8*l,Math.round(1e4*m[l])),e.writeUint(t,u+8*l+4,1e4)})):"DOUBLE"===d&&dt(Z,(function(l){e.writeDouble(t,u+8*l,m[l])})),o>4&&(r+=o+=1&o),n+=4};for(d.s();!(a=d.n()).done;)s()}catch(e){d.e(e)}finally{d.f()}return[n,r]}(i,t,n,l);n=a[1],c<e.length-1&&i.writeUint(t,a[0],n)})),t.slice)return t.slice(0,n).buffer;for(var c=new Uint8Array(n),a=0;a<n;a++)c[a]=t[a];return c.buffer},ul=[["Compression",1],["PlanarConfiguration",1],["ExtraSamples",0]];function bl(e,t){var l,i,n,c;"number"==typeof e[0]?(l=t.height||t.ImageLength,n=t.width||t.ImageWidth,i=e.length/(l*n),c=e):(i=e.length,l=e[0].length,n=e[0][0].length,c=[],dt(l,(function(t){dt(n,(function(l){dt(i,(function(i){c.push(e[i][t][l])}))}))}))),t.ImageLength=l,delete t.height,t.ImageWidth=n,delete t.width,t.BitsPerSample||(t.BitsPerSample=dt(i,(function(){return 8}))),ul.forEach((function(e){var l=e[0];if(!t[l]){var i=e[1];t[l]=i}})),t.PhotometricInterpretation||(t.PhotometricInterpretation=3===t.BitsPerSample.length?2:1),t.SamplesPerPixel||(t.SamplesPerPixel=[i]),t.StripByteCounts||(t.StripByteCounts=[i*l*n]),t.ModelPixelScale||(t.ModelPixelScale=[360/n,180/l,0]),t.SampleFormat||(t.SampleFormat=dt(i,(function(){return 1}))),t.hasOwnProperty("GeographicTypeGeoKey")||t.hasOwnProperty("ProjectedCSTypeGeoKey")||(t.GeographicTypeGeoKey=4326,t.ModelTiepoint=[0,0,0,-180,90,0],t.GeogCitationGeoKey="WGS 84",t.GTModelTypeGeoKey=2);var a=Object.keys(t).filter((function(e){return at(e,"GeoKey")})).sort((function(e,t){return dl[e]-dl[t]}));if(!t.GeoAsciiParams){var r="";a.forEach((function(e){var l=Number(dl[e]);"ASCII"===te[l]&&(r+="".concat(t[e].toString(),"\0"))})),r.length>0&&(t.GeoAsciiParams=r)}if(!t.GeoKeyDirectory){var d=[1,1,0,a.length];a.forEach((function(e){var l,i,n,c=Number(dl[e]);d.push(c),"SHORT"===te[c]?(l=1,i=0,n=t[e]):"GeogCitationGeoKey"===e?(l=t.GeoAsciiParams.length,i=Number(dl.GeoAsciiParams),n=0):console.log("[geotiff.js] couldn't get TIFFTagLocation for ".concat(e)),d.push(i),d.push(l),d.push(n)})),t.GeoKeyDirectory=d}for(var s in a)a.hasOwnProperty(s)&&delete t[s];["Compression","ExtraSamples","GeographicTypeGeoKey","GTModelTypeGeoKey","GTRasterTypeGeoKey","ImageLength","ImageWidth","Orientation","PhotometricInterpretation","ProjectedCSTypeGeoKey","PlanarConfiguration","ResolutionUnit","SamplesPerPixel","XPosition","YPosition"].forEach((function(e){var l;t[e]&&(t[e]=(l=t[e],Array.isArray(l)?l:[l]))}));var m=function(e){var t={};for(var l in e)"StripOffsets"!==l&&(dl[l]||console.error(l,"not in name2code:",Object.keys(dl)),t[dl[l]]=e[l]);return t}(t),Z=function(e,t,l,i){if(null==l)throw new Error("you passed into encodeImage a width of type ".concat(l));if(null==t)throw new Error("you passed into encodeImage a width of type ".concat(t));var n={256:[t],257:[l],273:[ml],278:[l],305:"geotiff.js"};if(i)for(var c in i)i.hasOwnProperty(c)&&(n[c]=i[c]);var a=new Uint8Array(ol([n])),r=new Uint8Array(e),d=n[277],s=new Uint8Array(ml+t*l*d);return dt(a.length,(function(e){s[e]=a[e]})),function(e,t){for(var l=e.length,i=0;i<l;i++)t(e[i],i)}(r,(function(e,t){s[ml+t]=e})),s.buffer}(c,n,l,m);return Z}var hl=function(){function e(){G(this,e)}return m(e,[{key:"log",value:function(){}},{key:"debug",value:function(){}},{key:"info",value:function(){}},{key:"warn",value:function(){}},{key:"error",value:function(){}},{key:"time",value:function(){}},{key:"timeEnd",value:function(){}}]),e}();function yl(e,t){var l=e.length-t,i=0;do{for(var n=t;n>0;n--)e[i+t]+=e[i],i++;l-=t}while(l>0)}function pl(e,t,l){for(var i=0,n=e.length,c=n/l;n>t;){for(var a=t;a>0;--a)e[i+t]+=e[i],++i;n-=t}for(var r=e.slice(),d=0;d<c;++d)for(var s=0;s<l;++s)e[l*d+s]=r[(l-s-1)*c+d]}function Xl(e,t,l,i,n,c){if(!t||1===t)return e;for(var a=0;a<n.length;++a){if(n[a]%8!=0)throw new Error("When decoding with predictor, only multiple of 8 bits are supported.");if(n[a]!==n[0])throw new Error("When decoding with predictor, all samples must have the same size.")}for(var r=n[0]/8,d=2===c?1:n.length,s=0;s<i&&!(s*d*l*r>=e.byteLength);++s){var m=void 0;if(2===t){switch(n[0]){case 8:m=new Uint8Array(e,s*d*l*r,d*l*r);break;case 16:m=new Uint16Array(e,s*d*l*r,d*l*r/2);break;case 32:m=new Uint32Array(e,s*d*l*r,d*l*r/4);break;default:throw new Error("Predictor 2 not allowed with ".concat(n[0]," bits per sample."))}yl(m,d)}else 3===t&&pl(m=new Uint8Array(e,s*d*l*r,d*l*r),d,r)}return e}new hl;var Wl=function(){function e(){G(this,e)}var t;return m(e,[{key:"decode",value:(t=d(Y.mark((function e(t,l){var i,n,c,a,r;return Y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.decodeBlock(l);case 2:if(i=e.sent,1===(n=t.Predictor||1)){e.next=9;break}return c=!t.StripOffsets,a=c?t.TileWidth:t.ImageWidth,r=c?t.TileLength:t.RowsPerStrip||t.ImageLength,e.abrupt("return",Xl(i,n,a,r,t.BitsPerSample,t.PlanarConfiguration));case 9:return e.abrupt("return",i);case 10:case"end":return e.stop()}}),e,this)}))),function(e,l){return t.apply(this,arguments)})}]),e}();function Gl(e,t){var l=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),l.push.apply(l,i)}return l}function Vl(e){for(var l=1;l<arguments.length;l++){var i=null!=arguments[l]?arguments[l]:{};l%2?Gl(Object(i),!0).forEach((function(l){t(e,l,i[l])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Gl(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function Yl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var l,i=y(e);if(t){var n=y(this).constructor;l=Reflect.construct(i,arguments,n)}else l=i.apply(this,arguments);return h(this,l)}}function xl(e){switch(e){case ne.BYTE:case ne.ASCII:case ne.SBYTE:case ne.UNDEFINED:return 1;case ne.SHORT:case ne.SSHORT:return 2;case ne.LONG:case ne.SLONG:case ne.FLOAT:case ne.IFD:return 4;case ne.RATIONAL:case ne.SRATIONAL:case ne.DOUBLE:case ne.LONG8:case ne.SLONG8:case ne.IFD8:return 8;default:throw new RangeError("Invalid field type: ".concat(e))}}function Il(e){var t=e.GeoKeyDirectory;if(!t)return null;for(var l={},i=4;i<=4*t[3];i+=4){var n=me[t[i]],c=t[i+1]?q[t[i+1]]:null,a=t[i+2],r=t[i+3],d=null;if(c){if(null==(d=e[c]))throw new Error("Could not get value of geoKey '".concat(n,"'."));"string"==typeof d?d=d.substring(r,r+a-1):d.subarray&&(d=d.subarray(r,r+a),1===a&&(d=d[0]))}else d=r;l[n]=d}return l}function Kl(e,t,l,i){var n=null,c=null,a=xl(t);switch(t){case ne.BYTE:case ne.ASCII:case ne.UNDEFINED:n=new Uint8Array(l),c=e.readUint8;break;case ne.SBYTE:n=new Int8Array(l),c=e.readInt8;break;case ne.SHORT:n=new Uint16Array(l),c=e.readUint16;break;case ne.SSHORT:n=new Int16Array(l),c=e.readInt16;break;case ne.LONG:case ne.IFD:n=new Uint32Array(l),c=e.readUint32;break;case ne.SLONG:n=new Int32Array(l),c=e.readInt32;break;case ne.LONG8:case ne.IFD8:n=new Array(l),c=e.readUint64;break;case ne.SLONG8:n=new Array(l),c=e.readInt64;break;case ne.RATIONAL:n=new Uint32Array(2*l),c=e.readUint32;break;case ne.SRATIONAL:n=new Int32Array(2*l),c=e.readInt32;break;case ne.FLOAT:n=new Float32Array(l),c=e.readFloat32;break;case ne.DOUBLE:n=new Float64Array(l),c=e.readFloat64;break;default:throw new RangeError("Invalid field type: ".concat(t))}if(t!==ne.RATIONAL&&t!==ne.SRATIONAL)for(var r=0;r<l;++r)n[r]=c.call(e,i+r*a);else for(var d=0;d<l;d+=2)n[d]=c.call(e,i+d*a),n[d+1]=c.call(e,i+(d*a+4));return t===ne.ASCII?new TextDecoder("utf-8").decode(n):n}var Ll=function e(t,l,i){G(this,e),this.fileDirectory=t,this.geoKeyDirectory=l,this.nextIFDByteOffset=i},fl=function(e){o(l,e);var t=Yl(l);function l(e){var i;return G(this,l),(i=t.call(this,"No image at index ".concat(e))).index=e,i}return l}(W(Error)),Sl=function(){function e(){G(this,e)}var t;return m(e,[{key:"readRasters",value:(t=d(Y.mark((function e(){var t,l,i,n,c,r,d,s,m,Z,o,u,b,h,y,p,X,W,G,V,x,I,K,L,f,S,T,g,k,R,P,J,M,U,H,w,N,z,v,F=arguments;return Y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=F.length>0&&void 0!==F[0]?F[0]:{},l=t.window,i=t.width,n=t.height,c=t.resX,r=t.resY,d=t.bbox,e.next=5,this.getImage();case 5:return s=e.sent,m=s,e.next=9,this.getImageCount();case 9:if(Z=e.sent,o=s.getBoundingBox(),!l||!d){e.next=13;break}throw new Error('Both "bbox" and "window" passed.');case 13:if(!i&&!n){e.next=24;break}if(l&&(u=s.getOrigin(),b=a(u,2),h=b[0],y=b[1],p=s.getResolution(),X=a(p,2),W=X[0],G=X[1],d=[h+l[0]*W,y+l[1]*G,h+l[2]*W,y+l[3]*G]),V=d||o,!i){e.next=20;break}if(!c){e.next=19;break}throw new Error("Both width and resX passed");case 19:c=(V[2]-V[0])/i;case 20:if(!n){e.next=24;break}if(!r){e.next=23;break}throw new Error("Both width and resY passed");case 23:r=(V[3]-V[1])/n;case 24:if(!c&&!r){e.next=48;break}x=[],I=0;case 27:if(!(I<Z)){e.next=36;break}return e.next=30,this.getImage(I);case 30:K=e.sent,L=K.fileDirectory,f=L.SubfileType,S=L.NewSubfileType,(0===I||2===f||1&S)&&x.push(K);case 33:++I,e.next=27;break;case 36:x.sort((function(e,t){return e.getWidth()-t.getWidth()})),T=0;case 38:if(!(T<x.length)){e.next=48;break}if(g=x[T],k=(o[2]-o[0])/g.getWidth(),R=(o[3]-o[1])/g.getHeight(),m=g,!(c&&c>k||r&&r>R)){e.next=45;break}return e.abrupt("break",48);case 45:++T,e.next=38;break;case 48:return P=l,d&&(J=s.getOrigin(),M=a(J,2),U=M[0],H=M[1],w=m.getResolution(s),N=a(w,2),z=N[0],v=N[1],P=[Math.round((d[0]-U)/z),Math.round((d[1]-H)/v),Math.round((d[2]-U)/z),Math.round((d[3]-H)/v)],P=[Math.min(P[0],P[2]),Math.min(P[1],P[3]),Math.max(P[0],P[2]),Math.max(P[1],P[3])]),e.abrupt("return",m.readRasters(Vl(Vl({},t),{},{window:P})));case 51:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),e}(),Tl=function(e){o(u,e);var t,l,i,n,c,r,s,Z=Yl(u);function u(e,t,l,i){var n,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return G(this,u),(n=Z.call(this)).source=e,n.littleEndian=t,n.bigTiff=l,n.firstIFDOffset=i,n.cache=c.cache||!1,n.ifdRequests=[],n.ghostValues=null,n}return m(u,[{key:"getSlice",value:(s=d(Y.mark((function e(t,l){var i;return Y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=this.bigTiff?4048:1024,e.t0=ze,e.next=4,this.source.fetch([{offset:t,length:void 0!==l?l:i}]);case 4:return e.t1=e.sent[0],e.t2=t,e.t3=this.littleEndian,e.t4=this.bigTiff,e.abrupt("return",new e.t0(e.t1,e.t2,e.t3,e.t4));case 9:case"end":return e.stop()}}),e,this)}))),function(e,t){return s.apply(this,arguments)})},{key:"parseFileDirectoryAt",value:(r=d(Y.mark((function e(t){var l,i,n,c,a,r,d,s,m,Z,o,u,b,h,y,p,X,W,G,V;return Y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=this.bigTiff?20:12,i=this.bigTiff?8:2,e.next=4,this.getSlice(t);case 4:if(n=e.sent,c=this.bigTiff?n.readUint64(t):n.readUint16(t),a=c*l+(this.bigTiff?16:6),n.covers(t,a)){e.next=11;break}return e.next=10,this.getSlice(t,a);case 10:n=e.sent;case 11:r={},d=t+(this.bigTiff?8:2),s=0;case 14:if(!(s<c)){e.next=41;break}if(m=n.readUint16(d),Z=n.readUint16(d+2),o=this.bigTiff?n.readUint64(d+4):n.readUint32(d+4),u=void 0,b=void 0,h=xl(Z),y=d+(this.bigTiff?12:8),!(h*o<=(this.bigTiff?8:4))){e.next=26;break}u=Kl(n,Z,o,y),e.next=36;break;case 26:if(p=n.readOffset(y),X=xl(Z)*o,!n.covers(p,X)){e.next=32;break}u=Kl(n,Z,o,p),e.next=36;break;case 32:return e.next=34,this.getSlice(p,X);case 34:W=e.sent,u=Kl(W,Z,o,p);case 36:b=1===o&&-1===le.indexOf(m)&&Z!==ne.RATIONAL&&Z!==ne.SRATIONAL?u[0]:u,r[q[m]]=b;case 38:d+=l,++s,e.next=14;break;case 41:return G=Il(r),V=n.readOffset(t+i+l*c),e.abrupt("return",new Ll(r,G,V));case 44:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"requestIFD",value:(c=d(Y.mark((function e(t){var l=this;return Y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.ifdRequests[t]){e.next=4;break}return e.abrupt("return",this.ifdRequests[t]);case 4:if(0!==t){e.next=9;break}return this.ifdRequests[t]=this.parseFileDirectoryAt(this.firstIFDOffset),e.abrupt("return",this.ifdRequests[t]);case 9:if(this.ifdRequests[t-1]){e.next=19;break}e.prev=10,this.ifdRequests[t-1]=this.requestIFD(t-1),e.next=19;break;case 14:if(e.prev=14,e.t0=e.catch(10),!(e.t0 instanceof fl)){e.next=18;break}throw new fl(t);case 18:throw e.t0;case 19:return this.ifdRequests[t]=d(Y.mark((function e(){var i;return Y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.ifdRequests[t-1];case 2:if(0!==(i=e.sent).nextIFDByteOffset){e.next=5;break}throw new fl(t);case 5:return e.abrupt("return",l.parseFileDirectoryAt(i.nextIFDByteOffset));case 6:case"end":return e.stop()}}),e)})))(),e.abrupt("return",this.ifdRequests[t]);case 21:case"end":return e.stop()}}),e,this,[[10,14]])}))),function(e){return c.apply(this,arguments)})},{key:"getImage",value:(n=d(Y.mark((function e(){var t,l,i=arguments;return Y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:0,e.next=3,this.requestIFD(t);case 3:return l=e.sent,e.abrupt("return",new we(l.fileDirectory,l.geoKeyDirectory,this.dataView,this.littleEndian,this.cache,this.source));case 5:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"getImageCount",value:(i=d(Y.mark((function e(){var t,l;return Y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=0,l=!0;case 2:if(!l){e.next=18;break}return e.prev=3,e.next=6,this.requestIFD(t);case 6:++t,e.next=16;break;case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof fl)){e.next=15;break}l=!1,e.next=16;break;case 15:throw e.t0;case 16:e.next=2;break;case 18:return e.abrupt("return",t);case 19:case"end":return e.stop()}}),e,this,[[3,9]])}))),function(){return i.apply(this,arguments)})},{key:"getGhostValues",value:(l=d(Y.mark((function e(){var t,l,i,n,c,r,d,s,m=this;return Y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.bigTiff?16:8,!this.ghostValues){e.next=3;break}return e.abrupt("return",this.ghostValues);case 3:return i=(l="GDAL_STRUCTURAL_METADATA_SIZE=").length+100,e.next=7,this.getSlice(t,i);case 7:if(n=e.sent,l!==Kl(n,ne.ASCII,l.length,t)){e.next=19;break}if(c=Kl(n,ne.ASCII,i,t),r=c.split("\n")[0],!((d=Number(r.split("=")[1].split(" ")[0])+r.length)>i)){e.next=16;break}return e.next=15,this.getSlice(t,d);case 15:n=e.sent;case 16:s=Kl(n,ne.ASCII,d,t),this.ghostValues={},s.split("\n").filter((function(e){return e.length>0})).map((function(e){return e.split("=")})).forEach((function(e){var t=a(e,2),l=t[0],i=t[1];m.ghostValues[l]=i}));case 19:return e.abrupt("return",this.ghostValues);case 20:case"end":return e.stop()}}),e,this)}))),function(){return l.apply(this,arguments)})},{key:"close",value:function(){return"function"==typeof this.source.close&&this.source.close()}}],[{key:"fromSource",value:(t=d(Y.mark((function e(t,l,i){var n,c,a,r,d,s,m;return Y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.fetch([{offset:0,length:1024}],i);case 2:if(n=e.sent[0],c=new Ne(n),18761!==(a=c.getUint16(0,0))){e.next=9;break}r=!0,e.next=14;break;case 9:if(19789!==a){e.next=13;break}r=!1,e.next=14;break;case 13:throw new TypeError("Invalid byte order value.");case 14:if(42!==(d=c.getUint16(2,r))){e.next=19;break}s=!1,e.next=27;break;case 19:if(43!==d){e.next=26;break}if(s=!0,8===c.getUint16(4,r)){e.next=24;break}throw new Error("Unsupported offset byte-size.");case 24:e.next=27;break;case 26:throw new TypeError("Invalid magic number.");case 27:return m=s?c.getUint64(8,r):c.getUint32(4,r),e.abrupt("return",new u(t,r,s,m,l));case 29:case"end":return e.stop()}}),e)}))),function(e,l,i){return t.apply(this,arguments)})}]),u}(Sl),gl=function(e){o(c,e);var t,l,i,n=Yl(c);function c(e,t){var l;return G(this,c),(l=n.call(this)).mainFile=e,l.overviewFiles=t,l.imageFiles=[e].concat(t),l.fileDirectoriesPerFile=null,l.fileDirectoriesPerFileParsing=null,l.imageCount=null,l}return m(c,[{key:"parseFileDirectoriesPerFile",value:(i=d(Y.mark((function e(){var t;return Y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[this.mainFile.parseFileDirectoryAt(this.mainFile.firstIFDOffset)].concat(this.overviewFiles.map((function(e){return e.parseFileDirectoryAt(e.firstIFDOffset)}))),e.next=3,Promise.all(t);case 3:return this.fileDirectoriesPerFile=e.sent,e.abrupt("return",this.fileDirectoriesPerFile);case 5:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"getImage",value:(l=d(Y.mark((function e(){var t,l,i,n,c,a,r,d=arguments;return Y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=d.length>0&&void 0!==d[0]?d[0]:0,e.next=3,this.getImageCount();case 3:return e.next=5,this.parseFileDirectoriesPerFile();case 5:l=0,i=0,n=0;case 8:if(!(n<this.imageFiles.length)){e.next=26;break}c=this.imageFiles[n],a=0;case 11:if(!(a<this.imageCounts[n])){e.next=22;break}if(t!==l){e.next=17;break}return e.next=15,c.requestIFD(i);case 15:return r=e.sent,e.abrupt("return",new we(r.fileDirectory,r.geoKeyDirectory,c.dataView,c.littleEndian,c.cache,c.source));case 17:l++,i++;case 19:a++,e.next=11;break;case 22:i=0;case 23:n++,e.next=8;break;case 26:throw new RangeError("Invalid image index");case 27:case"end":return e.stop()}}),e,this)}))),function(){return l.apply(this,arguments)})},{key:"getImageCount",value:(t=d(Y.mark((function e(){var t;return Y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===this.imageCount){e.next=2;break}return e.abrupt("return",this.imageCount);case 2:return t=[this.mainFile.getImageCount()].concat(this.overviewFiles.map((function(e){return e.getImageCount()}))),e.next=5,Promise.all(t);case 5:return this.imageCounts=e.sent,this.imageCount=this.imageCounts.reduce((function(e,t){return e+t}),0),e.abrupt("return",this.imageCount);case 8:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),c}(Sl);function kl(){return kl=d(Y.mark((function e(t){var l,i,n=arguments;return Y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=n.length>1&&void 0!==n[1]?n[1]:{},i=n.length>2?n[2]:void 0,e.abrupt("return",Tl.fromSource(Bt(t,l),i));case 3:case"end":return e.stop()}}),e)}))),kl.apply(this,arguments)}function Rl(){return(Rl=d(Y.mark((function e(t,l){return Y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Tl.fromSource(Et(t),l));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pl(){return(Pl=d(Y.mark((function e(t,l){return Y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Tl.fromSource(il(t),l));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Jl(){return(Jl=d(Y.mark((function e(t,l){return Y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Tl.fromSource(qt(t),l));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ml(){return Ml=d(Y.mark((function e(t){var l,i,n,c,a,r=arguments;return Y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=r.length>1&&void 0!==r[1]?r[1]:[],i=r.length>2&&void 0!==r[2]?r[2]:{},n=r.length>3?r[3]:void 0,e.next=5,Tl.fromSource(Bt(t,i),n);case 5:return c=e.sent,e.next=8,Promise.all(l.map((function(e){return Tl.fromSource(Bt(e,i))})));case 8:return a=e.sent,e.abrupt("return",new gl(c,a));case 10:case"end":return e.stop()}}),e)}))),Ml.apply(this,arguments)}function Ul(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var l,i=y(e);if(t){var n=y(this).constructor;l=Reflect.construct(i,arguments,n)}else l=i.apply(this,arguments);return h(this,l)}}var Hl=function(e){o(l,e);var t=Ul(l);function l(){return G(this,l),t.apply(this,arguments)}return m(l,[{key:"decodeBlock",value:function(e){return e}}]),l}(Wl),wl=Object.freeze({__proto__:null,default:Hl});function Nl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var l,i=y(e);if(t){var n=y(this).constructor;l=Reflect.construct(i,arguments,n)}else l=i.apply(this,arguments);return h(this,l)}}function zl(e,t){for(var l=t.length-1;l>=0;l--)e.push(t[l]);return e}function vl(e){for(var t=new Uint16Array(4093),l=new Uint8Array(4093),i=0;i<=257;i++)t[i]=4096,l[i]=i;var n=258,c=9,a=0;function r(){n=258,c=9}function d(e){var t=function(e,t,l){var i=t%8,n=Math.floor(t/8),c=8-i,a=t+l-8*(n+1),r=8*(n+2)-(t+l),d=8*(n+2)-t;if(r=Math.max(0,r),n>=e.length)return console.warn("ran off the end of the buffer before finding EOI_CODE (end on input code)"),257;var s=e[n]&Math.pow(2,8-i)-1,m=s<<=l-c;if(n+1<e.length){var Z=e[n+1]>>>r;m+=Z<<=Math.max(0,l-d)}if(a>8&&n+2<e.length){var o=8*(n+3)-(t+l);m+=e[n+2]>>>o}return m}(e,a,c);return a+=c,t}function s(e,i){return l[n]=i,t[n]=e,++n-1}function m(e){for(var i=[],n=e;4096!==n;n=t[n])i.push(l[n]);return i}var Z=[];r();for(var o,u=new Uint8Array(e),b=d(u);257!==b;){if(256===b){for(r(),b=d(u);256===b;)b=d(u);if(257===b)break;if(b>256)throw new Error("corrupted code at scanline ".concat(b));zl(Z,m(b)),o=b}else if(b<n){var h=m(b);zl(Z,h),s(o,h[h.length-1]),o=b}else{var y=m(o);if(!y)throw new Error("Bogus entry. Not in dictionary, ".concat(o," / ").concat(n,", position: ").concat(a));zl(Z,y),Z.push(y[y.length-1]),s(o,y[y.length-1]),o=b}n+1>=Math.pow(2,c)&&(12===c?o=void 0:c++),b=d(u)}return new Uint8Array(Z)}var Fl=function(e){o(l,e);var t=Nl(l);function l(){return G(this,l),t.apply(this,arguments)}return m(l,[{key:"decodeBlock",value:function(e){return vl(e).buffer}}]),l}(Wl),Cl=Object.freeze({__proto__:null,default:Fl});function jl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var l,i=y(e);if(t){var n=y(this).constructor;l=Reflect.construct(i,arguments,n)}else l=i.apply(this,arguments);return h(this,l)}}var Dl=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),Bl=4017,Ql=799,Ol=3406,El=2276,Al=1567,_l=3784,ql=5793,$l=2896;function ei(e,t){for(var l=0,i=[],n=16;n>0&&!e[n-1];)--n;i.push({children:[],index:0});for(var c,a=i[0],r=0;r<n;r++){for(var d=0;d<e[r];d++){for((a=i.pop()).children[a.index]=t[l];a.index>0;)a=i.pop();for(a.index++,i.push(a);i.length<=r;)i.push(c={children:[],index:0}),a.children[a.index]=c.children,a=c;l++}r+1<n&&(i.push(c={children:[],index:0}),a.children[a.index]=c.children,a=c)}return i[0].children}function ti(e,t,l,i,n,c,a,r,d){var s=l.mcusPerLine,m=l.progressive,Z=t,o=t,b=0,h=0;function y(){if(h>0)return h--,b>>h&1;if(255===(b=e[o++])){var t=e[o++];if(t)throw new Error("unexpected marker: ".concat((b<<8|t).toString(16)))}return h=7,b>>>7}function p(e){for(var t,l=e;null!==(t=y());){if("number"==typeof(l=l[t]))return l;if("object"!==u(l))throw new Error("invalid huffman sequence")}return null}function X(e){for(var t=e,l=0;t>0;){var i=y();if(null===i)return;l=l<<1|i,--t}return l}function W(e){var t=X(e);return t>=1<<e-1?t:t+(-1<<e)+1}var G,V=0,Y=0;function x(e,t,l,i,n){var c=l%s,a=(l/s|0)*e.v+i,r=c*e.h+n;t(e,e.blocks[a][r])}function I(e,t,l){var i=l/e.blocksPerLine|0,n=l%e.blocksPerLine;t(e,e.blocks[i][n])}var K,L,f,S,T,g,k=i.length;g=m?0===c?0===r?function(e,t){var l=p(e.huffmanTableDC),i=0===l?0:W(l)<<d;e.pred+=i,t[0]=e.pred}:function(e,t){t[0]|=y()<<d}:0===r?function(e,t){if(V>0)V--;else for(var l=c,i=a;l<=i;){var n=p(e.huffmanTableAC),r=15&n,s=n>>4;if(0===r){if(s<15){V=X(s)+(1<<s)-1;break}l+=16}else t[Dl[l+=s]]=W(r)*(1<<d),l++}}:function(e,t){for(var l=c,i=a,n=0;l<=i;){var r=Dl[l],s=t[r]<0?-1:1;switch(Y){case 0:var m=p(e.huffmanTableAC),Z=15&m;if(n=m>>4,0===Z)n<15?(V=X(n)+(1<<n),Y=4):(n=16,Y=1);else{if(1!==Z)throw new Error("invalid ACn encoding");G=W(Z),Y=n?2:3}continue;case 1:case 2:t[r]?t[r]+=(y()<<d)*s:0==--n&&(Y=2===Y?3:0);break;case 3:t[r]?t[r]+=(y()<<d)*s:(t[r]=G<<d,Y=0);break;case 4:t[r]&&(t[r]+=(y()<<d)*s)}l++}4===Y&&0==--V&&(Y=0)}:function(e,t){var l=p(e.huffmanTableDC),i=0===l?0:W(l);e.pred+=i,t[0]=e.pred;for(var n=1;n<64;){var c=p(e.huffmanTableAC),a=15&c,r=c>>4;if(0===a){if(r<15)break;n+=16}else t[Dl[n+=r]]=W(a),n++}};var R,P,J=0;P=1===k?i[0].blocksPerLine*i[0].blocksPerColumn:s*l.mcusPerColumn;for(var M=n||P;J<P;){for(L=0;L<k;L++)i[L].pred=0;if(V=0,1===k)for(K=i[0],T=0;T<M;T++)I(K,g,J),J++;else for(T=0;T<M;T++){for(L=0;L<k;L++){var U=K=i[L],H=U.h,w=U.v;for(f=0;f<w;f++)for(S=0;S<H;S++)x(K,g,J,f,S)}if(++J===P)break}if(h=0,(R=e[o]<<8|e[o+1])<65280)throw new Error("marker was not found");if(!(R>=65488&&R<=65495))break;o+=2}return o-Z}function li(e,t){var l=[],i=t.blocksPerLine,n=t.blocksPerColumn,c=i<<3,a=new Int32Array(64),r=new Uint8Array(64);function d(e,l,i){var n,c,a,r,d,s,m,Z,o,u,b=t.quantizationTable,h=i;for(u=0;u<64;u++)h[u]=e[u]*b[u];for(u=0;u<8;++u){var y=8*u;0!==h[1+y]||0!==h[2+y]||0!==h[3+y]||0!==h[4+y]||0!==h[5+y]||0!==h[6+y]||0!==h[7+y]?(n=ql*h[0+y]+128>>8,c=ql*h[4+y]+128>>8,a=h[2+y],r=h[6+y],d=$l*(h[1+y]-h[7+y])+128>>8,Z=$l*(h[1+y]+h[7+y])+128>>8,s=h[3+y]<<4,m=h[5+y]<<4,o=n-c+1>>1,n=n+c+1>>1,c=o,o=a*_l+r*Al+128>>8,a=a*Al-r*_l+128>>8,r=o,o=d-m+1>>1,d=d+m+1>>1,m=o,o=Z+s+1>>1,s=Z-s+1>>1,Z=o,o=n-r+1>>1,n=n+r+1>>1,r=o,o=c-a+1>>1,c=c+a+1>>1,a=o,o=d*El+Z*Ol+2048>>12,d=d*Ol-Z*El+2048>>12,Z=o,o=s*Ql+m*Bl+2048>>12,s=s*Bl-m*Ql+2048>>12,m=o,h[0+y]=n+Z,h[7+y]=n-Z,h[1+y]=c+m,h[6+y]=c-m,h[2+y]=a+s,h[5+y]=a-s,h[3+y]=r+d,h[4+y]=r-d):(o=ql*h[0+y]+512>>10,h[0+y]=o,h[1+y]=o,h[2+y]=o,h[3+y]=o,h[4+y]=o,h[5+y]=o,h[6+y]=o,h[7+y]=o)}for(u=0;u<8;++u){var p=u;0!==h[8+p]||0!==h[16+p]||0!==h[24+p]||0!==h[32+p]||0!==h[40+p]||0!==h[48+p]||0!==h[56+p]?(n=ql*h[0+p]+2048>>12,c=ql*h[32+p]+2048>>12,a=h[16+p],r=h[48+p],d=$l*(h[8+p]-h[56+p])+2048>>12,Z=$l*(h[8+p]+h[56+p])+2048>>12,s=h[24+p],m=h[40+p],o=n-c+1>>1,n=n+c+1>>1,c=o,o=a*_l+r*Al+2048>>12,a=a*Al-r*_l+2048>>12,r=o,o=d-m+1>>1,d=d+m+1>>1,m=o,o=Z+s+1>>1,s=Z-s+1>>1,Z=o,o=n-r+1>>1,n=n+r+1>>1,r=o,o=c-a+1>>1,c=c+a+1>>1,a=o,o=d*El+Z*Ol+2048>>12,d=d*Ol-Z*El+2048>>12,Z=o,o=s*Ql+m*Bl+2048>>12,s=s*Bl-m*Ql+2048>>12,m=o,h[0+p]=n+Z,h[56+p]=n-Z,h[8+p]=c+m,h[48+p]=c-m,h[16+p]=a+s,h[40+p]=a-s,h[24+p]=r+d,h[32+p]=r-d):(o=ql*i[u+0]+8192>>14,h[0+p]=o,h[8+p]=o,h[16+p]=o,h[24+p]=o,h[32+p]=o,h[40+p]=o,h[48+p]=o,h[56+p]=o)}for(u=0;u<64;++u){var X=128+(h[u]+8>>4);l[u]=X<0?0:X>255?255:X}}for(var s=0;s<n;s++){for(var m=s<<3,Z=0;Z<8;Z++)l.push(new Uint8Array(c));for(var o=0;o<i;o++){d(t.blocks[s][o],r,a);for(var u=0,b=o<<3,h=0;h<8;h++)for(var y=l[m+h],p=0;p<8;p++)y[b+p]=r[u++]}}return l}var ii=function(){function e(){G(this,e),this.jfif=null,this.adobe=null,this.quantizationTables=[],this.huffmanTablesAC=[],this.huffmanTablesDC=[],this.resetFrames()}return m(e,[{key:"resetFrames",value:function(){this.frames=[]}},{key:"parse",value:function(e){var t=0;function l(){var l=e[t]<<8|e[t+1];return t+=2,l}function i(e){var t,l,i=0,n=0;for(l in e.components)e.components.hasOwnProperty(l)&&(i<(t=e.components[l]).h&&(i=t.h),n<t.v&&(n=t.v));var c=Math.ceil(e.samplesPerLine/8/i),a=Math.ceil(e.scanLines/8/n);for(l in e.components)if(e.components.hasOwnProperty(l)){t=e.components[l];for(var r=Math.ceil(Math.ceil(e.samplesPerLine/8)*t.h/i),d=Math.ceil(Math.ceil(e.scanLines/8)*t.v/n),s=c*t.h,m=a*t.v,Z=[],o=0;o<m;o++){for(var u=[],b=0;b<s;b++)u.push(new Int32Array(64));Z.push(u)}t.blocksPerLine=r,t.blocksPerColumn=d,t.blocks=Z}e.maxH=i,e.maxV=n,e.mcusPerLine=c,e.mcusPerColumn=a}var n,c,a=l();if(65496!==a)throw new Error("SOI not found");for(a=l();65497!==a;){switch(a){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var r=(n=void 0,c=void 0,n=l(),c=e.subarray(t,t+n-2),t+=c.length,c);65504===a&&74===r[0]&&70===r[1]&&73===r[2]&&70===r[3]&&0===r[4]&&(this.jfif={version:{major:r[5],minor:r[6]},densityUnits:r[7],xDensity:r[8]<<8|r[9],yDensity:r[10]<<8|r[11],thumbWidth:r[12],thumbHeight:r[13],thumbData:r.subarray(14,14+3*r[12]*r[13])}),65518===a&&65===r[0]&&100===r[1]&&111===r[2]&&98===r[3]&&101===r[4]&&0===r[5]&&(this.adobe={version:r[6],flags0:r[7]<<8|r[8],flags1:r[9]<<8|r[10],transformCode:r[11]});break;case 65499:for(var d=l()+t-2;t<d;){var s=e[t++],m=new Int32Array(64);if(s>>4==0)for(var Z=0;Z<64;Z++)m[Dl[Z]]=e[t++];else{if(s>>4!=1)throw new Error("DQT: invalid table spec");for(var o=0;o<64;o++)m[Dl[o]]=l()}this.quantizationTables[15&s]=m}break;case 65472:case 65473:case 65474:l();for(var u={extended:65473===a,progressive:65474===a,precision:e[t++],scanLines:l(),samplesPerLine:l(),components:{},componentsOrder:[]},b=e[t++],h=void 0,y=0;y<b;y++){h=e[t];var p=e[t+1]>>4,X=15&e[t+1],W=e[t+2];u.componentsOrder.push(h),u.components[h]={h:p,v:X,quantizationIdx:W},t+=3}i(u),this.frames.push(u);break;case 65476:for(var G=l(),V=2;V<G;){for(var Y=e[t++],x=new Uint8Array(16),I=0,K=0;K<16;K++,t++)x[K]=e[t],I+=x[K];for(var L=new Uint8Array(I),f=0;f<I;f++,t++)L[f]=e[t];V+=17+I,Y>>4==0?this.huffmanTablesDC[15&Y]=ei(x,L):this.huffmanTablesAC[15&Y]=ei(x,L)}break;case 65501:l(),this.resetInterval=l();break;case 65498:l();for(var S=e[t++],T=[],g=this.frames[0],k=0;k<S;k++){var R=g.components[e[t++]],P=e[t++];R.huffmanTableDC=this.huffmanTablesDC[P>>4],R.huffmanTableAC=this.huffmanTablesAC[15&P],T.push(R)}var J=e[t++],M=e[t++],U=e[t++],H=ti(e,t,g,T,this.resetInterval,J,M,U>>4,15&U);t+=H;break;case 65535:255!==e[t]&&t--;break;default:if(255===e[t-3]&&e[t-2]>=192&&e[t-2]<=254){t-=3;break}throw new Error("unknown JPEG marker ".concat(a.toString(16)))}a=l()}}},{key:"getResult",value:function(){var e=this.frames;if(0===this.frames.length)throw new Error("no frames were decoded");this.frames.length>1&&console.warn("more than one frame is not supported");for(var t=0;t<this.frames.length;t++)for(var l=this.frames[t].components,i=0,n=Object.keys(l);i<n.length;i++){var c=n[i];l[c].quantizationTable=this.quantizationTables[l[c].quantizationIdx],delete l[c].quantizationIdx}for(var a=e[0],r=a.components,d=a.componentsOrder,s=[],m=a.samplesPerLine,Z=a.scanLines,o=0;o<d.length;o++){var u=r[d[o]];s.push({lines:li(0,u),scaleX:u.h/a.maxH,scaleY:u.v/a.maxV})}for(var b=new Uint8Array(m*Z*s.length),h=0,y=0;y<Z;++y)for(var p=0;p<m;++p)for(var X=0;X<s.length;++X){var W=s[X];b[h]=W.lines[0|y*W.scaleY][0|p*W.scaleX],++h}return b}}]),e}(),ni=function(e){o(l,e);var t=jl(l);function l(e){var i;return G(this,l),(i=t.call(this)).reader=new ii,e.JPEGTables&&i.reader.parse(e.JPEGTables),i}return m(l,[{key:"decodeBlock",value:function(e){return this.reader.resetFrames(),this.reader.parse(new Uint8Array(e)),this.reader.getResult().buffer}}]),l}(Wl),ci=Object.freeze({__proto__:null,default:ni});function ai(e){for(var t=e.length;--t>=0;)e[t]=0}ai(new Array(576)),ai(new Array(60)),ai(new Array(512)),ai(new Array(256)),ai(new Array(29)),ai(new Array(30));var ri=function(e,t,l,i){for(var n=65535&e|0,c=e>>>16&65535|0,a=0;0!==l;){l-=a=l>2e3?2e3:l;do{c=c+(n=n+t[i++]|0)|0}while(--a);n%=65521,c%=65521}return n|c<<16|0},di=new Uint32Array(function(){for(var e,t=[],l=0;l<256;l++){e=l;for(var i=0;i<8;i++)e=1&e?3988292384^e>>>1:e>>>1;t[l]=e}return t}()),si=function(e,t,l,i){var n=di,c=i+l;e^=-1;for(var a=i;a<c;a++)e=e>>>8^n[255&(e^t[a])];return-1^e},mi={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Zi={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},oi=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},ui=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var l=t.shift();if(l){if("object"!==u(l))throw new TypeError(l+"must be non-object");for(var i in l)oi(l,i)&&(e[i]=l[i])}}return e},bi=function(e){for(var t=0,l=0,i=e.length;l<i;l++)t+=e[l].length;for(var n=new Uint8Array(t),c=0,a=0,r=e.length;c<r;c++){var d=e[c];n.set(d,a),a+=d.length}return n},hi=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){hi=!1}for(var yi=new Uint8Array(256),pi=0;pi<256;pi++)yi[pi]=pi>=252?6:pi>=248?5:pi>=240?4:pi>=224?3:pi>=192?2:1;yi[254]=yi[254]=1;var Xi=function(e){if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);var t,l,i,n,c,a=e.length,r=0;for(n=0;n<a;n++)55296==(64512&(l=e.charCodeAt(n)))&&n+1<a&&56320==(64512&(i=e.charCodeAt(n+1)))&&(l=65536+(l-55296<<10)+(i-56320),n++),r+=l<128?1:l<2048?2:l<65536?3:4;for(t=new Uint8Array(r),c=0,n=0;c<r;n++)55296==(64512&(l=e.charCodeAt(n)))&&n+1<a&&56320==(64512&(i=e.charCodeAt(n+1)))&&(l=65536+(l-55296<<10)+(i-56320),n++),l<128?t[c++]=l:l<2048?(t[c++]=192|l>>>6,t[c++]=128|63&l):l<65536?(t[c++]=224|l>>>12,t[c++]=128|l>>>6&63,t[c++]=128|63&l):(t[c++]=240|l>>>18,t[c++]=128|l>>>12&63,t[c++]=128|l>>>6&63,t[c++]=128|63&l);return t},Wi=function(e,t){var l,i,n=t||e.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,t));var c=new Array(2*n);for(i=0,l=0;l<n;){var a=e[l++];if(a<128)c[i++]=a;else{var r=yi[a];if(r>4)c[i++]=65533,l+=r-1;else{for(a&=2===r?31:3===r?15:7;r>1&&l<n;)a=a<<6|63&e[l++],r--;r>1?c[i++]=65533:a<65536?c[i++]=a:(a-=65536,c[i++]=55296|a>>10&1023,c[i++]=56320|1023&a)}}}return function(e,t){if(t<65534&&e.subarray&&hi)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));for(var l="",i=0;i<t;i++)l+=String.fromCharCode(e[i]);return l}(c,i)},Gi=function(e,t){(t=t||e.length)>e.length&&(t=e.length);for(var l=t-1;l>=0&&128==(192&e[l]);)l--;return l<0||0===l?t:l+yi[e[l]]>t?l:t},Vi=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0},Yi=function(e,t){var l,i,n,c,a,r,d,s,m,Z,o,u,b,h,y,p,X,W,G,V,Y,x,I,K,L=e.state;l=e.next_in,I=e.input,i=l+(e.avail_in-5),n=e.next_out,K=e.output,c=n-(t-e.avail_out),a=n+(e.avail_out-257),r=L.dmax,d=L.wsize,s=L.whave,m=L.wnext,Z=L.window,o=L.hold,u=L.bits,b=L.lencode,h=L.distcode,y=(1<<L.lenbits)-1,p=(1<<L.distbits)-1;e:do{u<15&&(o+=I[l++]<<u,u+=8,o+=I[l++]<<u,u+=8),X=b[o&y];t:for(;;){if(o>>>=W=X>>>24,u-=W,0==(W=X>>>16&255))K[n++]=65535&X;else{if(!(16&W)){if(0==(64&W)){X=b[(65535&X)+(o&(1<<W)-1)];continue t}if(32&W){L.mode=12;break e}e.msg="invalid literal/length code",L.mode=30;break e}G=65535&X,(W&=15)&&(u<W&&(o+=I[l++]<<u,u+=8),G+=o&(1<<W)-1,o>>>=W,u-=W),u<15&&(o+=I[l++]<<u,u+=8,o+=I[l++]<<u,u+=8),X=h[o&p];l:for(;;){if(o>>>=W=X>>>24,u-=W,!(16&(W=X>>>16&255))){if(0==(64&W)){X=h[(65535&X)+(o&(1<<W)-1)];continue l}e.msg="invalid distance code",L.mode=30;break e}if(V=65535&X,u<(W&=15)&&(o+=I[l++]<<u,(u+=8)<W&&(o+=I[l++]<<u,u+=8)),(V+=o&(1<<W)-1)>r){e.msg="invalid distance too far back",L.mode=30;break e}if(o>>>=W,u-=W,V>(W=n-c)){if((W=V-W)>s&&L.sane){e.msg="invalid distance too far back",L.mode=30;break e}if(Y=0,x=Z,0===m){if(Y+=d-W,W<G){G-=W;do{K[n++]=Z[Y++]}while(--W);Y=n-V,x=K}}else if(m<W){if(Y+=d+m-W,(W-=m)<G){G-=W;do{K[n++]=Z[Y++]}while(--W);if(Y=0,m<G){G-=W=m;do{K[n++]=Z[Y++]}while(--W);Y=n-V,x=K}}}else if(Y+=m-W,W<G){G-=W;do{K[n++]=Z[Y++]}while(--W);Y=n-V,x=K}for(;G>2;)K[n++]=x[Y++],K[n++]=x[Y++],K[n++]=x[Y++],G-=3;G&&(K[n++]=x[Y++],G>1&&(K[n++]=x[Y++]))}else{Y=n-V;do{K[n++]=K[Y++],K[n++]=K[Y++],K[n++]=K[Y++],G-=3}while(G>2);G&&(K[n++]=K[Y++],G>1&&(K[n++]=K[Y++]))}break}}break}}while(l<i&&n<a);l-=G=u>>3,o&=(1<<(u-=G<<3))-1,e.next_in=l,e.next_out=n,e.avail_in=l<i?i-l+5:5-(l-i),e.avail_out=n<a?a-n+257:257-(n-a),L.hold=o,L.bits=u},xi=15,Ii=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Ki=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Li=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),fi=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Si=function(e,t,l,i,n,c,a,r){var d,s,m,Z,o,u,b,h,y,p=r.bits,X=0,W=0,G=0,V=0,Y=0,x=0,I=0,K=0,L=0,f=0,S=null,T=0,g=new Uint16Array(16),k=new Uint16Array(16),R=null,P=0;for(X=0;X<=xi;X++)g[X]=0;for(W=0;W<i;W++)g[t[l+W]]++;for(Y=p,V=xi;V>=1&&0===g[V];V--);if(Y>V&&(Y=V),0===V)return n[c++]=20971520,n[c++]=20971520,r.bits=1,0;for(G=1;G<V&&0===g[G];G++);for(Y<G&&(Y=G),K=1,X=1;X<=xi;X++)if(K<<=1,(K-=g[X])<0)return-1;if(K>0&&(0===e||1!==V))return-1;for(k[1]=0,X=1;X<xi;X++)k[X+1]=k[X]+g[X];for(W=0;W<i;W++)0!==t[l+W]&&(a[k[t[l+W]]++]=W);if(0===e?(S=R=a,u=19):1===e?(S=Ii,T-=257,R=Ki,P-=257,u=256):(S=Li,R=fi,u=-1),f=0,W=0,X=G,o=c,x=Y,I=0,m=-1,Z=(L=1<<Y)-1,1===e&&L>852||2===e&&L>592)return 1;for(;;){b=X-I,a[W]<u?(h=0,y=a[W]):a[W]>u?(h=R[P+a[W]],y=S[T+a[W]]):(h=96,y=0),d=1<<X-I,G=s=1<<x;do{n[o+(f>>I)+(s-=d)]=b<<24|h<<16|y|0}while(0!==s);for(d=1<<X-1;f&d;)d>>=1;if(0!==d?(f&=d-1,f+=d):f=0,W++,0==--g[X]){if(X===V)break;X=t[l+a[W]]}if(X>Y&&(f&Z)!==m){for(0===I&&(I=Y),o+=G,K=1<<(x=X-I);x+I<V&&!((K-=g[x+I])<=0);)x++,K<<=1;if(L+=1<<x,1===e&&L>852||2===e&&L>592)return 1;n[m=f&Z]=Y<<24|x<<16|o-c|0}}return 0!==f&&(n[o+f]=X-I<<24|64<<16|0),r.bits=Y,0},Ti=Zi.Z_FINISH,gi=Zi.Z_BLOCK,ki=Zi.Z_TREES,Ri=Zi.Z_OK,Pi=Zi.Z_STREAM_END,Ji=Zi.Z_NEED_DICT,Mi=Zi.Z_STREAM_ERROR,Ui=Zi.Z_DATA_ERROR,Hi=Zi.Z_MEM_ERROR,wi=Zi.Z_BUF_ERROR,Ni=Zi.Z_DEFLATED,zi=12,vi=30,Fi=function(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)};function Ci(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}var ji,Di,Bi=function(e){if(!e||!e.state)return Mi;var t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,Ri},Qi=function(e){if(!e||!e.state)return Mi;var t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,Bi(e)},Oi=function(e,t){var l;if(!e||!e.state)return Mi;var i=e.state;return t<0?(l=0,t=-t):(l=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?Mi:(null!==i.window&&i.wbits!==t&&(i.window=null),i.wrap=l,i.wbits=t,Qi(e))},Ei=function(e,t){if(!e)return Mi;var l=new Ci;e.state=l,l.window=null;var i=Oi(e,t);return i!==Ri&&(e.state=null),i},Ai=!0,_i=function(e){if(Ai){ji=new Int32Array(512),Di=new Int32Array(32);for(var t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Si(1,e.lens,0,288,ji,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Si(2,e.lens,0,32,Di,0,e.work,{bits:5}),Ai=!1}e.lencode=ji,e.lenbits=9,e.distcode=Di,e.distbits=5},qi=function(e,t,l,i){var n,c=e.state;return null===c.window&&(c.wsize=1<<c.wbits,c.wnext=0,c.whave=0,c.window=new Uint8Array(c.wsize)),i>=c.wsize?(c.window.set(t.subarray(l-c.wsize,l),0),c.wnext=0,c.whave=c.wsize):((n=c.wsize-c.wnext)>i&&(n=i),c.window.set(t.subarray(l-i,l-i+n),c.wnext),(i-=n)?(c.window.set(t.subarray(l-i,l),0),c.wnext=i,c.whave=c.wsize):(c.wnext+=n,c.wnext===c.wsize&&(c.wnext=0),c.whave<c.wsize&&(c.whave+=n))),0},$i={inflateReset:Qi,inflateReset2:Oi,inflateResetKeep:Bi,inflateInit:function(e){return Ei(e,15)},inflateInit2:Ei,inflate:function(e,t){var l,i,n,c,a,r,d,s,m,Z,o,u,b,h,y,p,X,W,G,V,Y,x,I,K,L=0,f=new Uint8Array(4),S=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return Mi;(l=e.state).mode===zi&&(l.mode=13),a=e.next_out,n=e.output,d=e.avail_out,c=e.next_in,i=e.input,r=e.avail_in,s=l.hold,m=l.bits,Z=r,o=d,x=Ri;e:for(;;)switch(l.mode){case 1:if(0===l.wrap){l.mode=13;break}for(;m<16;){if(0===r)break e;r--,s+=i[c++]<<m,m+=8}if(2&l.wrap&&35615===s){l.check=0,f[0]=255&s,f[1]=s>>>8&255,l.check=si(l.check,f,2,0),s=0,m=0,l.mode=2;break}if(l.flags=0,l.head&&(l.head.done=!1),!(1&l.wrap)||(((255&s)<<8)+(s>>8))%31){e.msg="incorrect header check",l.mode=vi;break}if((15&s)!==Ni){e.msg="unknown compression method",l.mode=vi;break}if(m-=4,Y=8+(15&(s>>>=4)),0===l.wbits)l.wbits=Y;else if(Y>l.wbits){e.msg="invalid window size",l.mode=vi;break}l.dmax=1<<l.wbits,e.adler=l.check=1,l.mode=512&s?10:zi,s=0,m=0;break;case 2:for(;m<16;){if(0===r)break e;r--,s+=i[c++]<<m,m+=8}if(l.flags=s,(255&l.flags)!==Ni){e.msg="unknown compression method",l.mode=vi;break}if(57344&l.flags){e.msg="unknown header flags set",l.mode=vi;break}l.head&&(l.head.text=s>>8&1),512&l.flags&&(f[0]=255&s,f[1]=s>>>8&255,l.check=si(l.check,f,2,0)),s=0,m=0,l.mode=3;case 3:for(;m<32;){if(0===r)break e;r--,s+=i[c++]<<m,m+=8}l.head&&(l.head.time=s),512&l.flags&&(f[0]=255&s,f[1]=s>>>8&255,f[2]=s>>>16&255,f[3]=s>>>24&255,l.check=si(l.check,f,4,0)),s=0,m=0,l.mode=4;case 4:for(;m<16;){if(0===r)break e;r--,s+=i[c++]<<m,m+=8}l.head&&(l.head.xflags=255&s,l.head.os=s>>8),512&l.flags&&(f[0]=255&s,f[1]=s>>>8&255,l.check=si(l.check,f,2,0)),s=0,m=0,l.mode=5;case 5:if(1024&l.flags){for(;m<16;){if(0===r)break e;r--,s+=i[c++]<<m,m+=8}l.length=s,l.head&&(l.head.extra_len=s),512&l.flags&&(f[0]=255&s,f[1]=s>>>8&255,l.check=si(l.check,f,2,0)),s=0,m=0}else l.head&&(l.head.extra=null);l.mode=6;case 6:if(1024&l.flags&&((u=l.length)>r&&(u=r),u&&(l.head&&(Y=l.head.extra_len-l.length,l.head.extra||(l.head.extra=new Uint8Array(l.head.extra_len)),l.head.extra.set(i.subarray(c,c+u),Y)),512&l.flags&&(l.check=si(l.check,i,u,c)),r-=u,c+=u,l.length-=u),l.length))break e;l.length=0,l.mode=7;case 7:if(2048&l.flags){if(0===r)break e;u=0;do{Y=i[c+u++],l.head&&Y&&l.length<65536&&(l.head.name+=String.fromCharCode(Y))}while(Y&&u<r);if(512&l.flags&&(l.check=si(l.check,i,u,c)),r-=u,c+=u,Y)break e}else l.head&&(l.head.name=null);l.length=0,l.mode=8;case 8:if(4096&l.flags){if(0===r)break e;u=0;do{Y=i[c+u++],l.head&&Y&&l.length<65536&&(l.head.comment+=String.fromCharCode(Y))}while(Y&&u<r);if(512&l.flags&&(l.check=si(l.check,i,u,c)),r-=u,c+=u,Y)break e}else l.head&&(l.head.comment=null);l.mode=9;case 9:if(512&l.flags){for(;m<16;){if(0===r)break e;r--,s+=i[c++]<<m,m+=8}if(s!==(65535&l.check)){e.msg="header crc mismatch",l.mode=vi;break}s=0,m=0}l.head&&(l.head.hcrc=l.flags>>9&1,l.head.done=!0),e.adler=l.check=0,l.mode=zi;break;case 10:for(;m<32;){if(0===r)break e;r--,s+=i[c++]<<m,m+=8}e.adler=l.check=Fi(s),s=0,m=0,l.mode=11;case 11:if(0===l.havedict)return e.next_out=a,e.avail_out=d,e.next_in=c,e.avail_in=r,l.hold=s,l.bits=m,Ji;e.adler=l.check=1,l.mode=zi;case zi:if(t===gi||t===ki)break e;case 13:if(l.last){s>>>=7&m,m-=7&m,l.mode=27;break}for(;m<3;){if(0===r)break e;r--,s+=i[c++]<<m,m+=8}switch(l.last=1&s,m-=1,3&(s>>>=1)){case 0:l.mode=14;break;case 1:if(_i(l),l.mode=20,t===ki){s>>>=2,m-=2;break e}break;case 2:l.mode=17;break;case 3:e.msg="invalid block type",l.mode=vi}s>>>=2,m-=2;break;case 14:for(s>>>=7&m,m-=7&m;m<32;){if(0===r)break e;r--,s+=i[c++]<<m,m+=8}if((65535&s)!=(s>>>16^65535)){e.msg="invalid stored block lengths",l.mode=vi;break}if(l.length=65535&s,s=0,m=0,l.mode=15,t===ki)break e;case 15:l.mode=16;case 16:if(u=l.length){if(u>r&&(u=r),u>d&&(u=d),0===u)break e;n.set(i.subarray(c,c+u),a),r-=u,c+=u,d-=u,a+=u,l.length-=u;break}l.mode=zi;break;case 17:for(;m<14;){if(0===r)break e;r--,s+=i[c++]<<m,m+=8}if(l.nlen=257+(31&s),s>>>=5,m-=5,l.ndist=1+(31&s),s>>>=5,m-=5,l.ncode=4+(15&s),s>>>=4,m-=4,l.nlen>286||l.ndist>30){e.msg="too many length or distance symbols",l.mode=vi;break}l.have=0,l.mode=18;case 18:for(;l.have<l.ncode;){for(;m<3;){if(0===r)break e;r--,s+=i[c++]<<m,m+=8}l.lens[S[l.have++]]=7&s,s>>>=3,m-=3}for(;l.have<19;)l.lens[S[l.have++]]=0;if(l.lencode=l.lendyn,l.lenbits=7,I={bits:l.lenbits},x=Si(0,l.lens,0,19,l.lencode,0,l.work,I),l.lenbits=I.bits,x){e.msg="invalid code lengths set",l.mode=vi;break}l.have=0,l.mode=19;case 19:for(;l.have<l.nlen+l.ndist;){for(;p=(L=l.lencode[s&(1<<l.lenbits)-1])>>>16&255,X=65535&L,!((y=L>>>24)<=m);){if(0===r)break e;r--,s+=i[c++]<<m,m+=8}if(X<16)s>>>=y,m-=y,l.lens[l.have++]=X;else{if(16===X){for(K=y+2;m<K;){if(0===r)break e;r--,s+=i[c++]<<m,m+=8}if(s>>>=y,m-=y,0===l.have){e.msg="invalid bit length repeat",l.mode=vi;break}Y=l.lens[l.have-1],u=3+(3&s),s>>>=2,m-=2}else if(17===X){for(K=y+3;m<K;){if(0===r)break e;r--,s+=i[c++]<<m,m+=8}m-=y,Y=0,u=3+(7&(s>>>=y)),s>>>=3,m-=3}else{for(K=y+7;m<K;){if(0===r)break e;r--,s+=i[c++]<<m,m+=8}m-=y,Y=0,u=11+(127&(s>>>=y)),s>>>=7,m-=7}if(l.have+u>l.nlen+l.ndist){e.msg="invalid bit length repeat",l.mode=vi;break}for(;u--;)l.lens[l.have++]=Y}}if(l.mode===vi)break;if(0===l.lens[256]){e.msg="invalid code -- missing end-of-block",l.mode=vi;break}if(l.lenbits=9,I={bits:l.lenbits},x=Si(1,l.lens,0,l.nlen,l.lencode,0,l.work,I),l.lenbits=I.bits,x){e.msg="invalid literal/lengths set",l.mode=vi;break}if(l.distbits=6,l.distcode=l.distdyn,I={bits:l.distbits},x=Si(2,l.lens,l.nlen,l.ndist,l.distcode,0,l.work,I),l.distbits=I.bits,x){e.msg="invalid distances set",l.mode=vi;break}if(l.mode=20,t===ki)break e;case 20:l.mode=21;case 21:if(r>=6&&d>=258){e.next_out=a,e.avail_out=d,e.next_in=c,e.avail_in=r,l.hold=s,l.bits=m,Yi(e,o),a=e.next_out,n=e.output,d=e.avail_out,c=e.next_in,i=e.input,r=e.avail_in,s=l.hold,m=l.bits,l.mode===zi&&(l.back=-1);break}for(l.back=0;p=(L=l.lencode[s&(1<<l.lenbits)-1])>>>16&255,X=65535&L,!((y=L>>>24)<=m);){if(0===r)break e;r--,s+=i[c++]<<m,m+=8}if(p&&0==(240&p)){for(W=y,G=p,V=X;p=(L=l.lencode[V+((s&(1<<W+G)-1)>>W)])>>>16&255,X=65535&L,!(W+(y=L>>>24)<=m);){if(0===r)break e;r--,s+=i[c++]<<m,m+=8}s>>>=W,m-=W,l.back+=W}if(s>>>=y,m-=y,l.back+=y,l.length=X,0===p){l.mode=26;break}if(32&p){l.back=-1,l.mode=zi;break}if(64&p){e.msg="invalid literal/length code",l.mode=vi;break}l.extra=15&p,l.mode=22;case 22:if(l.extra){for(K=l.extra;m<K;){if(0===r)break e;r--,s+=i[c++]<<m,m+=8}l.length+=s&(1<<l.extra)-1,s>>>=l.extra,m-=l.extra,l.back+=l.extra}l.was=l.length,l.mode=23;case 23:for(;p=(L=l.distcode[s&(1<<l.distbits)-1])>>>16&255,X=65535&L,!((y=L>>>24)<=m);){if(0===r)break e;r--,s+=i[c++]<<m,m+=8}if(0==(240&p)){for(W=y,G=p,V=X;p=(L=l.distcode[V+((s&(1<<W+G)-1)>>W)])>>>16&255,X=65535&L,!(W+(y=L>>>24)<=m);){if(0===r)break e;r--,s+=i[c++]<<m,m+=8}s>>>=W,m-=W,l.back+=W}if(s>>>=y,m-=y,l.back+=y,64&p){e.msg="invalid distance code",l.mode=vi;break}l.offset=X,l.extra=15&p,l.mode=24;case 24:if(l.extra){for(K=l.extra;m<K;){if(0===r)break e;r--,s+=i[c++]<<m,m+=8}l.offset+=s&(1<<l.extra)-1,s>>>=l.extra,m-=l.extra,l.back+=l.extra}if(l.offset>l.dmax){e.msg="invalid distance too far back",l.mode=vi;break}l.mode=25;case 25:if(0===d)break e;if(u=o-d,l.offset>u){if((u=l.offset-u)>l.whave&&l.sane){e.msg="invalid distance too far back",l.mode=vi;break}u>l.wnext?(u-=l.wnext,b=l.wsize-u):b=l.wnext-u,u>l.length&&(u=l.length),h=l.window}else h=n,b=a-l.offset,u=l.length;u>d&&(u=d),d-=u,l.length-=u;do{n[a++]=h[b++]}while(--u);0===l.length&&(l.mode=21);break;case 26:if(0===d)break e;n[a++]=l.length,d--,l.mode=21;break;case 27:if(l.wrap){for(;m<32;){if(0===r)break e;r--,s|=i[c++]<<m,m+=8}if(o-=d,e.total_out+=o,l.total+=o,o&&(e.adler=l.check=l.flags?si(l.check,n,o,a-o):ri(l.check,n,o,a-o)),o=d,(l.flags?s:Fi(s))!==l.check){e.msg="incorrect data check",l.mode=vi;break}s=0,m=0}l.mode=28;case 28:if(l.wrap&&l.flags){for(;m<32;){if(0===r)break e;r--,s+=i[c++]<<m,m+=8}if(s!==(4294967295&l.total)){e.msg="incorrect length check",l.mode=vi;break}s=0,m=0}l.mode=29;case 29:x=Pi;break e;case vi:x=Ui;break e;case 31:return Hi;default:return Mi}return e.next_out=a,e.avail_out=d,e.next_in=c,e.avail_in=r,l.hold=s,l.bits=m,(l.wsize||o!==e.avail_out&&l.mode<vi&&(l.mode<27||t!==Ti))&&qi(e,e.output,e.next_out,o-e.avail_out),Z-=e.avail_in,o-=e.avail_out,e.total_in+=Z,e.total_out+=o,l.total+=o,l.wrap&&o&&(e.adler=l.check=l.flags?si(l.check,n,o,e.next_out-o):ri(l.check,n,o,e.next_out-o)),e.data_type=l.bits+(l.last?64:0)+(l.mode===zi?128:0)+(20===l.mode||15===l.mode?256:0),(0===Z&&0===o||t===Ti)&&x===Ri&&(x=wi),x},inflateEnd:function(e){if(!e||!e.state)return Mi;var t=e.state;return t.window&&(t.window=null),e.state=null,Ri},inflateGetHeader:function(e,t){if(!e||!e.state)return Mi;var l=e.state;return 0==(2&l.wrap)?Mi:(l.head=t,t.done=!1,Ri)},inflateSetDictionary:function(e,t){var l,i=t.length;return e&&e.state?0!==(l=e.state).wrap&&11!==l.mode?Mi:11===l.mode&&ri(1,t,i,0)!==l.check?Ui:qi(e,t,i,i)?(l.mode=31,Hi):(l.havedict=1,Ri):Mi},inflateInfo:"pako inflate (from Nodeca project)"},en=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1},tn=Object.prototype.toString,ln=Zi.Z_NO_FLUSH,nn=Zi.Z_FINISH,cn=Zi.Z_OK,an=Zi.Z_STREAM_END,rn=Zi.Z_NEED_DICT,dn=Zi.Z_STREAM_ERROR,sn=Zi.Z_DATA_ERROR,mn=Zi.Z_MEM_ERROR;function Zn(e){this.options=ui({chunkSize:65536,windowBits:15,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Vi,this.strm.avail_out=0;var l=$i.inflateInit2(this.strm,t.windowBits);if(l!==cn)throw new Error(mi[l]);if(this.header=new en,$i.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=Xi(t.dictionary):"[object ArrayBuffer]"===tn.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(l=$i.inflateSetDictionary(this.strm,t.dictionary))!==cn))throw new Error(mi[l])}function on(e,t){var l=new Zn(t);if(l.push(e),l.err)throw l.msg||mi[l.err];return l.result}Zn.prototype.push=function(e,t){var l,i,n,c=this.strm,a=this.options.chunkSize,r=this.options.dictionary;if(this.ended)return!1;for(i=t===~~t?t:!0===t?nn:ln,"[object ArrayBuffer]"===tn.call(e)?c.input=new Uint8Array(e):c.input=e,c.next_in=0,c.avail_in=c.input.length;;){for(0===c.avail_out&&(c.output=new Uint8Array(a),c.next_out=0,c.avail_out=a),(l=$i.inflate(c,i))===rn&&r&&((l=$i.inflateSetDictionary(c,r))===cn?l=$i.inflate(c,i):l===sn&&(l=rn));c.avail_in>0&&l===an&&c.state.wrap>0&&0!==e[c.next_in];)$i.inflateReset(c),l=$i.inflate(c,i);switch(l){case dn:case sn:case rn:case mn:return this.onEnd(l),this.ended=!0,!1}if(n=c.avail_out,c.next_out&&(0===c.avail_out||l===an))if("string"===this.options.to){var d=Gi(c.output,c.next_out),s=c.next_out-d,m=Wi(c.output,d);c.next_out=s,c.avail_out=a-s,s&&c.output.set(c.output.subarray(d,d+s),0),this.onData(m)}else this.onData(c.output.length===c.next_out?c.output:c.output.subarray(0,c.next_out));if(l!==cn||0!==n){if(l===an)return l=$i.inflateEnd(this.strm),this.onEnd(l),this.ended=!0,!0;if(0===c.avail_in)break}}return!0},Zn.prototype.onData=function(e){this.chunks.push(e)},Zn.prototype.onEnd=function(e){e===cn&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=bi(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var un={Inflate:Zn,inflate:on,inflateRaw:function(e,t){return(t=t||{}).raw=!0,on(e,t)},ungzip:on,constants:Zi}.inflate;function bn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var l,i=y(e);if(t){var n=y(this).constructor;l=Reflect.construct(i,arguments,n)}else l=i.apply(this,arguments);return h(this,l)}}var hn=function(e){o(l,e);var t=bn(l);function l(){return G(this,l),t.apply(this,arguments)}return m(l,[{key:"decodeBlock",value:function(e){return un(new Uint8Array(e)).buffer}}]),l}(Wl),yn=Object.freeze({__proto__:null,default:hn});function pn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var l,i=y(e);if(t){var n=y(this).constructor;l=Reflect.construct(i,arguments,n)}else l=i.apply(this,arguments);return h(this,l)}}var Xn=function(e){o(l,e);var t=pn(l);function l(){return G(this,l),t.apply(this,arguments)}return m(l,[{key:"decodeBlock",value:function(e){for(var t=new DataView(e),l=[],i=0;i<e.byteLength;++i){var n=t.getInt8(i);if(n<0){var c=t.getUint8(i+1);n=-n;for(var a=0;a<=n;++a)l.push(c);i+=1}else{for(var r=0;r<=n;++r)l.push(t.getUint8(i+r+1));i+=n+1}}return new Uint8Array(l).buffer}}]),l}(Wl),Wn=Object.freeze({__proto__:null,default:Xn}),Gn={exports:{}};!function(e){
/* Copyright 2015-2021 Esri. Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 @preserve */
!function(){var t,l,i,n,c,a,r,d,s=(t={defaultNoDataValue:-34027999387901484e22,decode:function(e,a){var r=(a=a||{}).encodedMaskData||null===a.encodedMaskData,d=c(e,a.inputOffset||0,r),s=null!==a.noDataValue?a.noDataValue:t.defaultNoDataValue,m=l(d,a.pixelType||Float32Array,a.encodedMaskData,s,a.returnMask),Z={width:d.width,height:d.height,pixelData:m.resultPixels,minValue:m.minValue,maxValue:d.pixels.maxValue,noDataValue:s};return m.resultMask&&(Z.maskData=m.resultMask),a.returnEncodedMask&&d.mask&&(Z.encodedMaskData=d.mask.bitset?d.mask.bitset:null),a.returnFileInfo&&(Z.fileInfo=i(d),a.computeUsedBitDepths&&(Z.fileInfo.bitDepths=n(d))),Z}},l=function(e,t,l,i,n){var c,r,d,s=0,m=e.pixels.numBlocksX,Z=e.pixels.numBlocksY,o=Math.floor(e.width/m),u=Math.floor(e.height/Z),b=2*e.maxZError,h=Number.MAX_VALUE;l=l||(e.mask?e.mask.bitset:null),r=new t(e.width*e.height),n&&l&&(d=new Uint8Array(e.width*e.height));for(var y,p,X=new Float32Array(o*u),W=0;W<=Z;W++){var G=W!==Z?u:e.height%Z;if(0!==G)for(var V=0;V<=m;V++){var Y=V!==m?o:e.width%m;if(0!==Y){var x,I,K,L,f=W*e.width*u+V*o,S=e.width-Y,T=e.pixels.blocks[s];if(T.encoding<2?(0===T.encoding?x=T.rawData:(a(T.stuffedData,T.bitsPerPixel,T.numValidPixels,T.offset,b,X,e.pixels.maxValue),x=X),I=0):K=2===T.encoding?0:T.offset,l)for(p=0;p<G;p++){for(7&f&&(L=l[f>>3],L<<=7&f),y=0;y<Y;y++)7&f||(L=l[f>>3]),128&L?(d&&(d[f]=1),h=h>(c=T.encoding<2?x[I++]:K)?c:h,r[f++]=c):(d&&(d[f]=0),r[f++]=i),L<<=1;f+=S}else if(T.encoding<2)for(p=0;p<G;p++){for(y=0;y<Y;y++)h=h>(c=x[I++])?c:h,r[f++]=c;f+=S}else for(h=h>K?K:h,p=0;p<G;p++){for(y=0;y<Y;y++)r[f++]=K;f+=S}if(1===T.encoding&&I!==T.numValidPixels)throw"Block and Mask do not match";s++}}}return{resultPixels:r,resultMask:d,minValue:h}},i=function(e){return{fileIdentifierString:e.fileIdentifierString,fileVersion:e.fileVersion,imageType:e.imageType,height:e.height,width:e.width,maxZError:e.maxZError,eofOffset:e.eofOffset,mask:e.mask?{numBlocksX:e.mask.numBlocksX,numBlocksY:e.mask.numBlocksY,numBytes:e.mask.numBytes,maxValue:e.mask.maxValue}:null,pixels:{numBlocksX:e.pixels.numBlocksX,numBlocksY:e.pixels.numBlocksY,numBytes:e.pixels.numBytes,maxValue:e.pixels.maxValue,noDataValue:e.noDataValue}}},n=function(e){for(var t=e.pixels.numBlocksX*e.pixels.numBlocksY,l={},i=0;i<t;i++){var n=e.pixels.blocks[i];0===n.encoding?l.float32=!0:1===n.encoding?l[n.bitsPerPixel]=!0:l[0]=!0}return Object.keys(l)},c=function(e,t,l){var i={},n=new Uint8Array(e,t,10);if(i.fileIdentifierString=String.fromCharCode.apply(null,n),"CntZImage"!==i.fileIdentifierString.trim())throw"Unexpected file identifier string: "+i.fileIdentifierString;t+=10;var c=new DataView(e,t,24);if(i.fileVersion=c.getInt32(0,!0),i.imageType=c.getInt32(4,!0),i.height=c.getUint32(8,!0),i.width=c.getUint32(12,!0),i.maxZError=c.getFloat64(16,!0),t+=24,!l)if(c=new DataView(e,t,16),i.mask={},i.mask.numBlocksY=c.getUint32(0,!0),i.mask.numBlocksX=c.getUint32(4,!0),i.mask.numBytes=c.getUint32(8,!0),i.mask.maxValue=c.getFloat32(12,!0),t+=16,i.mask.numBytes>0){var a=new Uint8Array(Math.ceil(i.width*i.height/8)),r=(c=new DataView(e,t,i.mask.numBytes)).getInt16(0,!0),d=2,s=0;do{if(r>0)for(;r--;)a[s++]=c.getUint8(d++);else{var m=c.getUint8(d++);for(r=-r;r--;)a[s++]=m}r=c.getInt16(d,!0),d+=2}while(d<i.mask.numBytes);if(-32768!==r||s<a.length)throw"Unexpected end of mask RLE encoding";i.mask.bitset=a,t+=i.mask.numBytes}else 0==(i.mask.numBytes|i.mask.numBlocksY|i.mask.maxValue)&&(i.mask.bitset=new Uint8Array(Math.ceil(i.width*i.height/8)));c=new DataView(e,t,16),i.pixels={},i.pixels.numBlocksY=c.getUint32(0,!0),i.pixels.numBlocksX=c.getUint32(4,!0),i.pixels.numBytes=c.getUint32(8,!0),i.pixels.maxValue=c.getFloat32(12,!0),t+=16;var Z=i.pixels.numBlocksX,o=i.pixels.numBlocksY,u=Z+(i.width%Z>0?1:0),b=o+(i.height%o>0?1:0);i.pixels.blocks=new Array(u*b);for(var h=0,y=0;y<b;y++)for(var p=0;p<u;p++){var X=0,W=e.byteLength-t;c=new DataView(e,t,Math.min(10,W));var G={};i.pixels.blocks[h++]=G;var V=c.getUint8(0);if(X++,G.encoding=63&V,G.encoding>3)throw"Invalid block encoding ("+G.encoding+")";if(2!==G.encoding){if(0!==V&&2!==V){if(V>>=6,G.offsetType=V,2===V)G.offset=c.getInt8(1),X++;else if(1===V)G.offset=c.getInt16(1,!0),X+=2;else{if(0!==V)throw"Invalid block offset type";G.offset=c.getFloat32(1,!0),X+=4}if(1===G.encoding)if(V=c.getUint8(X),X++,G.bitsPerPixel=63&V,V>>=6,G.numValidPixelsType=V,2===V)G.numValidPixels=c.getUint8(X),X++;else if(1===V)G.numValidPixels=c.getUint16(X,!0),X+=2;else{if(0!==V)throw"Invalid valid pixel count type";G.numValidPixels=c.getUint32(X,!0),X+=4}}var Y;if(t+=X,3!==G.encoding)if(0===G.encoding){var x=(i.pixels.numBytes-1)/4;if(x!==Math.floor(x))throw"uncompressed block has invalid length";Y=new ArrayBuffer(4*x),new Uint8Array(Y).set(new Uint8Array(e,t,4*x));var I=new Float32Array(Y);G.rawData=I,t+=4*x}else if(1===G.encoding){var K=Math.ceil(G.numValidPixels*G.bitsPerPixel/8),L=Math.ceil(K/4);Y=new ArrayBuffer(4*L),new Uint8Array(Y).set(new Uint8Array(e,t,K)),G.stuffedData=new Uint32Array(Y),t+=K}}else t++}return i.eofOffset=t,i},a=function(e,t,l,i,n,c,a){var r,d,s,m=(1<<t)-1,Z=0,o=0,u=Math.ceil((a-i)/n),b=4*e.length-Math.ceil(t*l/8);for(e[e.length-1]<<=8*b,r=0;r<l;r++){if(0===o&&(s=e[Z++],o=32),o>=t)d=s>>>o-t&m,o-=t;else{var h=t-o;d=(s&m)<<h&m,d+=(s=e[Z++])>>>(o=32-h)}c[r]=d<u?i+d*n:a}return c},t),m=function(){var e=function(e,t,l,i,n,c,a,r){var d,s,m,Z,o,u=(1<<l)-1,b=0,h=0,y=4*e.length-Math.ceil(l*i/8);if(e[e.length-1]<<=8*y,n)for(d=0;d<i;d++)0===h&&(m=e[b++],h=32),h>=l?(s=m>>>h-l&u,h-=l):(s=(m&u)<<(Z=l-h)&u,s+=(m=e[b++])>>>(h=32-Z)),t[d]=n[s];else for(o=Math.ceil((r-c)/a),d=0;d<i;d++)0===h&&(m=e[b++],h=32),h>=l?(s=m>>>h-l&u,h-=l):(s=(m&u)<<(Z=l-h)&u,s+=(m=e[b++])>>>(h=32-Z)),t[d]=s<o?c+s*a:r},t=function(e,t,l,i,n,c){var a,r=(1<<t)-1,d=0,s=0,m=0,Z=0,o=0,u=[],b=4*e.length-Math.ceil(t*l/8);e[e.length-1]<<=8*b;var h=Math.ceil((c-i)/n);for(s=0;s<l;s++)0===Z&&(a=e[d++],Z=32),Z>=t?(o=a>>>Z-t&r,Z-=t):(o=(a&r)<<(m=t-Z)&r,o+=(a=e[d++])>>>(Z=32-m)),u[s]=o<h?i+o*n:c;return u.unshift(i),u},l=function(e,t,l,i,n,c,a,r){var d,s,m,Z,o=(1<<l)-1,u=0,b=0,h=0;if(n)for(d=0;d<i;d++)0===b&&(m=e[u++],b=32,h=0),b>=l?(s=m>>>h&o,b-=l,h+=l):(s=m>>>h&o,b=32-(Z=l-b),s|=((m=e[u++])&(1<<Z)-1)<<l-Z,h=Z),t[d]=n[s];else{var y=Math.ceil((r-c)/a);for(d=0;d<i;d++)0===b&&(m=e[u++],b=32,h=0),b>=l?(s=m>>>h&o,b-=l,h+=l):(s=m>>>h&o,b=32-(Z=l-b),s|=((m=e[u++])&(1<<Z)-1)<<l-Z,h=Z),t[d]=s<y?c+s*a:r}return t},i=function(e,t,l,i,n,c){var a,r=(1<<t)-1,d=0,s=0,m=0,Z=0,o=0,u=0,b=[],h=Math.ceil((c-i)/n);for(s=0;s<l;s++)0===Z&&(a=e[d++],Z=32,u=0),Z>=t?(o=a>>>u&r,Z-=t,u+=t):(o=a>>>u&r,Z=32-(m=t-Z),o|=((a=e[d++])&(1<<m)-1)<<t-m,u=m),b[s]=o<h?i+o*n:c;return b.unshift(i),b},n=function(e,t,l,i){var n,c,a,r,d=(1<<l)-1,s=0,m=0,Z=4*e.length-Math.ceil(l*i/8);for(e[e.length-1]<<=8*Z,n=0;n<i;n++)0===m&&(a=e[s++],m=32),m>=l?(c=a>>>m-l&d,m-=l):(c=(a&d)<<(r=l-m)&d,c+=(a=e[s++])>>>(m=32-r)),t[n]=c;return t},c=function(e,t,l,i){var n,c,a,r,d=(1<<l)-1,s=0,m=0,Z=0;for(n=0;n<i;n++)0===m&&(a=e[s++],m=32,Z=0),m>=l?(c=a>>>Z&d,m-=l,Z+=l):(c=a>>>Z&d,m=32-(r=l-m),c|=((a=e[s++])&(1<<r)-1)<<l-r,Z=r),t[n]=c;return t},a={HUFFMAN_LUT_BITS_MAX:12,computeChecksumFletcher32:function(e){for(var t=65535,l=65535,i=e.length,n=Math.floor(i/2),c=0;n;){var a=n>=359?359:n;n-=a;do{t+=e[c++]<<8,l+=t+=e[c++]}while(--a);t=(65535&t)+(t>>>16),l=(65535&l)+(l>>>16)}return 1&i&&(l+=t+=e[c]<<8),((l=(65535&l)+(l>>>16))<<16|(t=(65535&t)+(t>>>16)))>>>0},readHeaderInfo:function(e,t){var l=t.ptr,i=new Uint8Array(e,l,6),n={};if(n.fileIdentifierString=String.fromCharCode.apply(null,i),0!==n.fileIdentifierString.lastIndexOf("Lerc2",0))throw"Unexpected file identifier string (expect Lerc2 ): "+n.fileIdentifierString;l+=6;var c,a=new DataView(e,l,8),r=a.getInt32(0,!0);if(n.fileVersion=r,l+=4,r>=3&&(n.checksum=a.getUint32(4,!0),l+=4),a=new DataView(e,l,12),n.height=a.getUint32(0,!0),n.width=a.getUint32(4,!0),l+=8,r>=4?(n.numDims=a.getUint32(8,!0),l+=4):n.numDims=1,a=new DataView(e,l,40),n.numValidPixel=a.getUint32(0,!0),n.microBlockSize=a.getInt32(4,!0),n.blobSize=a.getInt32(8,!0),n.imageType=a.getInt32(12,!0),n.maxZError=a.getFloat64(16,!0),n.zMin=a.getFloat64(24,!0),n.zMax=a.getFloat64(32,!0),l+=40,t.headerInfo=n,t.ptr=l,r>=3&&(c=r>=4?52:48,this.computeChecksumFletcher32(new Uint8Array(e,l-c,n.blobSize-14))!==n.checksum))throw"Checksum failed.";return!0},checkMinMaxRanges:function(e,t){var l=t.headerInfo,i=this.getDataTypeArray(l.imageType),n=l.numDims*this.getDataTypeSize(l.imageType),c=this.readSubArray(e,t.ptr,i,n),a=this.readSubArray(e,t.ptr+n,i,n);t.ptr+=2*n;var r,d=!0;for(r=0;r<l.numDims;r++)if(c[r]!==a[r]){d=!1;break}return l.minValues=c,l.maxValues=a,d},readSubArray:function(e,t,l,i){var n;if(l===Uint8Array)n=new Uint8Array(e,t,i);else{var c=new ArrayBuffer(i);new Uint8Array(c).set(new Uint8Array(e,t,i)),n=new l(c)}return n},readMask:function(e,t){var l,i,n=t.ptr,c=t.headerInfo,a=c.width*c.height,r=c.numValidPixel,d=new DataView(e,n,4),s={};if(s.numBytes=d.getUint32(0,!0),n+=4,(0===r||a===r)&&0!==s.numBytes)throw"invalid mask";if(0===r)l=new Uint8Array(Math.ceil(a/8)),s.bitset=l,i=new Uint8Array(a),t.pixels.resultMask=i,n+=s.numBytes;else if(s.numBytes>0){l=new Uint8Array(Math.ceil(a/8));var m=(d=new DataView(e,n,s.numBytes)).getInt16(0,!0),Z=2,o=0,u=0;do{if(m>0)for(;m--;)l[o++]=d.getUint8(Z++);else for(u=d.getUint8(Z++),m=-m;m--;)l[o++]=u;m=d.getInt16(Z,!0),Z+=2}while(Z<s.numBytes);if(-32768!==m||o<l.length)throw"Unexpected end of mask RLE encoding";i=new Uint8Array(a);var b=0,h=0;for(h=0;h<a;h++)7&h?(b=l[h>>3],b<<=7&h):b=l[h>>3],128&b&&(i[h]=1);t.pixels.resultMask=i,s.bitset=l,n+=s.numBytes}return t.ptr=n,t.mask=s,!0},readDataOneSweep:function(e,t,l,i){var n,c=t.ptr,r=t.headerInfo,d=r.numDims,s=r.width*r.height,m=r.imageType,Z=r.numValidPixel*a.getDataTypeSize(m)*d,o=t.pixels.resultMask;if(l===Uint8Array)n=new Uint8Array(e,c,Z);else{var u=new ArrayBuffer(Z);new Uint8Array(u).set(new Uint8Array(e,c,Z)),n=new l(u)}if(n.length===s*d)t.pixels.resultPixels=i?a.swapDimensionOrder(n,s,d,l,!0):n;else{t.pixels.resultPixels=new l(s*d);var b=0,h=0,y=0,p=0;if(d>1){if(i){for(h=0;h<s;h++)if(o[h])for(p=h,y=0;y<d;y++,p+=s)t.pixels.resultPixels[p]=n[b++]}else for(h=0;h<s;h++)if(o[h])for(p=h*d,y=0;y<d;y++)t.pixels.resultPixels[p+y]=n[b++]}else for(h=0;h<s;h++)o[h]&&(t.pixels.resultPixels[h]=n[b++])}return c+=Z,t.ptr=c,!0},readHuffmanTree:function(e,t){var l=this.HUFFMAN_LUT_BITS_MAX,i=new DataView(e,t.ptr,16);if(t.ptr+=16,i.getInt32(0,!0)<2)throw"unsupported Huffman version";var n=i.getInt32(4,!0),c=i.getInt32(8,!0),d=i.getInt32(12,!0);if(c>=d)return!1;var s=new Uint32Array(d-c);a.decodeBits(e,t,s);var m,Z,o,u,b=[];for(m=c;m<d;m++)b[Z=m-(m<n?0:n)]={first:s[m-c],second:null};var h=e.byteLength-t.ptr,y=Math.ceil(h/4),p=new ArrayBuffer(4*y);new Uint8Array(p).set(new Uint8Array(e,t.ptr,h));var X,W=new Uint32Array(p),G=0,V=0;for(X=W[0],m=c;m<d;m++)(u=b[Z=m-(m<n?0:n)].first)>0&&(b[Z].second=X<<G>>>32-u,32-G>=u?32===(G+=u)&&(G=0,X=W[++V]):(G+=u-32,X=W[++V],b[Z].second|=X>>>32-G));var Y=0,x=0,I=new r;for(m=0;m<b.length;m++)void 0!==b[m]&&(Y=Math.max(Y,b[m].first));x=Y>=l?l:Y;var K,L,f,S,T,g=[];for(m=c;m<d;m++)if((u=b[Z=m-(m<n?0:n)].first)>0)if(K=[u,Z],u<=x)for(L=b[Z].second<<x-u,f=1<<x-u,o=0;o<f;o++)g[L|o]=K;else for(L=b[Z].second,T=I,S=u-1;S>=0;S--)L>>>S&1?(T.right||(T.right=new r),T=T.right):(T.left||(T.left=new r),T=T.left),0!==S||T.val||(T.val=K[1]);return{decodeLut:g,numBitsLUTQick:x,numBitsLUT:Y,tree:I,stuffedData:W,srcPtr:V,bitPos:G}},readHuffman:function(e,t,l,i){var n,c,r,d,s,m,Z,o,u,b=t.headerInfo.numDims,h=t.headerInfo.height,y=t.headerInfo.width,p=y*h,X=this.readHuffmanTree(e,t),W=X.decodeLut,G=X.tree,V=X.stuffedData,Y=X.srcPtr,x=X.bitPos,I=X.numBitsLUTQick,K=X.numBitsLUT,L=0===t.headerInfo.imageType?128:0,f=t.pixels.resultMask,S=0;x>0&&(Y++,x=0);var T,g=V[Y],k=1===t.encodeMode,R=new l(p*b),P=R;if(b<2||k){for(T=0;T<b;T++)if(b>1&&(P=new l(R.buffer,p*T,p),S=0),t.headerInfo.numValidPixel===y*h)for(o=0,m=0;m<h;m++)for(Z=0;Z<y;Z++,o++){if(c=0,s=d=g<<x>>>32-I,32-x<I&&(s=d|=V[Y+1]>>>64-x-I),W[s])c=W[s][1],x+=W[s][0];else for(s=d=g<<x>>>32-K,32-x<K&&(s=d|=V[Y+1]>>>64-x-K),n=G,u=0;u<K;u++)if(!(n=d>>>K-u-1&1?n.right:n.left).left&&!n.right){c=n.val,x=x+u+1;break}x>=32&&(x-=32,g=V[++Y]),r=c-L,k?(r+=Z>0?S:m>0?P[o-y]:S,r&=255,P[o]=r,S=r):P[o]=r}else for(o=0,m=0;m<h;m++)for(Z=0;Z<y;Z++,o++)if(f[o]){if(c=0,s=d=g<<x>>>32-I,32-x<I&&(s=d|=V[Y+1]>>>64-x-I),W[s])c=W[s][1],x+=W[s][0];else for(s=d=g<<x>>>32-K,32-x<K&&(s=d|=V[Y+1]>>>64-x-K),n=G,u=0;u<K;u++)if(!(n=d>>>K-u-1&1?n.right:n.left).left&&!n.right){c=n.val,x=x+u+1;break}x>=32&&(x-=32,g=V[++Y]),r=c-L,k?(Z>0&&f[o-1]?r+=S:m>0&&f[o-y]?r+=P[o-y]:r+=S,r&=255,P[o]=r,S=r):P[o]=r}}else for(o=0,m=0;m<h;m++)for(Z=0;Z<y;Z++)if(o=m*y+Z,!f||f[o])for(T=0;T<b;T++,o+=p){if(c=0,s=d=g<<x>>>32-I,32-x<I&&(s=d|=V[Y+1]>>>64-x-I),W[s])c=W[s][1],x+=W[s][0];else for(s=d=g<<x>>>32-K,32-x<K&&(s=d|=V[Y+1]>>>64-x-K),n=G,u=0;u<K;u++)if(!(n=d>>>K-u-1&1?n.right:n.left).left&&!n.right){c=n.val,x=x+u+1;break}x>=32&&(x-=32,g=V[++Y]),r=c-L,P[o]=r}t.ptr=t.ptr+4*(Y+1)+(x>0?4:0),t.pixels.resultPixels=R,b>1&&!i&&(t.pixels.resultPixels=a.swapDimensionOrder(R,p,b,l))},decodeBits:function(a,r,d,s,m){var Z=r.headerInfo,o=Z.fileVersion,u=0,b=a.byteLength-r.ptr>=5?5:a.byteLength-r.ptr,h=new DataView(a,r.ptr,b),y=h.getUint8(0);u++;var p=y>>6,X=0===p?4:3-p,W=(32&y)>0,G=31&y,V=0;if(1===X)V=h.getUint8(u),u++;else if(2===X)V=h.getUint16(u,!0),u+=2;else{if(4!==X)throw"Invalid valid pixel count type";V=h.getUint32(u,!0),u+=4}var Y,x,I,K,L,f,S,T,g,k=2*Z.maxZError,R=Z.numDims>1?Z.maxValues[m]:Z.zMax;if(W){for(r.counter.lut++,T=h.getUint8(u),u++,K=Math.ceil((T-1)*G/8),L=Math.ceil(K/4),x=new ArrayBuffer(4*L),I=new Uint8Array(x),r.ptr+=u,I.set(new Uint8Array(a,r.ptr,K)),S=new Uint32Array(x),r.ptr+=K,g=0;T-1>>>g;)g++;K=Math.ceil(V*g/8),L=Math.ceil(K/4),x=new ArrayBuffer(4*L),(I=new Uint8Array(x)).set(new Uint8Array(a,r.ptr,K)),Y=new Uint32Array(x),r.ptr+=K,f=o>=3?i(S,G,T-1,s,k,R):t(S,G,T-1,s,k,R),o>=3?l(Y,d,g,V,f):e(Y,d,g,V,f)}else r.counter.bitstuffer++,g=G,r.ptr+=u,g>0&&(K=Math.ceil(V*g/8),L=Math.ceil(K/4),x=new ArrayBuffer(4*L),(I=new Uint8Array(x)).set(new Uint8Array(a,r.ptr,K)),Y=new Uint32Array(x),r.ptr+=K,o>=3?null==s?c(Y,d,g,V):l(Y,d,g,V,!1,s,k,R):null==s?n(Y,d,g,V):e(Y,d,g,V,!1,s,k,R))},readTiles:function(e,t,l,i){var n=t.headerInfo,c=n.width,r=n.height,d=c*r,s=n.microBlockSize,m=n.imageType,Z=a.getDataTypeSize(m),o=Math.ceil(c/s),u=Math.ceil(r/s);t.pixels.numBlocksY=u,t.pixels.numBlocksX=o,t.pixels.ptr=0;var b,h,y,p,X,W,G,V,Y,x,I=0,K=0,L=0,f=0,S=0,T=0,g=0,k=0,R=0,P=0,J=0,M=0,U=0,H=0,w=0,N=new l(s*s),z=r%s||s,v=c%s||s,F=n.numDims,C=t.pixels.resultMask,j=t.pixels.resultPixels,D=n.fileVersion>=5?14:15,B=n.zMax;for(L=0;L<u;L++)for(S=L!==u-1?s:z,f=0;f<o;f++)for(P=L*c*s+f*s,J=c-(T=f!==o-1?s:v),V=0;V<F;V++){if(F>1?(x=j,P=L*c*s+f*s,j=new l(t.pixels.resultPixels.buffer,d*V*Z,d),B=n.maxValues[V]):x=null,g=e.byteLength-t.ptr,h={},w=0,k=(b=new DataView(e,t.ptr,Math.min(10,g))).getUint8(0),w++,Y=n.fileVersion>=5?4&k:0,R=k>>6&255,(k>>2&D)!=(f*s>>3&D))throw"integrity issue";if(Y&&0===V)throw"integrity issue";if((X=3&k)>3)throw t.ptr+=w,"Invalid block encoding ("+X+")";if(2!==X)if(0===X){if(Y)throw"integrity issue";if(t.counter.uncompressed++,t.ptr+=w,M=(M=S*T*Z)<(U=e.byteLength-t.ptr)?M:U,y=new ArrayBuffer(M%Z==0?M:M+Z-M%Z),new Uint8Array(y).set(new Uint8Array(e,t.ptr,M)),p=new l(y),H=0,C)for(I=0;I<S;I++){for(K=0;K<T;K++)C[P]&&(j[P]=p[H++]),P++;P+=J}else for(I=0;I<S;I++){for(K=0;K<T;K++)j[P++]=p[H++];P+=J}t.ptr+=H*Z}else if(W=a.getDataTypeUsed(Y&&m<6?4:m,R),G=a.getOnePixel(h,w,W,b),w+=a.getDataTypeSize(W),3===X)if(t.ptr+=w,t.counter.constantoffset++,C)for(I=0;I<S;I++){for(K=0;K<T;K++)C[P]&&(j[P]=Y?Math.min(B,x[P]+G):G),P++;P+=J}else for(I=0;I<S;I++){for(K=0;K<T;K++)j[P]=Y?Math.min(B,x[P]+G):G,P++;P+=J}else if(t.ptr+=w,a.decodeBits(e,t,N,G,V),w=0,Y)if(C)for(I=0;I<S;I++){for(K=0;K<T;K++)C[P]&&(j[P]=N[w++]+x[P]),P++;P+=J}else for(I=0;I<S;I++){for(K=0;K<T;K++)j[P]=N[w++]+x[P],P++;P+=J}else if(C)for(I=0;I<S;I++){for(K=0;K<T;K++)C[P]&&(j[P]=N[w++]),P++;P+=J}else for(I=0;I<S;I++){for(K=0;K<T;K++)j[P++]=N[w++];P+=J}else{if(Y)if(C)for(I=0;I<S;I++)for(K=0;K<T;K++)C[P]&&(j[P]=x[P]),P++;else for(I=0;I<S;I++)for(K=0;K<T;K++)j[P]=x[P],P++;t.counter.constant++,t.ptr+=w}}F>1&&!i&&(t.pixels.resultPixels=a.swapDimensionOrder(t.pixels.resultPixels,d,F,l))},formatFileInfo:function(e){return{fileIdentifierString:e.headerInfo.fileIdentifierString,fileVersion:e.headerInfo.fileVersion,imageType:e.headerInfo.imageType,height:e.headerInfo.height,width:e.headerInfo.width,numValidPixel:e.headerInfo.numValidPixel,microBlockSize:e.headerInfo.microBlockSize,blobSize:e.headerInfo.blobSize,maxZError:e.headerInfo.maxZError,pixelType:a.getPixelType(e.headerInfo.imageType),eofOffset:e.eofOffset,mask:e.mask?{numBytes:e.mask.numBytes}:null,pixels:{numBlocksX:e.pixels.numBlocksX,numBlocksY:e.pixels.numBlocksY,maxValue:e.headerInfo.zMax,minValue:e.headerInfo.zMin,noDataValue:e.noDataValue}}},constructConstantSurface:function(e,t){var l=e.headerInfo.zMax,i=e.headerInfo.zMin,n=e.headerInfo.maxValues,c=e.headerInfo.numDims,a=e.headerInfo.height*e.headerInfo.width,r=0,d=0,s=0,m=e.pixels.resultMask,Z=e.pixels.resultPixels;if(m)if(c>1){if(t)for(r=0;r<c;r++)for(s=r*a,l=n[r],d=0;d<a;d++)m[d]&&(Z[s+d]=l);else for(d=0;d<a;d++)if(m[d])for(s=d*c,r=0;r<c;r++)Z[s+c]=n[r]}else for(d=0;d<a;d++)m[d]&&(Z[d]=l);else if(c>1&&i!==l)if(t)for(r=0;r<c;r++)for(s=r*a,l=n[r],d=0;d<a;d++)Z[s+d]=l;else for(d=0;d<a;d++)for(s=d*c,r=0;r<c;r++)Z[s+r]=n[r];else for(d=0;d<a*c;d++)Z[d]=l},getDataTypeArray:function(e){var t;switch(e){case 0:t=Int8Array;break;case 1:t=Uint8Array;break;case 2:t=Int16Array;break;case 3:t=Uint16Array;break;case 4:t=Int32Array;break;case 5:t=Uint32Array;break;case 6:default:t=Float32Array;break;case 7:t=Float64Array}return t},getPixelType:function(e){var t;switch(e){case 0:t="S8";break;case 1:t="U8";break;case 2:t="S16";break;case 3:t="U16";break;case 4:t="S32";break;case 5:t="U32";break;case 6:default:t="F32";break;case 7:t="F64"}return t},isValidPixelValue:function(e,t){if(null==t)return!1;var l;switch(e){case 0:l=t>=-128&&t<=127;break;case 1:l=t>=0&&t<=255;break;case 2:l=t>=-32768&&t<=32767;break;case 3:l=t>=0&&t<=65536;break;case 4:l=t>=-2147483648&&t<=2147483647;break;case 5:l=t>=0&&t<=4294967296;break;case 6:l=t>=-34027999387901484e22&&t<=34027999387901484e22;break;case 7:l=t>=-17976931348623157e292&&t<=17976931348623157e292;break;default:l=!1}return l},getDataTypeSize:function(e){var t=0;switch(e){case 0:case 1:t=1;break;case 2:case 3:t=2;break;case 4:case 5:case 6:t=4;break;case 7:t=8;break;default:t=e}return t},getDataTypeUsed:function(e,t){var l=e;switch(e){case 2:case 4:l=e-t;break;case 3:case 5:l=e-2*t;break;case 6:l=0===t?e:1===t?2:1;break;case 7:l=0===t?e:e-2*t+1;break;default:l=e}return l},getOnePixel:function(e,t,l,i){var n=0;switch(l){case 0:n=i.getInt8(t);break;case 1:n=i.getUint8(t);break;case 2:n=i.getInt16(t,!0);break;case 3:n=i.getUint16(t,!0);break;case 4:n=i.getInt32(t,!0);break;case 5:n=i.getUInt32(t,!0);break;case 6:n=i.getFloat32(t,!0);break;case 7:n=i.getFloat64(t,!0);break;default:throw"the decoder does not understand this pixel type"}return n},swapDimensionOrder:function(e,t,l,i,n){var c=0,a=0,r=0,d=0,s=e;if(l>1)if(s=new i(t*l),n)for(c=0;c<t;c++)for(d=c,r=0;r<l;r++,d+=t)s[d]=e[a++];else for(c=0;c<t;c++)for(d=c,r=0;r<l;r++,d+=t)s[a++]=e[d];return s}},r=function(e,t,l){this.val=e,this.left=t,this.right=l},d={decode:function(e,t){var l=(t=t||{}).noDataValue,i=0,n={};n.ptr=t.inputOffset||0,n.pixels={},a.readHeaderInfo(e,n);var c=n.headerInfo,r=c.fileVersion,d=a.getDataTypeArray(c.imageType);if(r>5)throw"unsupported lerc version 2."+r;a.readMask(e,n),c.numValidPixel===c.width*c.height||n.pixels.resultMask||(n.pixels.resultMask=t.maskData);var s=c.width*c.height;n.pixels.resultPixels=new d(s*c.numDims),n.counter={onesweep:0,uncompressed:0,lut:0,bitstuffer:0,constant:0,constantoffset:0};var m,Z=!t.returnPixelInterleavedDims;if(0!==c.numValidPixel)if(c.zMax===c.zMin)a.constructConstantSurface(n,Z);else if(r>=4&&a.checkMinMaxRanges(e,n))a.constructConstantSurface(n,Z);else{var o=new DataView(e,n.ptr,2),u=o.getUint8(0);if(n.ptr++,u)a.readDataOneSweep(e,n,d,Z);else if(r>1&&c.imageType<=1&&Math.abs(c.maxZError-.5)<1e-5){var b=o.getUint8(1);if(n.ptr++,n.encodeMode=b,b>2||r<4&&b>1)throw"Invalid Huffman flag "+b;b?a.readHuffman(e,n,d,Z):a.readTiles(e,n,d,Z)}else a.readTiles(e,n,d,Z)}n.eofOffset=n.ptr,t.inputOffset?(m=n.headerInfo.blobSize+t.inputOffset-n.ptr,Math.abs(m)>=1&&(n.eofOffset=t.inputOffset+n.headerInfo.blobSize)):(m=n.headerInfo.blobSize-n.ptr,Math.abs(m)>=1&&(n.eofOffset=n.headerInfo.blobSize));var h={width:c.width,height:c.height,pixelData:n.pixels.resultPixels,minValue:c.zMin,maxValue:c.zMax,validPixelCount:c.numValidPixel,dimCount:c.numDims,dimStats:{minValues:c.minValues,maxValues:c.maxValues},maskData:n.pixels.resultMask};if(n.pixels.resultMask&&a.isValidPixelValue(c.imageType,l)){var y=n.pixels.resultMask;for(i=0;i<s;i++)y[i]||(h.pixelData[i]=l);h.noDataValue=l}return n.noDataValue=l,t.returnFileInfo&&(h.fileInfo=a.formatFileInfo(n)),h},getBandCount:function(e){for(var t=0,l=0,i={ptr:0,pixels:{}};l<e.byteLength-58;)a.readHeaderInfo(e,i),l+=i.headerInfo.blobSize,t++,i.ptr=l;return t}};return d}(),Z=(r=new ArrayBuffer(4),d=new Uint8Array(r),new Uint32Array(r)[0]=1,1===d[0]),o={decode:function(e,t){if(!Z)throw"Big endian system is not supported.";var l,i,n=(t=t||{}).inputOffset||0,c=new Uint8Array(e,n,10),a=String.fromCharCode.apply(null,c);if("CntZImage"===a.trim())l=s,i=1;else{if("Lerc2"!==a.substring(0,5))throw"Unexpected file identifier string: "+a;l=m,i=2}for(var r,d,o,u,b,h,y=0,p=e.byteLength-10,X=[],W={width:0,height:0,pixels:[],pixelType:t.pixelType,mask:null,statistics:[]},G=0;n<p;){var V=l.decode(e,{inputOffset:n,encodedMaskData:r,maskData:o,returnMask:0===y,returnEncodedMask:0===y,returnFileInfo:!0,returnPixelInterleavedDims:t.returnPixelInterleavedDims,pixelType:t.pixelType||null,noDataValue:t.noDataValue||null});n=V.fileInfo.eofOffset,o=V.maskData,0===y&&(r=V.encodedMaskData,W.width=V.width,W.height=V.height,W.dimCount=V.dimCount||1,W.pixelType=V.pixelType||V.fileInfo.pixelType,W.mask=o),i>1&&(o&&X.push(o),V.fileInfo.mask&&V.fileInfo.mask.numBytes>0&&G++),y++,W.pixels.push(V.pixelData),W.statistics.push({minValue:V.minValue,maxValue:V.maxValue,noDataValue:V.noDataValue,dimStats:V.dimStats})}if(i>1&&G>1){for(h=W.width*W.height,W.bandMasks=X,(o=new Uint8Array(h)).set(X[0]),u=1;u<X.length;u++)for(d=X[u],b=0;b<h;b++)o[b]=o[b]&d[b];W.maskData=o}return W}};e.exports?e.exports=o:this.Lerc=o}()}(Gn);var Vn=Gn.exports;function Yn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var l,i=y(e);if(t){var n=y(this).constructor;l=Reflect.construct(i,arguments,n)}else l=i.apply(this,arguments);return h(this,l)}}var xn=function(e){o(l,e);var t=Yn(l);function l(e){var i;return G(this,l),(i=t.call(this)).planarConfiguration=void 0!==e.PlanarConfiguration?e.PlanarConfiguration:1,i.samplesPerPixel=void 0!==e.SamplesPerPixel?e.SamplesPerPixel:1,i.addCompression=e.LercParameters[de.AddCompression],i}return m(l,[{key:"decodeBlock",value:function(e){switch(this.addCompression){case se.None:break;case se.Deflate:e=un(new Uint8Array(e)).buffer;break;default:throw new Error("Unsupported LERC additional compression method identifier: ".concat(this.addCompression))}return Vn.decode(e,{returnPixelInterleavedDims:1===this.planarConfiguration}).pixels[0].buffer}}]),l}(Wl),In=Object.freeze({__proto__:null,default:xn});function Kn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var l,i=y(e);if(t){var n=y(this).constructor;l=Reflect.construct(i,arguments,n)}else l=i.apply(this,arguments);return h(this,l)}}var Ln=function(e){o(i,e);var t,l=Kn(i);function i(){var e;if(G(this,i),e=l.call(this),"undefined"==typeof createImageBitmap)throw new Error("Cannot decode WebImage as `createImageBitmap` is not available");if("undefined"==typeof document&&"undefined"==typeof OffscreenCanvas)throw new Error("Cannot decode WebImage as neither `document` nor `OffscreenCanvas` is not available");return e}return m(i,[{key:"decode",value:(t=d(Y.mark((function e(t,l){var i,n,c,a;return Y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=new Blob([l]),e.next=3,createImageBitmap(i);case 3:return n=e.sent,"undefined"!=typeof document?((c=document.createElement("canvas")).width=n.width,c.height=n.height):c=new OffscreenCanvas(n.width,n.height),(a=c.getContext("2d")).drawImage(n,0,0),e.abrupt("return",a.getImageData(0,0,n.width,n.height).data.buffer);case 8:case"end":return e.stop()}}),e)}))),function(e,l){return t.apply(this,arguments)})}]),i}(Wl),fn=Object.freeze({__proto__:null,default:Ln}),Sn=Worker,Tn=Object.freeze({__proto__:null,create:function(){var e='function e(e,t,r,n,i,a,o){try{var s=e[a](o),f=s.value}catch(e){return void r(e)}s.done?t(f):Promise.resolve(f).then(n,i)}function t(t){return function(){var r=this,n=arguments;return new Promise((function(i,a){var o=t.apply(r,n);function s(t){e(o,i,a,s,f,"next",t)}function f(t){e(o,i,a,s,f,"throw",t)}s(void 0)}))}}function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}var n={exports:{}};!function(e){var t=function(e){var t,n=Object.prototype,i=n.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",f=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var i=t&&t.prototype instanceof y?t:y,a=Object.create(i.prototype),o=new T(n||[]);return a._invoke=function(e,t,r){var n=h;return function(i,a){if(n===p)throw new Error("Generator is already running");if(n===m){if("throw"===i)throw a;return E()}for(r.method=i,r.arg=a;;){var o=r.delegate;if(o){var s=I(o,r);if(s){if(s===v)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===h)throw n=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=p;var f=c(e,t,r);if("normal"===f.type){if(n=r.done?m:d,f.arg===v)continue;return{value:f.arg,done:r.done}}"throw"===f.type&&(n=m,r.method="throw",r.arg=f.arg)}}}(e,r,o),a}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var h="suspendedStart",d="suspendedYield",p="executing",m="completed",v={};function y(){}function w(){}function g(){}var b={};l(b,o,(function(){return this}));var k=Object.getPrototypeOf,x=k&&k(k(D([])));x&&x!==n&&i.call(x,o)&&(b=x);var _=g.prototype=y.prototype=Object.create(b);function A(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function P(e,t){function n(a,o,s,f){var l=c(e[a],e,o);if("throw"!==l.type){var u=l.arg,h=u.value;return h&&"object"===r(h)&&i.call(h,"__await")?t.resolve(h.__await).then((function(e){n("next",e,s,f)}),(function(e){n("throw",e,s,f)})):t.resolve(h).then((function(e){u.value=e,s(u)}),(function(e){return n("throw",e,s,f)}))}f(l.arg)}var a;this._invoke=function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return a=a?a.then(i,i):i()}}function I(e,r){var n=e.iterator[r.method];if(n===t){if(r.delegate=null,"throw"===r.method){if(e.iterator.return&&(r.method="return",r.arg=t,I(e,r),"throw"===r.method))return v;r.method="throw",r.arg=new TypeError("The iterator does not provide a \'throw\' method")}return v}var i=c(n,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function U(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(U,this),this.reset(!0)}function D(e){if(e){var r=e[o];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function r(){for(;++n<e.length;)if(i.call(e,n))return r.value=e[n],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}return{next:E}}function E(){return{value:t,done:!0}}return w.prototype=g,l(_,"constructor",g),l(g,"constructor",w),w.displayName=l(g,f,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,l(e,f,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},A(P.prototype),l(P.prototype,s,(function(){return this})),e.AsyncIterator=P,e.async=function(t,r,n,i,a){void 0===a&&(a=Promise);var o=new P(u(t,r,n,i),a);return e.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},A(_),l(_,f,"Generator"),l(_,o,(function(){return this})),l(_,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=D,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(S),!e)for(var r in this)"t"===r.charAt(0)&&i.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function n(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var f=i.call(o,"catchLoc"),l=i.call(o,"finallyLoc");if(f&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(f){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var a=n;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;S(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:D(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"===("undefined"==typeof globalThis?"undefined":r(globalThis))?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}}(n);var i=n.exports,a=new Map;function o(e,t){Array.isArray(e)||(e=[e]),e.forEach((function(e){return a.set(e,t)}))}function s(e){return f.apply(this,arguments)}function f(){return(f=t(i.mark((function e(t){var r,n;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.get(t.Compression)){e.next=3;break}throw new Error("Unknown compression method identifier: ".concat(t.Compression));case 3:return e.next=5,r();case 5:return n=e.sent,e.abrupt("return",new n(t));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}o([void 0,1],(function(){return Promise.resolve().then((function(){return _})).then((function(e){return e.default}))})),o(5,(function(){return Promise.resolve().then((function(){return S})).then((function(e){return e.default}))})),o(6,(function(){throw new Error("old style JPEG compression is not supported.")})),o(7,(function(){return Promise.resolve().then((function(){return L})).then((function(e){return e.default}))})),o([8,32946],(function(){return Promise.resolve().then((function(){return Ne})).then((function(e){return e.default}))})),o(32773,(function(){return Promise.resolve().then((function(){return Ye})).then((function(e){return e.default}))})),o(34887,(function(){return Promise.resolve().then((function(){return ut})).then((function(e){return e.default}))})),o(50001,(function(){return Promise.resolve().then((function(){return dt})).then((function(e){return e.default}))}));var l=globalThis;function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h(e,t,r){return t&&c(e.prototype,t),r&&c(e,r),e}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function m(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return e}(e)}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function y(e,t){var r=e.length-t,n=0;do{for(var i=t;i>0;i--)e[n+t]+=e[n],n++;r-=t}while(r>0)}function w(e,t,r){for(var n=0,i=e.length,a=i/r;i>t;){for(var o=t;o>0;--o)e[n+t]+=e[n],++n;i-=t}for(var s=e.slice(),f=0;f<a;++f)for(var l=0;l<r;++l)e[r*f+l]=s[(r-l-1)*a+f]}function g(e,t,r,n,i,a){if(!t||1===t)return e;for(var o=0;o<i.length;++o){if(i[o]%8!=0)throw new Error("When decoding with predictor, only multiple of 8 bits are supported.");if(i[o]!==i[0])throw new Error("When decoding with predictor, all samples must have the same size.")}for(var s=i[0]/8,f=2===a?1:i.length,l=0;l<n&&!(l*f*r*s>=e.byteLength);++l){var u=void 0;if(2===t){switch(i[0]){case 8:u=new Uint8Array(e,l*f*r*s,f*r*s);break;case 16:u=new Uint16Array(e,l*f*r*s,f*r*s/2);break;case 32:u=new Uint32Array(e,l*f*r*s,f*r*s/4);break;default:throw new Error("Predictor 2 not allowed with ".concat(i[0]," bits per sample."))}y(u,f)}else 3===t&&w(u=new Uint8Array(e,l*f*r*s,f*r*s),f,s)}return e}l.addEventListener("message",function(){var e=t(i.mark((function e(t){var r,n,a,o,f,u;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.data,n=r.id,a=r.fileDirectory,o=r.buffer,e.next=3,s(a);case 3:return f=e.sent,e.next=6,f.decode(a,o);case 6:u=e.sent,l.postMessage({decoded:u,id:n},[u]);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var b=function(){function e(){u(this,e)}var r;return h(e,[{key:"decode",value:(r=t(i.mark((function e(t,r){var n,a,o,s,f;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.decodeBlock(r);case 2:if(n=e.sent,1===(a=t.Predictor||1)){e.next=9;break}return o=!t.StripOffsets,s=o?t.TileWidth:t.ImageWidth,f=o?t.TileLength:t.RowsPerStrip||t.ImageLength,e.abrupt("return",g(n,a,s,f,t.BitsPerSample,t.PlanarConfiguration));case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})}]),e}();function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=v(e);if(t){var i=v(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return m(this,r)}}var x=function(e){p(r,b);var t=k(r);function r(){return u(this,r),t.apply(this,arguments)}return h(r,[{key:"decodeBlock",value:function(e){return e}}]),r}(),_=Object.freeze({__proto__:null,default:x});function A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=v(e);if(t){var i=v(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return m(this,r)}}function P(e,t){for(var r=t.length-1;r>=0;r--)e.push(t[r]);return e}function I(e){for(var t=new Uint16Array(4093),r=new Uint8Array(4093),n=0;n<=257;n++)t[n]=4096,r[n]=n;var i=258,a=9,o=0;function s(){i=258,a=9}function f(e){var t=function(e,t,r){var n=t%8,i=Math.floor(t/8),a=8-n,o=t+r-8*(i+1),s=8*(i+2)-(t+r),f=8*(i+2)-t;if(s=Math.max(0,s),i>=e.length)return console.warn("ran off the end of the buffer before finding EOI_CODE (end on input code)"),257;var l=e[i]&Math.pow(2,8-n)-1,u=l<<=r-a;if(i+1<e.length){var c=e[i+1]>>>s;u+=c<<=Math.max(0,r-f)}if(o>8&&i+2<e.length){var h=8*(i+3)-(t+r);u+=e[i+2]>>>h}return u}(e,o,a);return o+=a,t}function l(e,n){return r[i]=n,t[i]=e,++i-1}function u(e){for(var n=[],i=e;4096!==i;i=t[i])n.push(r[i]);return n}var c=[];s();for(var h,d=new Uint8Array(e),p=f(d);257!==p;){if(256===p){for(s(),p=f(d);256===p;)p=f(d);if(257===p)break;if(p>256)throw new Error("corrupted code at scanline ".concat(p));P(c,u(p)),h=p}else if(p<i){var m=u(p);P(c,m),l(h,m[m.length-1]),h=p}else{var v=u(h);if(!v)throw new Error("Bogus entry. Not in dictionary, ".concat(h," / ").concat(i,", position: ").concat(o));P(c,v),c.push(v[v.length-1]),l(h,v[v.length-1]),h=p}i+1>=Math.pow(2,a)&&(12===a?h=void 0:a++),p=f(d)}return new Uint8Array(c)}var U=function(e){p(r,b);var t=A(r);function r(){return u(this,r),t.apply(this,arguments)}return h(r,[{key:"decodeBlock",value:function(e){return I(e).buffer}}]),r}(),S=Object.freeze({__proto__:null,default:U});function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=v(e);if(t){var i=v(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return m(this,r)}}var D=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]);function E(e,t){for(var r=0,n=[],i=16;i>0&&!e[i-1];)--i;n.push({children:[],index:0});for(var a,o=n[0],s=0;s<i;s++){for(var f=0;f<e[s];f++){for((o=n.pop()).children[o.index]=t[r];o.index>0;)o=n.pop();for(o.index++,n.push(o);n.length<=s;)n.push(a={children:[],index:0}),o.children[o.index]=a.children,o=a;r++}s+1<i&&(n.push(a={children:[],index:0}),o.children[o.index]=a.children,o=a)}return n[0].children}function B(e,t,n,i,a,o,s,f,l){var u=n.mcusPerLine,c=n.progressive,h=t,d=t,p=0,m=0;function v(){if(m>0)return m--,p>>m&1;if(255===(p=e[d++])){var t=e[d++];if(t)throw new Error("unexpected marker: ".concat((p<<8|t).toString(16)))}return m=7,p>>>7}function y(e){for(var t,n=e;null!==(t=v());){if("number"==typeof(n=n[t]))return n;if("object"!==r(n))throw new Error("invalid huffman sequence")}return null}function w(e){for(var t=e,r=0;t>0;){var n=v();if(null===n)return;r=r<<1|n,--t}return r}function g(e){var t=w(e);return t>=1<<e-1?t:t+(-1<<e)+1}var b=0;var k,x=0;function _(e,t,r,n,i){var a=r%u,o=(r/u|0)*e.v+n,s=a*e.h+i;t(e,e.blocks[o][s])}function A(e,t,r){var n=r/e.blocksPerLine|0,i=r%e.blocksPerLine;t(e,e.blocks[n][i])}var P,I,U,S,T,E,B=i.length;E=c?0===o?0===f?function(e,t){var r=y(e.huffmanTableDC),n=0===r?0:g(r)<<l;e.pred+=n,t[0]=e.pred}:function(e,t){t[0]|=v()<<l}:0===f?function(e,t){if(b>0)b--;else for(var r=o,n=s;r<=n;){var i=y(e.huffmanTableAC),a=15&i,f=i>>4;if(0===a){if(f<15){b=w(f)+(1<<f)-1;break}r+=16}else t[D[r+=f]]=g(a)*(1<<l),r++}}:function(e,t){for(var r=o,n=s,i=0;r<=n;){var a=D[r],f=t[a]<0?-1:1;switch(x){case 0:var u=y(e.huffmanTableAC),c=15&u;if(i=u>>4,0===c)i<15?(b=w(i)+(1<<i),x=4):(i=16,x=1);else{if(1!==c)throw new Error("invalid ACn encoding");k=g(c),x=i?2:3}continue;case 1:case 2:t[a]?t[a]+=(v()<<l)*f:0==--i&&(x=2===x?3:0);break;case 3:t[a]?t[a]+=(v()<<l)*f:(t[a]=k<<l,x=0);break;case 4:t[a]&&(t[a]+=(v()<<l)*f)}r++}4===x&&0==--b&&(x=0)}:function(e,t){var r=y(e.huffmanTableDC),n=0===r?0:g(r);e.pred+=n,t[0]=e.pred;for(var i=1;i<64;){var a=y(e.huffmanTableAC),o=15&a,s=a>>4;if(0===o){if(s<15)break;i+=16}else t[D[i+=s]]=g(o),i++}};var O,M,C=0;M=1===B?i[0].blocksPerLine*i[0].blocksPerColumn:u*n.mcusPerColumn;for(var L=a||M;C<M;){for(I=0;I<B;I++)i[I].pred=0;if(b=0,1===B)for(P=i[0],T=0;T<L;T++)A(P,E,C),C++;else for(T=0;T<L;T++){for(I=0;I<B;I++){var R=P=i[I],V=R.h,G=R.v;for(U=0;U<G;U++)for(S=0;S<V;S++)_(P,E,C,U,S)}if(++C===M)break}if(m=0,(O=e[d]<<8|e[d+1])<65280)throw new Error("marker was not found");if(!(O>=65488&&O<=65495))break;d+=2}return d-h}function O(e,t){var r=[],n=t.blocksPerLine,i=t.blocksPerColumn,a=n<<3,o=new Int32Array(64),s=new Uint8Array(64);function f(e,r,n){var i,a,o,s,f,l,u,c,h,d,p=t.quantizationTable,m=n;for(d=0;d<64;d++)m[d]=e[d]*p[d];for(d=0;d<8;++d){var v=8*d;0!==m[1+v]||0!==m[2+v]||0!==m[3+v]||0!==m[4+v]||0!==m[5+v]||0!==m[6+v]||0!==m[7+v]?(i=5793*m[0+v]+128>>8,a=5793*m[4+v]+128>>8,o=m[2+v],s=m[6+v],f=2896*(m[1+v]-m[7+v])+128>>8,c=2896*(m[1+v]+m[7+v])+128>>8,l=m[3+v]<<4,h=i-a+1>>1,i=i+a+1>>1,a=h,h=3784*o+1567*s+128>>8,o=1567*o-3784*s+128>>8,s=h,h=f-(u=m[5+v]<<4)+1>>1,f=f+u+1>>1,u=h,h=c+l+1>>1,l=c-l+1>>1,c=h,h=i-s+1>>1,i=i+s+1>>1,s=h,h=a-o+1>>1,a=a+o+1>>1,o=h,h=2276*f+3406*c+2048>>12,f=3406*f-2276*c+2048>>12,c=h,h=799*l+4017*u+2048>>12,l=4017*l-799*u+2048>>12,u=h,m[0+v]=i+c,m[7+v]=i-c,m[1+v]=a+u,m[6+v]=a-u,m[2+v]=o+l,m[5+v]=o-l,m[3+v]=s+f,m[4+v]=s-f):(h=5793*m[0+v]+512>>10,m[0+v]=h,m[1+v]=h,m[2+v]=h,m[3+v]=h,m[4+v]=h,m[5+v]=h,m[6+v]=h,m[7+v]=h)}for(d=0;d<8;++d){var y=d;0!==m[8+y]||0!==m[16+y]||0!==m[24+y]||0!==m[32+y]||0!==m[40+y]||0!==m[48+y]||0!==m[56+y]?(i=5793*m[0+y]+2048>>12,a=5793*m[32+y]+2048>>12,o=m[16+y],s=m[48+y],f=2896*(m[8+y]-m[56+y])+2048>>12,c=2896*(m[8+y]+m[56+y])+2048>>12,l=m[24+y],h=i-a+1>>1,i=i+a+1>>1,a=h,h=3784*o+1567*s+2048>>12,o=1567*o-3784*s+2048>>12,s=h,h=f-(u=m[40+y])+1>>1,f=f+u+1>>1,u=h,h=c+l+1>>1,l=c-l+1>>1,c=h,h=i-s+1>>1,i=i+s+1>>1,s=h,h=a-o+1>>1,a=a+o+1>>1,o=h,h=2276*f+3406*c+2048>>12,f=3406*f-2276*c+2048>>12,c=h,h=799*l+4017*u+2048>>12,l=4017*l-799*u+2048>>12,u=h,m[0+y]=i+c,m[56+y]=i-c,m[8+y]=a+u,m[48+y]=a-u,m[16+y]=o+l,m[40+y]=o-l,m[24+y]=s+f,m[32+y]=s-f):(h=5793*n[d+0]+8192>>14,m[0+y]=h,m[8+y]=h,m[16+y]=h,m[24+y]=h,m[32+y]=h,m[40+y]=h,m[48+y]=h,m[56+y]=h)}for(d=0;d<64;++d){var w=128+(m[d]+8>>4);r[d]=w<0?0:w>255?255:w}}for(var l=0;l<i;l++){for(var u=l<<3,c=0;c<8;c++)r.push(new Uint8Array(a));for(var h=0;h<n;h++){f(t.blocks[l][h],s,o);for(var d=0,p=h<<3,m=0;m<8;m++)for(var v=r[u+m],y=0;y<8;y++)v[p+y]=s[d++]}}return r}var M=function(){function e(){u(this,e),this.jfif=null,this.adobe=null,this.quantizationTables=[],this.huffmanTablesAC=[],this.huffmanTablesDC=[],this.resetFrames()}return h(e,[{key:"resetFrames",value:function(){this.frames=[]}},{key:"parse",value:function(e){var t=0;function r(){var r=e[t]<<8|e[t+1];return t+=2,r}function n(e){var t,r,n=0,i=0;for(r in e.components)e.components.hasOwnProperty(r)&&(n<(t=e.components[r]).h&&(n=t.h),i<t.v&&(i=t.v));var a=Math.ceil(e.samplesPerLine/8/n),o=Math.ceil(e.scanLines/8/i);for(r in e.components)if(e.components.hasOwnProperty(r)){t=e.components[r];for(var s=Math.ceil(Math.ceil(e.samplesPerLine/8)*t.h/n),f=Math.ceil(Math.ceil(e.scanLines/8)*t.v/i),l=a*t.h,u=o*t.v,c=[],h=0;h<u;h++){for(var d=[],p=0;p<l;p++)d.push(new Int32Array(64));c.push(d)}t.blocksPerLine=s,t.blocksPerColumn=f,t.blocks=c}e.maxH=n,e.maxV=i,e.mcusPerLine=a,e.mcusPerColumn=o}var i,a,o=r();if(65496!==o)throw new Error("SOI not found");for(o=r();65497!==o;){switch(o){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var s=(i=void 0,a=void 0,i=r(),a=e.subarray(t,t+i-2),t+=a.length,a);65504===o&&74===s[0]&&70===s[1]&&73===s[2]&&70===s[3]&&0===s[4]&&(this.jfif={version:{major:s[5],minor:s[6]},densityUnits:s[7],xDensity:s[8]<<8|s[9],yDensity:s[10]<<8|s[11],thumbWidth:s[12],thumbHeight:s[13],thumbData:s.subarray(14,14+3*s[12]*s[13])}),65518===o&&65===s[0]&&100===s[1]&&111===s[2]&&98===s[3]&&101===s[4]&&0===s[5]&&(this.adobe={version:s[6],flags0:s[7]<<8|s[8],flags1:s[9]<<8|s[10],transformCode:s[11]});break;case 65499:for(var f=r()+t-2;t<f;){var l=e[t++],u=new Int32Array(64);if(l>>4==0)for(var c=0;c<64;c++){u[D[c]]=e[t++]}else{if(l>>4!=1)throw new Error("DQT: invalid table spec");for(var h=0;h<64;h++){u[D[h]]=r()}}this.quantizationTables[15&l]=u}break;case 65472:case 65473:case 65474:r();for(var d={extended:65473===o,progressive:65474===o,precision:e[t++],scanLines:r(),samplesPerLine:r(),components:{},componentsOrder:[]},p=e[t++],m=void 0,v=0;v<p;v++){m=e[t];var y=e[t+1]>>4,w=15&e[t+1],g=e[t+2];d.componentsOrder.push(m),d.components[m]={h:y,v:w,quantizationIdx:g},t+=3}n(d),this.frames.push(d);break;case 65476:for(var b=r(),k=2;k<b;){for(var x=e[t++],_=new Uint8Array(16),A=0,P=0;P<16;P++,t++)_[P]=e[t],A+=_[P];for(var I=new Uint8Array(A),U=0;U<A;U++,t++)I[U]=e[t];k+=17+A,x>>4==0?this.huffmanTablesDC[15&x]=E(_,I):this.huffmanTablesAC[15&x]=E(_,I)}break;case 65501:r(),this.resetInterval=r();break;case 65498:r();for(var S=e[t++],T=[],O=this.frames[0],M=0;M<S;M++){var C=O.components[e[t++]],L=e[t++];C.huffmanTableDC=this.huffmanTablesDC[L>>4],C.huffmanTableAC=this.huffmanTablesAC[15&L],T.push(C)}var R=e[t++],V=e[t++],G=e[t++],F=B(e,t,O,T,this.resetInterval,R,V,G>>4,15&G);t+=F;break;case 65535:255!==e[t]&&t--;break;default:if(255===e[t-3]&&e[t-2]>=192&&e[t-2]<=254){t-=3;break}throw new Error("unknown JPEG marker ".concat(o.toString(16)))}o=r()}}},{key:"getResult",value:function(){var e=this.frames;if(0===this.frames.length)throw new Error("no frames were decoded");this.frames.length>1&&console.warn("more than one frame is not supported");for(var t=0;t<this.frames.length;t++)for(var r=this.frames[t].components,n=0,i=Object.keys(r);n<i.length;n++){var a=i[n];r[a].quantizationTable=this.quantizationTables[r[a].quantizationIdx],delete r[a].quantizationIdx}for(var o=e[0],s=o.components,f=o.componentsOrder,l=[],u=o.samplesPerLine,c=o.scanLines,h=0;h<f.length;h++){var d=s[f[h]];l.push({lines:O(0,d),scaleX:d.h/o.maxH,scaleY:d.v/o.maxV})}for(var p=new Uint8Array(u*c*l.length),m=0,v=0;v<c;++v)for(var y=0;y<u;++y)for(var w=0;w<l.length;++w){var g=l[w];p[m]=g.lines[0|v*g.scaleY][0|y*g.scaleX],++m}return p}}]),e}(),C=function(e){p(r,b);var t=T(r);function r(e){var n;return u(this,r),(n=t.call(this)).reader=new M,e.JPEGTables&&n.reader.parse(e.JPEGTables),n}return h(r,[{key:"decodeBlock",value:function(e){return this.reader.resetFrames(),this.reader.parse(new Uint8Array(e)),this.reader.getResult().buffer}}]),r}(),L=Object.freeze({__proto__:null,default:C});function R(e){for(var t=e.length;--t>=0;)e[t]=0}R(new Array(576)),R(new Array(60)),R(new Array(512)),R(new Array(256)),R(new Array(29)),R(new Array(30));var V=function(e,t,r,n){for(var i=65535&e|0,a=e>>>16&65535|0,o=0;0!==r;){r-=o=r>2e3?2e3:r;do{a=a+(i=i+t[n++]|0)|0}while(--o);i%=65521,a%=65521}return i|a<<16|0},G=new Uint32Array(function(){for(var e,t=[],r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t}()),F=function(e,t,r,n){var i=G,a=n+r;e^=-1;for(var o=n;o<a;o++)e=e>>>8^i[255&(e^t[o])];return-1^e},z={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},j={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},N=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},Z=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!==r(n))throw new TypeError(n+"must be non-object");for(var i in n)N(n,i)&&(e[i]=n[i])}}return e},K=function(e){for(var t=0,r=0,n=e.length;r<n;r++)t+=e[r].length;for(var i=new Uint8Array(t),a=0,o=0,s=e.length;a<s;a++){var f=e[a];i.set(f,o),o+=f.length}return i},H=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){H=!1}for(var Y=new Uint8Array(256),X=0;X<256;X++)Y[X]=X>=252?6:X>=248?5:X>=240?4:X>=224?3:X>=192?2:1;Y[254]=Y[254]=1;var W=function(e){if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);var t,r,n,i,a,o=e.length,s=0;for(i=0;i<o;i++)55296==(64512&(r=e.charCodeAt(i)))&&i+1<o&&56320==(64512&(n=e.charCodeAt(i+1)))&&(r=65536+(r-55296<<10)+(n-56320),i++),s+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(s),a=0,i=0;a<s;i++)55296==(64512&(r=e.charCodeAt(i)))&&i+1<o&&56320==(64512&(n=e.charCodeAt(i+1)))&&(r=65536+(r-55296<<10)+(n-56320),i++),r<128?t[a++]=r:r<2048?(t[a++]=192|r>>>6,t[a++]=128|63&r):r<65536?(t[a++]=224|r>>>12,t[a++]=128|r>>>6&63,t[a++]=128|63&r):(t[a++]=240|r>>>18,t[a++]=128|r>>>12&63,t[a++]=128|r>>>6&63,t[a++]=128|63&r);return t},q=function(e,t){var r,n,i=t||e.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,t));var a=new Array(2*i);for(n=0,r=0;r<i;){var o=e[r++];if(o<128)a[n++]=o;else{var s=Y[o];if(s>4)a[n++]=65533,r+=s-1;else{for(o&=2===s?31:3===s?15:7;s>1&&r<i;)o=o<<6|63&e[r++],s--;s>1?a[n++]=65533:o<65536?a[n++]=o:(o-=65536,a[n++]=55296|o>>10&1023,a[n++]=56320|1023&o)}}}return function(e,t){if(t<65534&&e.subarray&&H)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));for(var r="",n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r}(a,n)},J=function(e,t){(t=t||e.length)>e.length&&(t=e.length);for(var r=t-1;r>=0&&128==(192&e[r]);)r--;return r<0||0===r?t:r+Y[e[r]]>t?r:t};var Q=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0},$=function(e,t){var r,n,i,a,o,s,f,l,u,c,h,d,p,m,v,y,w,g,b,k,x,_,A,P,I=e.state;r=e.next_in,A=e.input,n=r+(e.avail_in-5),i=e.next_out,P=e.output,a=i-(t-e.avail_out),o=i+(e.avail_out-257),s=I.dmax,f=I.wsize,l=I.whave,u=I.wnext,c=I.window,h=I.hold,d=I.bits,p=I.lencode,m=I.distcode,v=(1<<I.lenbits)-1,y=(1<<I.distbits)-1;e:do{d<15&&(h+=A[r++]<<d,d+=8,h+=A[r++]<<d,d+=8),w=p[h&v];t:for(;;){if(h>>>=g=w>>>24,d-=g,0===(g=w>>>16&255))P[i++]=65535&w;else{if(!(16&g)){if(0==(64&g)){w=p[(65535&w)+(h&(1<<g)-1)];continue t}if(32&g){I.mode=12;break e}e.msg="invalid literal/length code",I.mode=30;break e}b=65535&w,(g&=15)&&(d<g&&(h+=A[r++]<<d,d+=8),b+=h&(1<<g)-1,h>>>=g,d-=g),d<15&&(h+=A[r++]<<d,d+=8,h+=A[r++]<<d,d+=8),w=m[h&y];r:for(;;){if(h>>>=g=w>>>24,d-=g,!(16&(g=w>>>16&255))){if(0==(64&g)){w=m[(65535&w)+(h&(1<<g)-1)];continue r}e.msg="invalid distance code",I.mode=30;break e}if(k=65535&w,d<(g&=15)&&(h+=A[r++]<<d,(d+=8)<g&&(h+=A[r++]<<d,d+=8)),(k+=h&(1<<g)-1)>s){e.msg="invalid distance too far back",I.mode=30;break e}if(h>>>=g,d-=g,k>(g=i-a)){if((g=k-g)>l&&I.sane){e.msg="invalid distance too far back",I.mode=30;break e}if(x=0,_=c,0===u){if(x+=f-g,g<b){b-=g;do{P[i++]=c[x++]}while(--g);x=i-k,_=P}}else if(u<g){if(x+=f+u-g,(g-=u)<b){b-=g;do{P[i++]=c[x++]}while(--g);if(x=0,u<b){b-=g=u;do{P[i++]=c[x++]}while(--g);x=i-k,_=P}}}else if(x+=u-g,g<b){b-=g;do{P[i++]=c[x++]}while(--g);x=i-k,_=P}for(;b>2;)P[i++]=_[x++],P[i++]=_[x++],P[i++]=_[x++],b-=3;b&&(P[i++]=_[x++],b>1&&(P[i++]=_[x++]))}else{x=i-k;do{P[i++]=P[x++],P[i++]=P[x++],P[i++]=P[x++],b-=3}while(b>2);b&&(P[i++]=P[x++],b>1&&(P[i++]=P[x++]))}break}}break}}while(r<n&&i<o);r-=b=d>>3,h&=(1<<(d-=b<<3))-1,e.next_in=r,e.next_out=i,e.avail_in=r<n?n-r+5:5-(r-n),e.avail_out=i<o?o-i+257:257-(i-o),I.hold=h,I.bits=d},ee=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),te=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),re=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),ne=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),ie=function(e,t,r,n,i,a,o,s){var f,l,u,c,h,d,p,m,v,y=s.bits,w=0,g=0,b=0,k=0,x=0,_=0,A=0,P=0,I=0,U=0,S=null,T=0,D=new Uint16Array(16),E=new Uint16Array(16),B=null,O=0;for(w=0;w<=15;w++)D[w]=0;for(g=0;g<n;g++)D[t[r+g]]++;for(x=y,k=15;k>=1&&0===D[k];k--);if(x>k&&(x=k),0===k)return i[a++]=20971520,i[a++]=20971520,s.bits=1,0;for(b=1;b<k&&0===D[b];b++);for(x<b&&(x=b),P=1,w=1;w<=15;w++)if(P<<=1,(P-=D[w])<0)return-1;if(P>0&&(0===e||1!==k))return-1;for(E[1]=0,w=1;w<15;w++)E[w+1]=E[w]+D[w];for(g=0;g<n;g++)0!==t[r+g]&&(o[E[t[r+g]]++]=g);if(0===e?(S=B=o,d=19):1===e?(S=ee,T-=257,B=te,O-=257,d=256):(S=re,B=ne,d=-1),U=0,g=0,w=b,h=a,_=x,A=0,u=-1,c=(I=1<<x)-1,1===e&&I>852||2===e&&I>592)return 1;for(;;){p=w-A,o[g]<d?(m=0,v=o[g]):o[g]>d?(m=B[O+o[g]],v=S[T+o[g]]):(m=96,v=0),f=1<<w-A,b=l=1<<_;do{i[h+(U>>A)+(l-=f)]=p<<24|m<<16|v|0}while(0!==l);for(f=1<<w-1;U&f;)f>>=1;if(0!==f?(U&=f-1,U+=f):U=0,g++,0==--D[w]){if(w===k)break;w=t[r+o[g]]}if(w>x&&(U&c)!==u){for(0===A&&(A=x),h+=b,P=1<<(_=w-A);_+A<k&&!((P-=D[_+A])<=0);)_++,P<<=1;if(I+=1<<_,1===e&&I>852||2===e&&I>592)return 1;i[u=U&c]=x<<24|_<<16|h-a|0}}return 0!==U&&(i[h+U]=w-A<<24|64<<16|0),s.bits=x,0},ae=j.Z_FINISH,oe=j.Z_BLOCK,se=j.Z_TREES,fe=j.Z_OK,le=j.Z_STREAM_END,ue=j.Z_NEED_DICT,ce=j.Z_STREAM_ERROR,he=j.Z_DATA_ERROR,de=j.Z_MEM_ERROR,pe=j.Z_BUF_ERROR,me=j.Z_DEFLATED,ve=function(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)};function ye(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}var we,ge,be=function(e){if(!e||!e.state)return ce;var t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,fe},ke=function(e){if(!e||!e.state)return ce;var t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,be(e)},xe=function(e,t){var r;if(!e||!e.state)return ce;var n=e.state;return t<0?(r=0,t=-t):(r=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?ce:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,ke(e))},_e=function(e,t){if(!e)return ce;var r=new ye;e.state=r,r.window=null;var n=xe(e,t);return n!==fe&&(e.state=null),n},Ae=!0,Pe=function(e){if(Ae){we=new Int32Array(512),ge=new Int32Array(32);for(var t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(ie(1,e.lens,0,288,we,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;ie(2,e.lens,0,32,ge,0,e.work,{bits:5}),Ae=!1}e.lencode=we,e.lenbits=9,e.distcode=ge,e.distbits=5},Ie=function(e,t,r,n){var i,a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),n>=a.wsize?(a.window.set(t.subarray(r-a.wsize,r),0),a.wnext=0,a.whave=a.wsize):((i=a.wsize-a.wnext)>n&&(i=n),a.window.set(t.subarray(r-n,r-n+i),a.wnext),(n-=i)?(a.window.set(t.subarray(r-n,r),0),a.wnext=n,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0},Ue={inflateReset:ke,inflateReset2:xe,inflateResetKeep:be,inflateInit:function(e){return _e(e,15)},inflateInit2:_e,inflate:function(e,t){var r,n,i,a,o,s,f,l,u,c,h,d,p,m,v,y,w,g,b,k,x,_,A,P,I=0,U=new Uint8Array(4),S=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return ce;12===(r=e.state).mode&&(r.mode=13),o=e.next_out,i=e.output,f=e.avail_out,a=e.next_in,n=e.input,s=e.avail_in,l=r.hold,u=r.bits,c=s,h=f,_=fe;e:for(;;)switch(r.mode){case 1:if(0===r.wrap){r.mode=13;break}for(;u<16;){if(0===s)break e;s--,l+=n[a++]<<u,u+=8}if(2&r.wrap&&35615===l){r.check=0,U[0]=255&l,U[1]=l>>>8&255,r.check=F(r.check,U,2,0),l=0,u=0,r.mode=2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&l)<<8)+(l>>8))%31){e.msg="incorrect header check",r.mode=30;break}if((15&l)!==me){e.msg="unknown compression method",r.mode=30;break}if(u-=4,x=8+(15&(l>>>=4)),0===r.wbits)r.wbits=x;else if(x>r.wbits){e.msg="invalid window size",r.mode=30;break}r.dmax=1<<r.wbits,e.adler=r.check=1,r.mode=512&l?10:12,l=0,u=0;break;case 2:for(;u<16;){if(0===s)break e;s--,l+=n[a++]<<u,u+=8}if(r.flags=l,(255&r.flags)!==me){e.msg="unknown compression method",r.mode=30;break}if(57344&r.flags){e.msg="unknown header flags set",r.mode=30;break}r.head&&(r.head.text=l>>8&1),512&r.flags&&(U[0]=255&l,U[1]=l>>>8&255,r.check=F(r.check,U,2,0)),l=0,u=0,r.mode=3;case 3:for(;u<32;){if(0===s)break e;s--,l+=n[a++]<<u,u+=8}r.head&&(r.head.time=l),512&r.flags&&(U[0]=255&l,U[1]=l>>>8&255,U[2]=l>>>16&255,U[3]=l>>>24&255,r.check=F(r.check,U,4,0)),l=0,u=0,r.mode=4;case 4:for(;u<16;){if(0===s)break e;s--,l+=n[a++]<<u,u+=8}r.head&&(r.head.xflags=255&l,r.head.os=l>>8),512&r.flags&&(U[0]=255&l,U[1]=l>>>8&255,r.check=F(r.check,U,2,0)),l=0,u=0,r.mode=5;case 5:if(1024&r.flags){for(;u<16;){if(0===s)break e;s--,l+=n[a++]<<u,u+=8}r.length=l,r.head&&(r.head.extra_len=l),512&r.flags&&(U[0]=255&l,U[1]=l>>>8&255,r.check=F(r.check,U,2,0)),l=0,u=0}else r.head&&(r.head.extra=null);r.mode=6;case 6:if(1024&r.flags&&((d=r.length)>s&&(d=s),d&&(r.head&&(x=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(a,a+d),x)),512&r.flags&&(r.check=F(r.check,n,d,a)),s-=d,a+=d,r.length-=d),r.length))break e;r.length=0,r.mode=7;case 7:if(2048&r.flags){if(0===s)break e;d=0;do{x=n[a+d++],r.head&&x&&r.length<65536&&(r.head.name+=String.fromCharCode(x))}while(x&&d<s);if(512&r.flags&&(r.check=F(r.check,n,d,a)),s-=d,a+=d,x)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=8;case 8:if(4096&r.flags){if(0===s)break e;d=0;do{x=n[a+d++],r.head&&x&&r.length<65536&&(r.head.comment+=String.fromCharCode(x))}while(x&&d<s);if(512&r.flags&&(r.check=F(r.check,n,d,a)),s-=d,a+=d,x)break e}else r.head&&(r.head.comment=null);r.mode=9;case 9:if(512&r.flags){for(;u<16;){if(0===s)break e;s--,l+=n[a++]<<u,u+=8}if(l!==(65535&r.check)){e.msg="header crc mismatch",r.mode=30;break}l=0,u=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=12;break;case 10:for(;u<32;){if(0===s)break e;s--,l+=n[a++]<<u,u+=8}e.adler=r.check=ve(l),l=0,u=0,r.mode=11;case 11:if(0===r.havedict)return e.next_out=o,e.avail_out=f,e.next_in=a,e.avail_in=s,r.hold=l,r.bits=u,ue;e.adler=r.check=1,r.mode=12;case 12:if(t===oe||t===se)break e;case 13:if(r.last){l>>>=7&u,u-=7&u,r.mode=27;break}for(;u<3;){if(0===s)break e;s--,l+=n[a++]<<u,u+=8}switch(r.last=1&l,u-=1,3&(l>>>=1)){case 0:r.mode=14;break;case 1:if(Pe(r),r.mode=20,t===se){l>>>=2,u-=2;break e}break;case 2:r.mode=17;break;case 3:e.msg="invalid block type",r.mode=30}l>>>=2,u-=2;break;case 14:for(l>>>=7&u,u-=7&u;u<32;){if(0===s)break e;s--,l+=n[a++]<<u,u+=8}if((65535&l)!=(l>>>16^65535)){e.msg="invalid stored block lengths",r.mode=30;break}if(r.length=65535&l,l=0,u=0,r.mode=15,t===se)break e;case 15:r.mode=16;case 16:if(d=r.length){if(d>s&&(d=s),d>f&&(d=f),0===d)break e;i.set(n.subarray(a,a+d),o),s-=d,a+=d,f-=d,o+=d,r.length-=d;break}r.mode=12;break;case 17:for(;u<14;){if(0===s)break e;s--,l+=n[a++]<<u,u+=8}if(r.nlen=257+(31&l),l>>>=5,u-=5,r.ndist=1+(31&l),l>>>=5,u-=5,r.ncode=4+(15&l),l>>>=4,u-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=30;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;u<3;){if(0===s)break e;s--,l+=n[a++]<<u,u+=8}r.lens[S[r.have++]]=7&l,l>>>=3,u-=3}for(;r.have<19;)r.lens[S[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,A={bits:r.lenbits},_=ie(0,r.lens,0,19,r.lencode,0,r.work,A),r.lenbits=A.bits,_){e.msg="invalid code lengths set",r.mode=30;break}r.have=0,r.mode=19;case 19:for(;r.have<r.nlen+r.ndist;){for(;y=(I=r.lencode[l&(1<<r.lenbits)-1])>>>16&255,w=65535&I,!((v=I>>>24)<=u);){if(0===s)break e;s--,l+=n[a++]<<u,u+=8}if(w<16)l>>>=v,u-=v,r.lens[r.have++]=w;else{if(16===w){for(P=v+2;u<P;){if(0===s)break e;s--,l+=n[a++]<<u,u+=8}if(l>>>=v,u-=v,0===r.have){e.msg="invalid bit length repeat",r.mode=30;break}x=r.lens[r.have-1],d=3+(3&l),l>>>=2,u-=2}else if(17===w){for(P=v+3;u<P;){if(0===s)break e;s--,l+=n[a++]<<u,u+=8}u-=v,x=0,d=3+(7&(l>>>=v)),l>>>=3,u-=3}else{for(P=v+7;u<P;){if(0===s)break e;s--,l+=n[a++]<<u,u+=8}u-=v,x=0,d=11+(127&(l>>>=v)),l>>>=7,u-=7}if(r.have+d>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=30;break}for(;d--;)r.lens[r.have++]=x}}if(30===r.mode)break;if(0===r.lens[256]){e.msg="invalid code -- missing end-of-block",r.mode=30;break}if(r.lenbits=9,A={bits:r.lenbits},_=ie(1,r.lens,0,r.nlen,r.lencode,0,r.work,A),r.lenbits=A.bits,_){e.msg="invalid literal/lengths set",r.mode=30;break}if(r.distbits=6,r.distcode=r.distdyn,A={bits:r.distbits},_=ie(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,A),r.distbits=A.bits,_){e.msg="invalid distances set",r.mode=30;break}if(r.mode=20,t===se)break e;case 20:r.mode=21;case 21:if(s>=6&&f>=258){e.next_out=o,e.avail_out=f,e.next_in=a,e.avail_in=s,r.hold=l,r.bits=u,$(e,h),o=e.next_out,i=e.output,f=e.avail_out,a=e.next_in,n=e.input,s=e.avail_in,l=r.hold,u=r.bits,12===r.mode&&(r.back=-1);break}for(r.back=0;y=(I=r.lencode[l&(1<<r.lenbits)-1])>>>16&255,w=65535&I,!((v=I>>>24)<=u);){if(0===s)break e;s--,l+=n[a++]<<u,u+=8}if(y&&0==(240&y)){for(g=v,b=y,k=w;y=(I=r.lencode[k+((l&(1<<g+b)-1)>>g)])>>>16&255,w=65535&I,!(g+(v=I>>>24)<=u);){if(0===s)break e;s--,l+=n[a++]<<u,u+=8}l>>>=g,u-=g,r.back+=g}if(l>>>=v,u-=v,r.back+=v,r.length=w,0===y){r.mode=26;break}if(32&y){r.back=-1,r.mode=12;break}if(64&y){e.msg="invalid literal/length code",r.mode=30;break}r.extra=15&y,r.mode=22;case 22:if(r.extra){for(P=r.extra;u<P;){if(0===s)break e;s--,l+=n[a++]<<u,u+=8}r.length+=l&(1<<r.extra)-1,l>>>=r.extra,u-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;y=(I=r.distcode[l&(1<<r.distbits)-1])>>>16&255,w=65535&I,!((v=I>>>24)<=u);){if(0===s)break e;s--,l+=n[a++]<<u,u+=8}if(0==(240&y)){for(g=v,b=y,k=w;y=(I=r.distcode[k+((l&(1<<g+b)-1)>>g)])>>>16&255,w=65535&I,!(g+(v=I>>>24)<=u);){if(0===s)break e;s--,l+=n[a++]<<u,u+=8}l>>>=g,u-=g,r.back+=g}if(l>>>=v,u-=v,r.back+=v,64&y){e.msg="invalid distance code",r.mode=30;break}r.offset=w,r.extra=15&y,r.mode=24;case 24:if(r.extra){for(P=r.extra;u<P;){if(0===s)break e;s--,l+=n[a++]<<u,u+=8}r.offset+=l&(1<<r.extra)-1,l>>>=r.extra,u-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=30;break}r.mode=25;case 25:if(0===f)break e;if(d=h-f,r.offset>d){if((d=r.offset-d)>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=30;break}d>r.wnext?(d-=r.wnext,p=r.wsize-d):p=r.wnext-d,d>r.length&&(d=r.length),m=r.window}else m=i,p=o-r.offset,d=r.length;d>f&&(d=f),f-=d,r.length-=d;do{i[o++]=m[p++]}while(--d);0===r.length&&(r.mode=21);break;case 26:if(0===f)break e;i[o++]=r.length,f--,r.mode=21;break;case 27:if(r.wrap){for(;u<32;){if(0===s)break e;s--,l|=n[a++]<<u,u+=8}if(h-=f,e.total_out+=h,r.total+=h,h&&(e.adler=r.check=r.flags?F(r.check,i,h,o-h):V(r.check,i,h,o-h)),h=f,(r.flags?l:ve(l))!==r.check){e.msg="incorrect data check",r.mode=30;break}l=0,u=0}r.mode=28;case 28:if(r.wrap&&r.flags){for(;u<32;){if(0===s)break e;s--,l+=n[a++]<<u,u+=8}if(l!==(4294967295&r.total)){e.msg="incorrect length check",r.mode=30;break}l=0,u=0}r.mode=29;case 29:_=le;break e;case 30:_=he;break e;case 31:return de;default:return ce}return e.next_out=o,e.avail_out=f,e.next_in=a,e.avail_in=s,r.hold=l,r.bits=u,(r.wsize||h!==e.avail_out&&r.mode<30&&(r.mode<27||t!==ae))&&Ie(e,e.output,e.next_out,h-e.avail_out),c-=e.avail_in,h-=e.avail_out,e.total_in+=c,e.total_out+=h,r.total+=h,r.wrap&&h&&(e.adler=r.check=r.flags?F(r.check,i,h,e.next_out-h):V(r.check,i,h,e.next_out-h)),e.data_type=r.bits+(r.last?64:0)+(12===r.mode?128:0)+(20===r.mode||15===r.mode?256:0),(0===c&&0===h||t===ae)&&_===fe&&(_=pe),_},inflateEnd:function(e){if(!e||!e.state)return ce;var t=e.state;return t.window&&(t.window=null),e.state=null,fe},inflateGetHeader:function(e,t){if(!e||!e.state)return ce;var r=e.state;return 0==(2&r.wrap)?ce:(r.head=t,t.done=!1,fe)},inflateSetDictionary:function(e,t){var r,n=t.length;return e&&e.state?0!==(r=e.state).wrap&&11!==r.mode?ce:11===r.mode&&V(1,t,n,0)!==r.check?he:Ie(e,t,n,n)?(r.mode=31,de):(r.havedict=1,fe):ce},inflateInfo:"pako inflate (from Nodeca project)"};var Se=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1},Te=Object.prototype.toString,De=j.Z_NO_FLUSH,Ee=j.Z_FINISH,Be=j.Z_OK,Oe=j.Z_STREAM_END,Me=j.Z_NEED_DICT,Ce=j.Z_STREAM_ERROR,Le=j.Z_DATA_ERROR,Re=j.Z_MEM_ERROR;function Ve(e){this.options=Z({chunkSize:65536,windowBits:15,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Q,this.strm.avail_out=0;var r=Ue.inflateInit2(this.strm,t.windowBits);if(r!==Be)throw new Error(z[r]);if(this.header=new Se,Ue.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=W(t.dictionary):"[object ArrayBuffer]"===Te.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=Ue.inflateSetDictionary(this.strm,t.dictionary))!==Be))throw new Error(z[r])}function Ge(e,t){var r=new Ve(t);if(r.push(e),r.err)throw r.msg||z[r.err];return r.result}Ve.prototype.push=function(e,t){var r,n,i,a=this.strm,o=this.options.chunkSize,s=this.options.dictionary;if(this.ended)return!1;for(n=t===~~t?t:!0===t?Ee:De,"[object ArrayBuffer]"===Te.call(e)?a.input=new Uint8Array(e):a.input=e,a.next_in=0,a.avail_in=a.input.length;;){for(0===a.avail_out&&(a.output=new Uint8Array(o),a.next_out=0,a.avail_out=o),(r=Ue.inflate(a,n))===Me&&s&&((r=Ue.inflateSetDictionary(a,s))===Be?r=Ue.inflate(a,n):r===Le&&(r=Me));a.avail_in>0&&r===Oe&&a.state.wrap>0&&0!==e[a.next_in];)Ue.inflateReset(a),r=Ue.inflate(a,n);switch(r){case Ce:case Le:case Me:case Re:return this.onEnd(r),this.ended=!0,!1}if(i=a.avail_out,a.next_out&&(0===a.avail_out||r===Oe))if("string"===this.options.to){var f=J(a.output,a.next_out),l=a.next_out-f,u=q(a.output,f);a.next_out=l,a.avail_out=o-l,l&&a.output.set(a.output.subarray(f,f+l),0),this.onData(u)}else this.onData(a.output.length===a.next_out?a.output:a.output.subarray(0,a.next_out));if(r!==Be||0!==i){if(r===Oe)return r=Ue.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,!0;if(0===a.avail_in)break}}return!0},Ve.prototype.onData=function(e){this.chunks.push(e)},Ve.prototype.onEnd=function(e){e===Be&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=K(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var Fe={Inflate:Ve,inflate:Ge,inflateRaw:function(e,t){return(t=t||{}).raw=!0,Ge(e,t)},ungzip:Ge,constants:j}.inflate;function ze(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=v(e);if(t){var i=v(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return m(this,r)}}var je=function(e){p(r,b);var t=ze(r);function r(){return u(this,r),t.apply(this,arguments)}return h(r,[{key:"decodeBlock",value:function(e){return Fe(new Uint8Array(e)).buffer}}]),r}(),Ne=Object.freeze({__proto__:null,default:je});function Ze(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=v(e);if(t){var i=v(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return m(this,r)}}var Ke,He=function(e){p(r,b);var t=Ze(r);function r(){return u(this,r),t.apply(this,arguments)}return h(r,[{key:"decodeBlock",value:function(e){for(var t=new DataView(e),r=[],n=0;n<e.byteLength;++n){var i=t.getInt8(n);if(i<0){var a=t.getUint8(n+1);i=-i;for(var o=0;o<=i;++o)r.push(a);n+=1}else{for(var s=0;s<=i;++s)r.push(t.getUint8(n+s+1));n+=i+1}}return new Uint8Array(r).buffer}}]),r}(),Ye=Object.freeze({__proto__:null,default:He}),Xe={exports:{}};Ke=Xe,\n/* Copyright 2015-2021 Esri. Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 @preserve */\nfunction(){var e,t,r,n,i,a,o,s,f,l,u,c,h,d,p,m,v=(e={defaultNoDataValue:-34027999387901484e22,decode:function(a,o){var s=(o=o||{}).encodedMaskData||null===o.encodedMaskData,f=i(a,o.inputOffset||0,s),l=null!==o.noDataValue?o.noDataValue:e.defaultNoDataValue,u=t(f,o.pixelType||Float32Array,o.encodedMaskData,l,o.returnMask),c={width:f.width,height:f.height,pixelData:u.resultPixels,minValue:u.minValue,maxValue:f.pixels.maxValue,noDataValue:l};return u.resultMask&&(c.maskData=u.resultMask),o.returnEncodedMask&&f.mask&&(c.encodedMaskData=f.mask.bitset?f.mask.bitset:null),o.returnFileInfo&&(c.fileInfo=r(f),o.computeUsedBitDepths&&(c.fileInfo.bitDepths=n(f))),c}},t=function(e,t,r,n,i){var o,s,f,l=0,u=e.pixels.numBlocksX,c=e.pixels.numBlocksY,h=Math.floor(e.width/u),d=Math.floor(e.height/c),p=2*e.maxZError,m=Number.MAX_VALUE;r=r||(e.mask?e.mask.bitset:null),s=new t(e.width*e.height),i&&r&&(f=new Uint8Array(e.width*e.height));for(var v,y,w=new Float32Array(h*d),g=0;g<=c;g++){var b=g!==c?d:e.height%c;if(0!==b)for(var k=0;k<=u;k++){var x=k!==u?h:e.width%u;if(0!==x){var _,A,P,I,U=g*e.width*d+k*h,S=e.width-x,T=e.pixels.blocks[l];if(T.encoding<2?(0===T.encoding?_=T.rawData:(a(T.stuffedData,T.bitsPerPixel,T.numValidPixels,T.offset,p,w,e.pixels.maxValue),_=w),A=0):P=2===T.encoding?0:T.offset,r)for(y=0;y<b;y++){for(7&U&&(I=r[U>>3],I<<=7&U),v=0;v<x;v++)7&U||(I=r[U>>3]),128&I?(f&&(f[U]=1),m=m>(o=T.encoding<2?_[A++]:P)?o:m,s[U++]=o):(f&&(f[U]=0),s[U++]=n),I<<=1;U+=S}else if(T.encoding<2)for(y=0;y<b;y++){for(v=0;v<x;v++)m=m>(o=_[A++])?o:m,s[U++]=o;U+=S}else for(m=m>P?P:m,y=0;y<b;y++){for(v=0;v<x;v++)s[U++]=P;U+=S}if(1===T.encoding&&A!==T.numValidPixels)throw"Block and Mask do not match";l++}}}return{resultPixels:s,resultMask:f,minValue:m}},r=function(e){return{fileIdentifierString:e.fileIdentifierString,fileVersion:e.fileVersion,imageType:e.imageType,height:e.height,width:e.width,maxZError:e.maxZError,eofOffset:e.eofOffset,mask:e.mask?{numBlocksX:e.mask.numBlocksX,numBlocksY:e.mask.numBlocksY,numBytes:e.mask.numBytes,maxValue:e.mask.maxValue}:null,pixels:{numBlocksX:e.pixels.numBlocksX,numBlocksY:e.pixels.numBlocksY,numBytes:e.pixels.numBytes,maxValue:e.pixels.maxValue,noDataValue:e.noDataValue}}},n=function(e){for(var t=e.pixels.numBlocksX*e.pixels.numBlocksY,r={},n=0;n<t;n++){var i=e.pixels.blocks[n];0===i.encoding?r.float32=!0:1===i.encoding?r[i.bitsPerPixel]=!0:r[0]=!0}return Object.keys(r)},i=function(e,t,r){var n={},i=new Uint8Array(e,t,10);if(n.fileIdentifierString=String.fromCharCode.apply(null,i),"CntZImage"!==n.fileIdentifierString.trim())throw"Unexpected file identifier string: "+n.fileIdentifierString;t+=10;var a=new DataView(e,t,24);if(n.fileVersion=a.getInt32(0,!0),n.imageType=a.getInt32(4,!0),n.height=a.getUint32(8,!0),n.width=a.getUint32(12,!0),n.maxZError=a.getFloat64(16,!0),t+=24,!r)if(a=new DataView(e,t,16),n.mask={},n.mask.numBlocksY=a.getUint32(0,!0),n.mask.numBlocksX=a.getUint32(4,!0),n.mask.numBytes=a.getUint32(8,!0),n.mask.maxValue=a.getFloat32(12,!0),t+=16,n.mask.numBytes>0){var o=new Uint8Array(Math.ceil(n.width*n.height/8)),s=(a=new DataView(e,t,n.mask.numBytes)).getInt16(0,!0),f=2,l=0;do{if(s>0)for(;s--;)o[l++]=a.getUint8(f++);else{var u=a.getUint8(f++);for(s=-s;s--;)o[l++]=u}s=a.getInt16(f,!0),f+=2}while(f<n.mask.numBytes);if(-32768!==s||l<o.length)throw"Unexpected end of mask RLE encoding";n.mask.bitset=o,t+=n.mask.numBytes}else 0==(n.mask.numBytes|n.mask.numBlocksY|n.mask.maxValue)&&(n.mask.bitset=new Uint8Array(Math.ceil(n.width*n.height/8)));a=new DataView(e,t,16),n.pixels={},n.pixels.numBlocksY=a.getUint32(0,!0),n.pixels.numBlocksX=a.getUint32(4,!0),n.pixels.numBytes=a.getUint32(8,!0),n.pixels.maxValue=a.getFloat32(12,!0),t+=16;var c=n.pixels.numBlocksX,h=n.pixels.numBlocksY,d=c+(n.width%c>0?1:0),p=h+(n.height%h>0?1:0);n.pixels.blocks=new Array(d*p);for(var m=0,v=0;v<p;v++)for(var y=0;y<d;y++){var w=0,g=e.byteLength-t;a=new DataView(e,t,Math.min(10,g));var b={};n.pixels.blocks[m++]=b;var k=a.getUint8(0);if(w++,b.encoding=63&k,b.encoding>3)throw"Invalid block encoding ("+b.encoding+")";if(2!==b.encoding){if(0!==k&&2!==k){if(k>>=6,b.offsetType=k,2===k)b.offset=a.getInt8(1),w++;else if(1===k)b.offset=a.getInt16(1,!0),w+=2;else{if(0!==k)throw"Invalid block offset type";b.offset=a.getFloat32(1,!0),w+=4}if(1===b.encoding)if(k=a.getUint8(w),w++,b.bitsPerPixel=63&k,k>>=6,b.numValidPixelsType=k,2===k)b.numValidPixels=a.getUint8(w),w++;else if(1===k)b.numValidPixels=a.getUint16(w,!0),w+=2;else{if(0!==k)throw"Invalid valid pixel count type";b.numValidPixels=a.getUint32(w,!0),w+=4}}var x;if(t+=w,3!==b.encoding)if(0===b.encoding){var _=(n.pixels.numBytes-1)/4;if(_!==Math.floor(_))throw"uncompressed block has invalid length";x=new ArrayBuffer(4*_),new Uint8Array(x).set(new Uint8Array(e,t,4*_));var A=new Float32Array(x);b.rawData=A,t+=4*_}else if(1===b.encoding){var P=Math.ceil(b.numValidPixels*b.bitsPerPixel/8),I=Math.ceil(P/4);x=new ArrayBuffer(4*I),new Uint8Array(x).set(new Uint8Array(e,t,P)),b.stuffedData=new Uint32Array(x),t+=P}}else t++}return n.eofOffset=t,n},a=function(e,t,r,n,i,a,o){var s,f,l,u=(1<<t)-1,c=0,h=0,d=Math.ceil((o-n)/i),p=4*e.length-Math.ceil(t*r/8);for(e[e.length-1]<<=8*p,s=0;s<r;s++){if(0===h&&(l=e[c++],h=32),h>=t)f=l>>>h-t&u,h-=t;else{var m=t-h;f=(l&u)<<m&u,f+=(l=e[c++])>>>(h=32-m)}a[s]=f<d?n+f*i:o}return a},e),y=(o=function(e,t,r,n,i,a,o,s){var f,l,u,c,h,d=(1<<r)-1,p=0,m=0,v=4*e.length-Math.ceil(r*n/8);if(e[e.length-1]<<=8*v,i)for(f=0;f<n;f++)0===m&&(u=e[p++],m=32),m>=r?(l=u>>>m-r&d,m-=r):(l=(u&d)<<(c=r-m)&d,l+=(u=e[p++])>>>(m=32-c)),t[f]=i[l];else for(h=Math.ceil((s-a)/o),f=0;f<n;f++)0===m&&(u=e[p++],m=32),m>=r?(l=u>>>m-r&d,m-=r):(l=(u&d)<<(c=r-m)&d,l+=(u=e[p++])>>>(m=32-c)),t[f]=l<h?a+l*o:s},s=function(e,t,r,n,i,a){var o,s=(1<<t)-1,f=0,l=0,u=0,c=0,h=0,d=[],p=4*e.length-Math.ceil(t*r/8);e[e.length-1]<<=8*p;var m=Math.ceil((a-n)/i);for(l=0;l<r;l++)0===c&&(o=e[f++],c=32),c>=t?(h=o>>>c-t&s,c-=t):(h=(o&s)<<(u=t-c)&s,h+=(o=e[f++])>>>(c=32-u)),d[l]=h<m?n+h*i:a;return d.unshift(n),d},f=function(e,t,r,n,i,a,o,s){var f,l,u,c,h=(1<<r)-1,d=0,p=0,m=0;if(i)for(f=0;f<n;f++)0===p&&(u=e[d++],p=32,m=0),p>=r?(l=u>>>m&h,p-=r,m+=r):(l=u>>>m&h,p=32-(c=r-p),l|=((u=e[d++])&(1<<c)-1)<<r-c,m=c),t[f]=i[l];else{var v=Math.ceil((s-a)/o);for(f=0;f<n;f++)0===p&&(u=e[d++],p=32,m=0),p>=r?(l=u>>>m&h,p-=r,m+=r):(l=u>>>m&h,p=32-(c=r-p),l|=((u=e[d++])&(1<<c)-1)<<r-c,m=c),t[f]=l<v?a+l*o:s}return t},l=function(e,t,r,n,i,a){var o,s=(1<<t)-1,f=0,l=0,u=0,c=0,h=0,d=0,p=[],m=Math.ceil((a-n)/i);for(l=0;l<r;l++)0===c&&(o=e[f++],c=32,d=0),c>=t?(h=o>>>d&s,c-=t,d+=t):(h=o>>>d&s,c=32-(u=t-c),h|=((o=e[f++])&(1<<u)-1)<<t-u,d=u),p[l]=h<m?n+h*i:a;return p.unshift(n),p},u=function(e,t,r,n){var i,a,o,s,f=(1<<r)-1,l=0,u=0,c=4*e.length-Math.ceil(r*n/8);for(e[e.length-1]<<=8*c,i=0;i<n;i++)0===u&&(o=e[l++],u=32),u>=r?(a=o>>>u-r&f,u-=r):(a=(o&f)<<(s=r-u)&f,a+=(o=e[l++])>>>(u=32-s)),t[i]=a;return t},c=function(e,t,r,n){var i,a,o,s,f=(1<<r)-1,l=0,u=0,c=0;for(i=0;i<n;i++)0===u&&(o=e[l++],u=32,c=0),u>=r?(a=o>>>c&f,u-=r,c+=r):(a=o>>>c&f,u=32-(s=r-u),a|=((o=e[l++])&(1<<s)-1)<<r-s,c=s),t[i]=a;return t},h={HUFFMAN_LUT_BITS_MAX:12,computeChecksumFletcher32:function(e){for(var t=65535,r=65535,n=e.length,i=Math.floor(n/2),a=0;i;){var o=i>=359?359:i;i-=o;do{t+=e[a++]<<8,r+=t+=e[a++]}while(--o);t=(65535&t)+(t>>>16),r=(65535&r)+(r>>>16)}return 1&n&&(r+=t+=e[a]<<8),((r=(65535&r)+(r>>>16))<<16|(t=(65535&t)+(t>>>16)))>>>0},readHeaderInfo:function(e,t){var r=t.ptr,n=new Uint8Array(e,r,6),i={};if(i.fileIdentifierString=String.fromCharCode.apply(null,n),0!==i.fileIdentifierString.lastIndexOf("Lerc2",0))throw"Unexpected file identifier string (expect Lerc2 ): "+i.fileIdentifierString;r+=6;var a,o=new DataView(e,r,8),s=o.getInt32(0,!0);if(i.fileVersion=s,r+=4,s>=3&&(i.checksum=o.getUint32(4,!0),r+=4),o=new DataView(e,r,12),i.height=o.getUint32(0,!0),i.width=o.getUint32(4,!0),r+=8,s>=4?(i.numDims=o.getUint32(8,!0),r+=4):i.numDims=1,o=new DataView(e,r,40),i.numValidPixel=o.getUint32(0,!0),i.microBlockSize=o.getInt32(4,!0),i.blobSize=o.getInt32(8,!0),i.imageType=o.getInt32(12,!0),i.maxZError=o.getFloat64(16,!0),i.zMin=o.getFloat64(24,!0),i.zMax=o.getFloat64(32,!0),r+=40,t.headerInfo=i,t.ptr=r,s>=3&&(a=s>=4?52:48,this.computeChecksumFletcher32(new Uint8Array(e,r-a,i.blobSize-14))!==i.checksum))throw"Checksum failed.";return!0},checkMinMaxRanges:function(e,t){var r=t.headerInfo,n=this.getDataTypeArray(r.imageType),i=r.numDims*this.getDataTypeSize(r.imageType),a=this.readSubArray(e,t.ptr,n,i),o=this.readSubArray(e,t.ptr+i,n,i);t.ptr+=2*i;var s,f=!0;for(s=0;s<r.numDims;s++)if(a[s]!==o[s]){f=!1;break}return r.minValues=a,r.maxValues=o,f},readSubArray:function(e,t,r,n){var i;if(r===Uint8Array)i=new Uint8Array(e,t,n);else{var a=new ArrayBuffer(n);new Uint8Array(a).set(new Uint8Array(e,t,n)),i=new r(a)}return i},readMask:function(e,t){var r,n,i=t.ptr,a=t.headerInfo,o=a.width*a.height,s=a.numValidPixel,f=new DataView(e,i,4),l={};if(l.numBytes=f.getUint32(0,!0),i+=4,(0===s||o===s)&&0!==l.numBytes)throw"invalid mask";if(0===s)r=new Uint8Array(Math.ceil(o/8)),l.bitset=r,n=new Uint8Array(o),t.pixels.resultMask=n,i+=l.numBytes;else if(l.numBytes>0){r=new Uint8Array(Math.ceil(o/8));var u=(f=new DataView(e,i,l.numBytes)).getInt16(0,!0),c=2,h=0,d=0;do{if(u>0)for(;u--;)r[h++]=f.getUint8(c++);else for(d=f.getUint8(c++),u=-u;u--;)r[h++]=d;u=f.getInt16(c,!0),c+=2}while(c<l.numBytes);if(-32768!==u||h<r.length)throw"Unexpected end of mask RLE encoding";n=new Uint8Array(o);var p=0,m=0;for(m=0;m<o;m++)7&m?(p=r[m>>3],p<<=7&m):p=r[m>>3],128&p&&(n[m]=1);t.pixels.resultMask=n,l.bitset=r,i+=l.numBytes}return t.ptr=i,t.mask=l,!0},readDataOneSweep:function(e,t,r,n){var i,a=t.ptr,o=t.headerInfo,s=o.numDims,f=o.width*o.height,l=o.imageType,u=o.numValidPixel*h.getDataTypeSize(l)*s,c=t.pixels.resultMask;if(r===Uint8Array)i=new Uint8Array(e,a,u);else{var d=new ArrayBuffer(u);new Uint8Array(d).set(new Uint8Array(e,a,u)),i=new r(d)}if(i.length===f*s)t.pixels.resultPixels=n?h.swapDimensionOrder(i,f,s,r,!0):i;else{t.pixels.resultPixels=new r(f*s);var p=0,m=0,v=0,y=0;if(s>1){if(n){for(m=0;m<f;m++)if(c[m])for(y=m,v=0;v<s;v++,y+=f)t.pixels.resultPixels[y]=i[p++]}else for(m=0;m<f;m++)if(c[m])for(y=m*s,v=0;v<s;v++)t.pixels.resultPixels[y+v]=i[p++]}else for(m=0;m<f;m++)c[m]&&(t.pixels.resultPixels[m]=i[p++])}return a+=u,t.ptr=a,!0},readHuffmanTree:function(e,t){var r=this.HUFFMAN_LUT_BITS_MAX,n=new DataView(e,t.ptr,16);if(t.ptr+=16,n.getInt32(0,!0)<2)throw"unsupported Huffman version";var i=n.getInt32(4,!0),a=n.getInt32(8,!0),o=n.getInt32(12,!0);if(a>=o)return!1;var s=new Uint32Array(o-a);h.decodeBits(e,t,s);var f,l,u,c,p=[];for(f=a;f<o;f++)p[l=f-(f<i?0:i)]={first:s[f-a],second:null};var m=e.byteLength-t.ptr,v=Math.ceil(m/4),y=new ArrayBuffer(4*v);new Uint8Array(y).set(new Uint8Array(e,t.ptr,m));var w,g=new Uint32Array(y),b=0,k=0;for(w=g[0],f=a;f<o;f++)(c=p[l=f-(f<i?0:i)].first)>0&&(p[l].second=w<<b>>>32-c,32-b>=c?32===(b+=c)&&(b=0,w=g[++k]):(b+=c-32,w=g[++k],p[l].second|=w>>>32-b));var x=0,_=0,A=new d;for(f=0;f<p.length;f++)void 0!==p[f]&&(x=Math.max(x,p[f].first));_=x>=r?r:x;var P,I,U,S,T,D=[];for(f=a;f<o;f++)if((c=p[l=f-(f<i?0:i)].first)>0)if(P=[c,l],c<=_)for(I=p[l].second<<_-c,U=1<<_-c,u=0;u<U;u++)D[I|u]=P;else for(I=p[l].second,T=A,S=c-1;S>=0;S--)I>>>S&1?(T.right||(T.right=new d),T=T.right):(T.left||(T.left=new d),T=T.left),0!==S||T.val||(T.val=P[1]);return{decodeLut:D,numBitsLUTQick:_,numBitsLUT:x,tree:A,stuffedData:g,srcPtr:k,bitPos:b}},readHuffman:function(e,t,r,n){var i,a,o,s,f,l,u,c,d,p=t.headerInfo.numDims,m=t.headerInfo.height,v=t.headerInfo.width,y=v*m,w=this.readHuffmanTree(e,t),g=w.decodeLut,b=w.tree,k=w.stuffedData,x=w.srcPtr,_=w.bitPos,A=w.numBitsLUTQick,P=w.numBitsLUT,I=0===t.headerInfo.imageType?128:0,U=t.pixels.resultMask,S=0;_>0&&(x++,_=0);var T,D=k[x],E=1===t.encodeMode,B=new r(y*p),O=B;if(p<2||E){for(T=0;T<p;T++)if(p>1&&(O=new r(B.buffer,y*T,y),S=0),t.headerInfo.numValidPixel===v*m)for(c=0,l=0;l<m;l++)for(u=0;u<v;u++,c++){if(a=0,f=s=D<<_>>>32-A,32-_<A&&(f=s|=k[x+1]>>>64-_-A),g[f])a=g[f][1],_+=g[f][0];else for(f=s=D<<_>>>32-P,32-_<P&&(f=s|=k[x+1]>>>64-_-P),i=b,d=0;d<P;d++)if(!(i=s>>>P-d-1&1?i.right:i.left).left&&!i.right){a=i.val,_=_+d+1;break}_>=32&&(_-=32,D=k[++x]),o=a-I,E?(o+=u>0?S:l>0?O[c-v]:S,o&=255,O[c]=o,S=o):O[c]=o}else for(c=0,l=0;l<m;l++)for(u=0;u<v;u++,c++)if(U[c]){if(a=0,f=s=D<<_>>>32-A,32-_<A&&(f=s|=k[x+1]>>>64-_-A),g[f])a=g[f][1],_+=g[f][0];else for(f=s=D<<_>>>32-P,32-_<P&&(f=s|=k[x+1]>>>64-_-P),i=b,d=0;d<P;d++)if(!(i=s>>>P-d-1&1?i.right:i.left).left&&!i.right){a=i.val,_=_+d+1;break}_>=32&&(_-=32,D=k[++x]),o=a-I,E?(u>0&&U[c-1]?o+=S:l>0&&U[c-v]?o+=O[c-v]:o+=S,o&=255,O[c]=o,S=o):O[c]=o}}else for(c=0,l=0;l<m;l++)for(u=0;u<v;u++)if(c=l*v+u,!U||U[c])for(T=0;T<p;T++,c+=y){if(a=0,f=s=D<<_>>>32-A,32-_<A&&(f=s|=k[x+1]>>>64-_-A),g[f])a=g[f][1],_+=g[f][0];else for(f=s=D<<_>>>32-P,32-_<P&&(f=s|=k[x+1]>>>64-_-P),i=b,d=0;d<P;d++)if(!(i=s>>>P-d-1&1?i.right:i.left).left&&!i.right){a=i.val,_=_+d+1;break}_>=32&&(_-=32,D=k[++x]),o=a-I,O[c]=o}t.ptr=t.ptr+4*(x+1)+(_>0?4:0),t.pixels.resultPixels=B,p>1&&!n&&(t.pixels.resultPixels=h.swapDimensionOrder(B,y,p,r))},decodeBits:function(e,t,r,n,i){var a=t.headerInfo,h=a.fileVersion,d=0,p=e.byteLength-t.ptr>=5?5:e.byteLength-t.ptr,m=new DataView(e,t.ptr,p),v=m.getUint8(0);d++;var y=v>>6,w=0===y?4:3-y,g=(32&v)>0,b=31&v,k=0;if(1===w)k=m.getUint8(d),d++;else if(2===w)k=m.getUint16(d,!0),d+=2;else{if(4!==w)throw"Invalid valid pixel count type";k=m.getUint32(d,!0),d+=4}var x,_,A,P,I,U,S,T,D,E=2*a.maxZError,B=a.numDims>1?a.maxValues[i]:a.zMax;if(g){for(t.counter.lut++,T=m.getUint8(d),d++,P=Math.ceil((T-1)*b/8),I=Math.ceil(P/4),_=new ArrayBuffer(4*I),A=new Uint8Array(_),t.ptr+=d,A.set(new Uint8Array(e,t.ptr,P)),S=new Uint32Array(_),t.ptr+=P,D=0;T-1>>>D;)D++;P=Math.ceil(k*D/8),I=Math.ceil(P/4),_=new ArrayBuffer(4*I),(A=new Uint8Array(_)).set(new Uint8Array(e,t.ptr,P)),x=new Uint32Array(_),t.ptr+=P,U=h>=3?l(S,b,T-1,n,E,B):s(S,b,T-1,n,E,B),h>=3?f(x,r,D,k,U):o(x,r,D,k,U)}else t.counter.bitstuffer++,D=b,t.ptr+=d,D>0&&(P=Math.ceil(k*D/8),I=Math.ceil(P/4),_=new ArrayBuffer(4*I),(A=new Uint8Array(_)).set(new Uint8Array(e,t.ptr,P)),x=new Uint32Array(_),t.ptr+=P,h>=3?null==n?c(x,r,D,k):f(x,r,D,k,!1,n,E,B):null==n?u(x,r,D,k):o(x,r,D,k,!1,n,E,B))},readTiles:function(e,t,r,n){var i=t.headerInfo,a=i.width,o=i.height,s=a*o,f=i.microBlockSize,l=i.imageType,u=h.getDataTypeSize(l),c=Math.ceil(a/f),d=Math.ceil(o/f);t.pixels.numBlocksY=d,t.pixels.numBlocksX=c,t.pixels.ptr=0;var p,m,v,y,w,g,b,k,x,_,A=0,P=0,I=0,U=0,S=0,T=0,D=0,E=0,B=0,O=0,M=0,C=0,L=0,R=0,V=0,G=new r(f*f),F=o%f||f,z=a%f||f,j=i.numDims,N=t.pixels.resultMask,Z=t.pixels.resultPixels,K=i.fileVersion>=5?14:15,H=i.zMax;for(I=0;I<d;I++)for(S=I!==d-1?f:F,U=0;U<c;U++)for(O=I*a*f+U*f,M=a-(T=U!==c-1?f:z),k=0;k<j;k++){if(j>1?(_=Z,O=I*a*f+U*f,Z=new r(t.pixels.resultPixels.buffer,s*k*u,s),H=i.maxValues[k]):_=null,D=e.byteLength-t.ptr,m={},V=0,E=(p=new DataView(e,t.ptr,Math.min(10,D))).getUint8(0),V++,x=i.fileVersion>=5?4&E:0,B=E>>6&255,(E>>2&K)!=(U*f>>3&K))throw"integrity issue";if(x&&0===k)throw"integrity issue";if((w=3&E)>3)throw t.ptr+=V,"Invalid block encoding ("+w+")";if(2!==w)if(0===w){if(x)throw"integrity issue";if(t.counter.uncompressed++,t.ptr+=V,C=(C=S*T*u)<(L=e.byteLength-t.ptr)?C:L,v=new ArrayBuffer(C%u==0?C:C+u-C%u),new Uint8Array(v).set(new Uint8Array(e,t.ptr,C)),y=new r(v),R=0,N)for(A=0;A<S;A++){for(P=0;P<T;P++)N[O]&&(Z[O]=y[R++]),O++;O+=M}else for(A=0;A<S;A++){for(P=0;P<T;P++)Z[O++]=y[R++];O+=M}t.ptr+=R*u}else if(g=h.getDataTypeUsed(x&&l<6?4:l,B),b=h.getOnePixel(m,V,g,p),V+=h.getDataTypeSize(g),3===w)if(t.ptr+=V,t.counter.constantoffset++,N)for(A=0;A<S;A++){for(P=0;P<T;P++)N[O]&&(Z[O]=x?Math.min(H,_[O]+b):b),O++;O+=M}else for(A=0;A<S;A++){for(P=0;P<T;P++)Z[O]=x?Math.min(H,_[O]+b):b,O++;O+=M}else if(t.ptr+=V,h.decodeBits(e,t,G,b,k),V=0,x)if(N)for(A=0;A<S;A++){for(P=0;P<T;P++)N[O]&&(Z[O]=G[V++]+_[O]),O++;O+=M}else for(A=0;A<S;A++){for(P=0;P<T;P++)Z[O]=G[V++]+_[O],O++;O+=M}else if(N)for(A=0;A<S;A++){for(P=0;P<T;P++)N[O]&&(Z[O]=G[V++]),O++;O+=M}else for(A=0;A<S;A++){for(P=0;P<T;P++)Z[O++]=G[V++];O+=M}else{if(x)if(N)for(A=0;A<S;A++)for(P=0;P<T;P++)N[O]&&(Z[O]=_[O]),O++;else for(A=0;A<S;A++)for(P=0;P<T;P++)Z[O]=_[O],O++;t.counter.constant++,t.ptr+=V}}j>1&&!n&&(t.pixels.resultPixels=h.swapDimensionOrder(t.pixels.resultPixels,s,j,r))},formatFileInfo:function(e){return{fileIdentifierString:e.headerInfo.fileIdentifierString,fileVersion:e.headerInfo.fileVersion,imageType:e.headerInfo.imageType,height:e.headerInfo.height,width:e.headerInfo.width,numValidPixel:e.headerInfo.numValidPixel,microBlockSize:e.headerInfo.microBlockSize,blobSize:e.headerInfo.blobSize,maxZError:e.headerInfo.maxZError,pixelType:h.getPixelType(e.headerInfo.imageType),eofOffset:e.eofOffset,mask:e.mask?{numBytes:e.mask.numBytes}:null,pixels:{numBlocksX:e.pixels.numBlocksX,numBlocksY:e.pixels.numBlocksY,maxValue:e.headerInfo.zMax,minValue:e.headerInfo.zMin,noDataValue:e.noDataValue}}},constructConstantSurface:function(e,t){var r=e.headerInfo.zMax,n=e.headerInfo.zMin,i=e.headerInfo.maxValues,a=e.headerInfo.numDims,o=e.headerInfo.height*e.headerInfo.width,s=0,f=0,l=0,u=e.pixels.resultMask,c=e.pixels.resultPixels;if(u)if(a>1){if(t)for(s=0;s<a;s++)for(l=s*o,r=i[s],f=0;f<o;f++)u[f]&&(c[l+f]=r);else for(f=0;f<o;f++)if(u[f])for(l=f*a,s=0;s<a;s++)c[l+a]=i[s]}else for(f=0;f<o;f++)u[f]&&(c[f]=r);else if(a>1&&n!==r)if(t)for(s=0;s<a;s++)for(l=s*o,r=i[s],f=0;f<o;f++)c[l+f]=r;else for(f=0;f<o;f++)for(l=f*a,s=0;s<a;s++)c[l+s]=i[s];else for(f=0;f<o*a;f++)c[f]=r},getDataTypeArray:function(e){var t;switch(e){case 0:t=Int8Array;break;case 1:t=Uint8Array;break;case 2:t=Int16Array;break;case 3:t=Uint16Array;break;case 4:t=Int32Array;break;case 5:t=Uint32Array;break;case 6:default:t=Float32Array;break;case 7:t=Float64Array}return t},getPixelType:function(e){var t;switch(e){case 0:t="S8";break;case 1:t="U8";break;case 2:t="S16";break;case 3:t="U16";break;case 4:t="S32";break;case 5:t="U32";break;case 6:default:t="F32";break;case 7:t="F64"}return t},isValidPixelValue:function(e,t){if(null==t)return!1;var r;switch(e){case 0:r=t>=-128&&t<=127;break;case 1:r=t>=0&&t<=255;break;case 2:r=t>=-32768&&t<=32767;break;case 3:r=t>=0&&t<=65536;break;case 4:r=t>=-2147483648&&t<=2147483647;break;case 5:r=t>=0&&t<=4294967296;break;case 6:r=t>=-34027999387901484e22&&t<=34027999387901484e22;break;case 7:r=t>=-17976931348623157e292&&t<=17976931348623157e292;break;default:r=!1}return r},getDataTypeSize:function(e){var t=0;switch(e){case 0:case 1:t=1;break;case 2:case 3:t=2;break;case 4:case 5:case 6:t=4;break;case 7:t=8;break;default:t=e}return t},getDataTypeUsed:function(e,t){var r=e;switch(e){case 2:case 4:r=e-t;break;case 3:case 5:r=e-2*t;break;case 6:r=0===t?e:1===t?2:1;break;case 7:r=0===t?e:e-2*t+1;break;default:r=e}return r},getOnePixel:function(e,t,r,n){var i=0;switch(r){case 0:i=n.getInt8(t);break;case 1:i=n.getUint8(t);break;case 2:i=n.getInt16(t,!0);break;case 3:i=n.getUint16(t,!0);break;case 4:i=n.getInt32(t,!0);break;case 5:i=n.getUInt32(t,!0);break;case 6:i=n.getFloat32(t,!0);break;case 7:i=n.getFloat64(t,!0);break;default:throw"the decoder does not understand this pixel type"}return i},swapDimensionOrder:function(e,t,r,n,i){var a=0,o=0,s=0,f=0,l=e;if(r>1)if(l=new n(t*r),i)for(a=0;a<t;a++)for(f=a,s=0;s<r;s++,f+=t)l[f]=e[o++];else for(a=0;a<t;a++)for(f=a,s=0;s<r;s++,f+=t)l[o++]=e[f];return l}},d=function(e,t,r){this.val=e,this.left=t,this.right=r},{decode:function(e,t){var r=(t=t||{}).noDataValue,n=0,i={};i.ptr=t.inputOffset||0,i.pixels={},h.readHeaderInfo(e,i);var a=i.headerInfo,o=a.fileVersion,s=h.getDataTypeArray(a.imageType);if(o>5)throw"unsupported lerc version 2."+o;h.readMask(e,i),a.numValidPixel===a.width*a.height||i.pixels.resultMask||(i.pixels.resultMask=t.maskData);var f=a.width*a.height;i.pixels.resultPixels=new s(f*a.numDims),i.counter={onesweep:0,uncompressed:0,lut:0,bitstuffer:0,constant:0,constantoffset:0};var l,u=!t.returnPixelInterleavedDims;if(0!==a.numValidPixel)if(a.zMax===a.zMin)h.constructConstantSurface(i,u);else if(o>=4&&h.checkMinMaxRanges(e,i))h.constructConstantSurface(i,u);else{var c=new DataView(e,i.ptr,2),d=c.getUint8(0);if(i.ptr++,d)h.readDataOneSweep(e,i,s,u);else if(o>1&&a.imageType<=1&&Math.abs(a.maxZError-.5)<1e-5){var p=c.getUint8(1);if(i.ptr++,i.encodeMode=p,p>2||o<4&&p>1)throw"Invalid Huffman flag "+p;p?h.readHuffman(e,i,s,u):h.readTiles(e,i,s,u)}else h.readTiles(e,i,s,u)}i.eofOffset=i.ptr,t.inputOffset?(l=i.headerInfo.blobSize+t.inputOffset-i.ptr,Math.abs(l)>=1&&(i.eofOffset=t.inputOffset+i.headerInfo.blobSize)):(l=i.headerInfo.blobSize-i.ptr,Math.abs(l)>=1&&(i.eofOffset=i.headerInfo.blobSize));var m={width:a.width,height:a.height,pixelData:i.pixels.resultPixels,minValue:a.zMin,maxValue:a.zMax,validPixelCount:a.numValidPixel,dimCount:a.numDims,dimStats:{minValues:a.minValues,maxValues:a.maxValues},maskData:i.pixels.resultMask};if(i.pixels.resultMask&&h.isValidPixelValue(a.imageType,r)){var v=i.pixels.resultMask;for(n=0;n<f;n++)v[n]||(m.pixelData[n]=r);m.noDataValue=r}return i.noDataValue=r,t.returnFileInfo&&(m.fileInfo=h.formatFileInfo(i)),m},getBandCount:function(e){for(var t=0,r=0,n={ptr:0,pixels:{}};r<e.byteLength-58;)h.readHeaderInfo(e,n),r+=n.headerInfo.blobSize,t++,n.ptr=r;return t}}),w=(p=new ArrayBuffer(4),m=new Uint8Array(p),new Uint32Array(p)[0]=1,1===m[0]),g={decode:function(e,t){if(!w)throw"Big endian system is not supported.";var r,n,i=(t=t||{}).inputOffset||0,a=new Uint8Array(e,i,10),o=String.fromCharCode.apply(null,a);if("CntZImage"===o.trim())r=v,n=1;else{if("Lerc2"!==o.substring(0,5))throw"Unexpected file identifier string: "+o;r=y,n=2}for(var s,f,l,u,c,h,d=0,p=e.byteLength-10,m=[],g={width:0,height:0,pixels:[],pixelType:t.pixelType,mask:null,statistics:[]},b=0;i<p;){var k=r.decode(e,{inputOffset:i,encodedMaskData:s,maskData:l,returnMask:0===d,returnEncodedMask:0===d,returnFileInfo:!0,returnPixelInterleavedDims:t.returnPixelInterleavedDims,pixelType:t.pixelType||null,noDataValue:t.noDataValue||null});i=k.fileInfo.eofOffset,l=k.maskData,0===d&&(s=k.encodedMaskData,g.width=k.width,g.height=k.height,g.dimCount=k.dimCount||1,g.pixelType=k.pixelType||k.fileInfo.pixelType,g.mask=l),n>1&&(l&&m.push(l),k.fileInfo.mask&&k.fileInfo.mask.numBytes>0&&b++),d++,g.pixels.push(k.pixelData),g.statistics.push({minValue:k.minValue,maxValue:k.maxValue,noDataValue:k.noDataValue,dimStats:k.dimStats})}if(n>1&&b>1){for(h=g.width*g.height,g.bandMasks=m,(l=new Uint8Array(h)).set(m[0]),u=1;u<m.length;u++)for(f=m[u],c=0;c<h;c++)l[c]=l[c]&f[c];g.maskData=l}return g}};Ke.exports?Ke.exports=g:this.Lerc=g}();var We=Xe.exports,qe={315:"Artist",258:"BitsPerSample",265:"CellLength",264:"CellWidth",320:"ColorMap",259:"Compression",33432:"Copyright",306:"DateTime",338:"ExtraSamples",266:"FillOrder",289:"FreeByteCounts",288:"FreeOffsets",291:"GrayResponseCurve",290:"GrayResponseUnit",316:"HostComputer",270:"ImageDescription",257:"ImageLength",256:"ImageWidth",271:"Make",281:"MaxSampleValue",280:"MinSampleValue",272:"Model",254:"NewSubfileType",274:"Orientation",262:"PhotometricInterpretation",284:"PlanarConfiguration",296:"ResolutionUnit",278:"RowsPerStrip",277:"SamplesPerPixel",305:"Software",279:"StripByteCounts",273:"StripOffsets",255:"SubfileType",263:"Threshholding",282:"XResolution",283:"YResolution",326:"BadFaxLines",327:"CleanFaxData",343:"ClipPath",328:"ConsecutiveBadFaxLines",433:"Decode",434:"DefaultImageColor",269:"DocumentName",336:"DotRange",321:"HalftoneHints",346:"Indexed",347:"JPEGTables",285:"PageName",297:"PageNumber",317:"Predictor",319:"PrimaryChromaticities",532:"ReferenceBlackWhite",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",559:"StripRowCounts",330:"SubIFDs",292:"T4Options",293:"T6Options",325:"TileByteCounts",323:"TileLength",324:"TileOffsets",322:"TileWidth",301:"TransferFunction",318:"WhitePoint",344:"XClipPathUnits",286:"XPosition",529:"YCbCrCoefficients",531:"YCbCrPositioning",530:"YCbCrSubSampling",345:"YClipPathUnits",287:"YPosition",37378:"ApertureValue",40961:"ColorSpace",36868:"DateTimeDigitized",36867:"DateTimeOriginal",34665:"Exif IFD",36864:"ExifVersion",33434:"ExposureTime",41728:"FileSource",37385:"Flash",40960:"FlashpixVersion",33437:"FNumber",42016:"ImageUniqueID",37384:"LightSource",37500:"MakerNote",37377:"ShutterSpeedValue",37510:"UserComment",33723:"IPTC",34675:"ICC Profile",700:"XMP",42112:"GDAL_METADATA",42113:"GDAL_NODATA",34377:"Photoshop",33550:"ModelPixelScale",33922:"ModelTiepoint",34264:"ModelTransformation",34735:"GeoKeyDirectory",34736:"GeoDoubleParams",34737:"GeoAsciiParams",50674:"LercParameters"},Je={};for(var Qe in qe)qe.hasOwnProperty(Qe)&&(Je[qe[Qe]]=parseInt(Qe,10));Je.BitsPerSample,Je.ExtraSamples,Je.SampleFormat,Je.StripByteCounts,Je.StripOffsets,Je.StripRowCounts,Je.TileByteCounts,Je.TileOffsets,Je.SubIFDs;var $e={1:"BYTE",2:"ASCII",3:"SHORT",4:"LONG",5:"RATIONAL",6:"SBYTE",7:"UNDEFINED",8:"SSHORT",9:"SLONG",10:"SRATIONAL",11:"FLOAT",12:"DOUBLE",13:"IFD",16:"LONG8",17:"SLONG8",18:"IFD8"},et={};for(var tt in $e)$e.hasOwnProperty(tt)&&(et[$e[tt]]=parseInt(tt,10));var rt=1,nt=0,it=1,at={1024:"GTModelTypeGeoKey",1025:"GTRasterTypeGeoKey",1026:"GTCitationGeoKey",2048:"GeographicTypeGeoKey",2049:"GeogCitationGeoKey",2050:"GeogGeodeticDatumGeoKey",2051:"GeogPrimeMeridianGeoKey",2052:"GeogLinearUnitsGeoKey",2053:"GeogLinearUnitSizeGeoKey",2054:"GeogAngularUnitsGeoKey",2055:"GeogAngularUnitSizeGeoKey",2056:"GeogEllipsoidGeoKey",2057:"GeogSemiMajorAxisGeoKey",2058:"GeogSemiMinorAxisGeoKey",2059:"GeogInvFlatteningGeoKey",2060:"GeogAzimuthUnitsGeoKey",2061:"GeogPrimeMeridianLongGeoKey",2062:"GeogTOWGS84GeoKey",3072:"ProjectedCSTypeGeoKey",3073:"PCSCitationGeoKey",3074:"ProjectionGeoKey",3075:"ProjCoordTransGeoKey",3076:"ProjLinearUnitsGeoKey",3077:"ProjLinearUnitSizeGeoKey",3078:"ProjStdParallel1GeoKey",3079:"ProjStdParallel2GeoKey",3080:"ProjNatOriginLongGeoKey",3081:"ProjNatOriginLatGeoKey",3082:"ProjFalseEastingGeoKey",3083:"ProjFalseNorthingGeoKey",3084:"ProjFalseOriginLongGeoKey",3085:"ProjFalseOriginLatGeoKey",3086:"ProjFalseOriginEastingGeoKey",3087:"ProjFalseOriginNorthingGeoKey",3088:"ProjCenterLongGeoKey",3089:"ProjCenterLatGeoKey",3090:"ProjCenterEastingGeoKey",3091:"ProjCenterNorthingGeoKey",3092:"ProjScaleAtNatOriginGeoKey",3093:"ProjScaleAtCenterGeoKey",3094:"ProjAzimuthAngleGeoKey",3095:"ProjStraightVertPoleLongGeoKey",3096:"ProjRectifiedGridAngleGeoKey",4096:"VerticalCSTypeGeoKey",4097:"VerticalCitationGeoKey",4098:"VerticalDatumGeoKey",4099:"VerticalUnitsGeoKey"},ot={};for(var st in at)at.hasOwnProperty(st)&&(ot[at[st]]=parseInt(st,10));function ft(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=v(e);if(t){var i=v(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return m(this,r)}}var lt=function(e){p(r,b);var t=ft(r);function r(e){var n;return u(this,r),(n=t.call(this)).planarConfiguration=void 0!==e.PlanarConfiguration?e.PlanarConfiguration:1,n.samplesPerPixel=void 0!==e.SamplesPerPixel?e.SamplesPerPixel:1,n.addCompression=e.LercParameters[rt],n}return h(r,[{key:"decodeBlock",value:function(e){switch(this.addCompression){case nt:break;case it:e=Fe(new Uint8Array(e)).buffer;break;default:throw new Error("Unsupported LERC additional compression method identifier: ".concat(this.addCompression))}return We.decode(e,{returnPixelInterleavedDims:1===this.planarConfiguration}).pixels[0].buffer}}]),r}(),ut=Object.freeze({__proto__:null,default:lt});function ct(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=v(e);if(t){var i=v(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return m(this,r)}}var ht=function(e){p(a,b);var r,n=ct(a);function a(){var e;if(u(this,a),e=n.call(this),"undefined"==typeof createImageBitmap)throw new Error("Cannot decode WebImage as `createImageBitmap` is not available");if("undefined"==typeof document&&"undefined"==typeof OffscreenCanvas)throw new Error("Cannot decode WebImage as neither `document` nor `OffscreenCanvas` is not available");return e}return h(a,[{key:"decode",value:(r=t(i.mark((function e(t,r){var n,a,o,s;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new Blob([r]),e.next=3,createImageBitmap(n);case 3:return a=e.sent,"undefined"!=typeof document?((o=document.createElement("canvas")).width=a.width,o.height=a.height):o=new OffscreenCanvas(a.width,a.height),(s=o.getContext("2d")).drawImage(a,0,0),e.abrupt("return",s.getImageData(0,0,a.width,a.height).data.buffer);case 8:case"end":return e.stop()}}),e)}))),function(e,t){return r.apply(this,arguments)})}]),a}(),dt=Object.freeze({__proto__:null,default:ht});';return new Sn("undefined"==typeof Blob?"data:application/javascript;base64,"+Buffer.from(e,"binary").toString("base64"):URL.createObjectURL(new Blob([e],{type:"application/javascript"})))}});e.BaseDecoder=Wl,e.GeoTIFF=Tl,e.GeoTIFFImage=we,e.MultiGeoTIFF=gl,e.Pool=Ce,e.addDecoder=Ye,e.default=Tl,e.fromArrayBuffer=function(e,t){return Rl.apply(this,arguments)},e.fromBlob=function(e,t){return Jl.apply(this,arguments)},e.fromFile=function(e,t){return Pl.apply(this,arguments)},e.fromUrl=function(e){return kl.apply(this,arguments)},e.fromUrls=function(e){return Ml.apply(this,arguments)},e.getDecoder=xe,e.globals=ue,e.rgb=Ge,e.setLogger=function(){arguments.length>0&&void 0!==arguments[0]||new hl},e.writeArrayBuffer=function(e,t){return bl(e,t)},Object.defineProperty(e,"__esModule",{value:!0})}(t)}(0,r.exports);var d=(e,{debug:t=!1}={debug:!1})=>{t&&console.log("starting getPalette with image",e);const{fileDirectory:l}=e,{BitsPerSample:i,ColorMap:n,ImageLength:c,ImageWidth:a,PhotometricInterpretation:r,SampleFormat:d,SamplesPerPixel:s}=l;if(!n)throw new Error("[geotiff-palette]: the image does not contain a color map, so we can't make a palette.");const m=Math.pow(2,i);t&&console.log("[geotiff-palette]: count:",m);const Z=n.length/3;if(t&&console.log("[geotiff-palette]: bandSize:",Z),Z!==m)throw new Error("[geotiff-palette]: can't handle situations where the color map has more or less values than the number of possible values in a raster");const o=Z,u=o+Z,b=[];for(let e=0;e<m;e++)b.push([Math.floor(n[e]/256),Math.floor(n[o+e]/256),Math.floor(n[u+e]/256),255]);return t&&console.log("[geotiff-palette]: result is ",b),b};function s(e,t){const{height:l,width:i}=t,n=[];for(let t=0;t<l;t++){const l=t*i,c=l+i;n.push(e.slice(l,c))}return n}function m(e,t){const l=e.noDataValue,i=e.height,n=e.width;return new Promise(((c,a)=>{let r,d;e.maxs=[],e.mins=[],e.ranges=[];for(let c=0;c<e.numberOfRasters;c++){const a=e.values[c];t&&console.log("[georaster] rows:",a);for(let e=0;e<i;e++){const t=a[e];for(let e=0;e<n;e++){const i=t[e];i==l||isNaN(i)||(void 0===d||i<d?d=i:(void 0===r||i>r)&&(r=i))}}e.maxs.push(r),e.mins.push(d),e.ranges.push(r-d)}c(e)}))}function Z(e,t){return new Promise(((l,i)=>{try{t&&console.log("starting parseData with",e),t&&console.log("\tGeoTIFF:",typeof GeoTIFF);const n={};let c,a;if("object"===e.rasterType)n.values=e.data,n.height=c=e.metadata.height||n.values[0].length,n.width=a=e.metadata.width||n.values[0][0].length,n.pixelHeight=e.metadata.pixelHeight,n.pixelWidth=e.metadata.pixelWidth,n.projection=e.metadata.projection,n.xmin=e.metadata.xmin,n.ymax=e.metadata.ymax,n.noDataValue=e.metadata.noDataValue,n.numberOfRasters=n.values.length,n.xmax=n.xmin+n.width*n.pixelWidth,n.ymin=n.ymax-n.height*n.pixelHeight,n._data=null,l(m(n));else if("geotiff"===e.rasterType){n._data=e.data;let Z=r.exports.fromArrayBuffer;"url"===e.sourceType?Z=r.exports.fromUrl:"Blob"===e.sourceType&&(Z=r.exports.fromBlob),t&&console.log("data.rasterType is geotiff"),l(Z(e.data).then((l=>(t&&console.log("geotiff:",l),l.getImage().then((l=>{try{t&&console.log("image:",l);const i=l.fileDirectory,{GeographicTypeGeoKey:r,ProjectedCSTypeGeoKey:Z}=l.getGeoKeys();n.projection=Z||r,t&&console.log("projection:",n.projection),n.height=c=l.getHeight(),t&&console.log("result.height:",n.height),n.width=a=l.getWidth(),t&&console.log("result.width:",n.width);const[o,u]=l.getResolution();n.pixelHeight=Math.abs(u),n.pixelWidth=Math.abs(o);const[b,h]=l.getOrigin();return n.xmin=b,n.xmax=n.xmin+a*n.pixelWidth,n.ymax=h,n.ymin=n.ymax-c*n.pixelHeight,n.noDataValue=i.GDAL_NODATA?parseFloat(i.GDAL_NODATA):null,n.numberOfRasters=i.SamplesPerPixel,i.ColorMap&&(n.palette=d(l)),"url"!==e.sourceType?l.readRasters().then((e=>(n.values=e.map((e=>s(e,{height:c,width:a}))),m(n)))):n}catch(e){i(e),console.error("[georaster] error parsing georaster:",e)}}))))))}}catch(e){i(e),console.error("[georaster] error parsing georaster:",e)}}))}function o(e,t){if("undefined"==typeof ImageData)throw"toCanvas is not supported in your environment";{const l=document.createElement("CANVAS"),i=t&&t.height?Math.min(e.height,t.height):Math.min(e.height,100),n=t&&t.width?Math.min(e.width,t.width):Math.min(e.width,100);l.height=i,l.width=n,l.style.minHeight="200px",l.style.minWidth="400px",l.style.maxWidth="100%";const c=l.getContext("2d"),a=function(e,t,l){if(e.values){const{noDataValue:i,mins:n,ranges:c,values:a}=e,r=a.length,d=e.width/t,s=e.height/l,m=new Uint8ClampedArray(t*l*4);for(let e=0;e<l;e++)for(let l=0;l<t;l++){const Z=Math.round(e*s),o=Math.round(l*d),u=a.map((e=>{try{return e[Z][o]}catch(e){console.error(e)}}));if(u.every((e=>void 0!==e&&e!==i))){const i=e*(4*t)+4*l;if(1===r){const e=Math.round(u[0]),t=Math.round((e-n[0])/c[0]*255);m[i]=t,m[i+1]=t,m[i+2]=t,m[i+3]=255}else if(3===r)try{const[e,t,l]=u;m[i]=e,m[i+1]=t,m[i+2]=l,m[i+3]=255}catch(e){console.error(e)}else if(4===r)try{const[e,t,l,n]=u;m[i]=e,m[i+1]=t,m[i+2]=l,m[i+3]=n}catch(e){console.error(e)}}}return new ImageData(m,t,l)}}(e,n,i);return c.putImageData(a,0,0),l}}function u(e,t){const{left:l,top:i,right:n,bottom:c,width:a,height:r,resampleMethod:d}=t;return e.readRasters({window:[l,i,n,c],width:a,height:r,resampleMethod:d||"bilinear"}).then((e=>e.map((e=>s(e,{height:r,width:a})))))}class b{constructor(e,t,l){l&&console.log("starting GeoRaster.constructor with",e,t),this._web_worker_is_available="undefined"!=typeof window&&"undefined"!==window.Worker,this._blob_is_available="undefined"!=typeof Blob,this._url_is_available="undefined"!=typeof URL,"object"==typeof e&&e.constructor&&"Buffer"===e.constructor.name&&!1===Buffer.isBuffer(e)&&(e=new Buffer(e)),"string"==typeof e?(l&&console.log("data is a url"),this._data=e,this._url=e,this.rasterType="geotiff",this.sourceType="url"):"undefined"!=typeof Blob&&e instanceof Blob?(this._data=e,this.rasterType="geotiff",this.sourceType="Blob"):"undefined"!=typeof Buffer&&Buffer.isBuffer(e)?(l&&console.log("data is a buffer"),this._data=e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength),this.rasterType="geotiff",this.sourceType="Buffer"):e instanceof ArrayBuffer?(this._data=e,this.rasterType="geotiff",this.sourceType="ArrayBuffer"):Array.isArray(e)&&t&&(this._data=e,this.rasterType="object",this._metadata=t),l&&console.log("this after construction:",this)}preinitialize(e){if(e&&console.log("starting preinitialize"),this._url){const t=this._url+".ovr";return function(e){try{return fetch(e,{method:"HEAD"}).then((e=>200===e.status)).catch((e=>!1))}catch(e){return Promise.resolve(!1)}}(t).then((l=>(e&&console.log("overview exists:",l),l?r.exports.fromUrls(this._url,[t],{cache:!0,forceXHR:!1}):r.exports.fromUrl(this._url,{cache:!0,forceXHR:!1}))))}return Promise.resolve()}initialize(e){return this.preinitialize(e).then((t=>new Promise(((l,i)=>{if(e&&console.log("starting GeoRaster.initialize"),e&&console.log("this",this),"object"===this.rasterType||"geotiff"===this.rasterType||"tiff"===this.rasterType)if(this._web_worker_is_available){const i=new a;i.onmessage=i=>{e&&console.log("main thread received message:",i);const n=i.data;for(const e in n)this[e]=n[e];this._url&&(this._geotiff=t,this.getValues=function(e){return u(this._geotiff,e)}),this.toCanvas=function(e){return o(this,e)},l(this)},e&&console.log("about to postMessage"),this._data instanceof ArrayBuffer?i.postMessage({data:this._data,rasterType:this.rasterType,sourceType:this.sourceType,metadata:this._metadata},[this._data]):i.postMessage({data:this._data,rasterType:this.rasterType,sourceType:this.sourceType,metadata:this._metadata})}else e&&console.log("web worker is not available"),Z({data:this._data,rasterType:this.rasterType,sourceType:this.sourceType,metadata:this._metadata},e).then((i=>{e&&console.log("result:",i),this._url&&(i._geotiff=t,i.getValues=function(e){return u(this._geotiff,e)}),i.toCanvas=function(e){return o(this,e)},l(i)})).catch(i);else i("couldn't find a way to parse")}))))}}e.parseGeoraster=(e,t,l)=>{if(l&&console.log("starting parseGeoraster with ",e,t),void 0===e){throw Error("[Georaster.parseGeoraster] Error. You passed in undefined to parseGeoraster. We can't make a raster out of nothing!")}return new b(e,t,l).initialize(l)},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=georaster.browser.bundle.min.js.map
